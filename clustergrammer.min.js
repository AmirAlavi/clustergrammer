var Clustergrammer=function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";function n(t){function e(){d3.select(S.params.viz.viz_svg).style("opacity",.5);var t=500;this.params.viz.run_trans===!0&&(t=2500),setTimeout(n,t,this)}function n(t){s(t)}function N(t){p(this,t)}function z(t,e,r){m(this,t,e,r)}function A(){return _}function E(t,e){"sum"===e&&(e="rank"),"var"===e&&(e="rankvar"),x(this,e,t)}function M(){return w(this.params)}var O=i(t),S={};if(S.params=o(O),S.config=O,S.params.zoom_behavior=d3.behavior.zoom().scaleExtent([1,S.params.viz.square_zoom*S.params.viz.zoom_ratio.x]).on("zoom",function(){y(S)}),S.params.zoom_behavior.translate([S.params.viz.clust.margin.left,S.params.viz.clust.margin.top]),S.params.use_sidebar){var k=r(747);k(S)}return a(S),S.update_view=h,S.resize_viz=e,S.play_demo=u,S.ini_demo=c,S.filter_viz_using_nodes=l,S.filter_viz_using_names=f,S.update_cats=N,S.reset_cats=d,S.zoom=z,S.save_matrix=v,S.brush_crop_matrix=g,S.d3_tip_custom=A,S.reorder=E,S.export_matrix_string=M,S.fisher=b,S}var i=r(1),o=r(9),a=r(37),s=r(88),u=r(129),c=r(169),l=r(172),f=r(173),p=r(174),d=r(175),m=r(80),h=r(177),v=r(180),g=r(184),y=r(89),_=r(48),x=r(79),w=r(182),b=r(186),N=r(190);console.log(N),d3.slider=r(738);r(740);r(741),r(745),t.exports=n},function(t,e,r){"use strict";var n=r(2),i=r(3),o=r(4),a=r(5),s=r(6),u=r(7),c=r(8);t.exports=function(t){var e=s(),r=n.extend(e,t);r.network_data=t.network_data;var l=": ";_.each(["row","col"],function(t){var e=r.network_data[t+"_nodes"],n=c(e);e.forEach(function(e,i){e[t+"_index"]=i,n&&(r.super_labels=!0,r["super"][t]=e.name.split(l)[0],e.name=e.name.split(l)[1]),e.name=String(e.name),e.name=e.name.replace(/_/g," ")})}),r.network_data.row_nodes_names=n.pluck(r.network_data.row_nodes,"name"),r.network_data.col_nodes_names=n.pluck(r.network_data.col_nodes,"name"),r.sim_mat=u(r);var f=o(r.network_data.views),p={};_.each(_.keys(f.possible_filters),function(t){var e=a(f.filter_data,t);p[t]=e}),_.has(r.network_data,"views")&&r.network_data.views.forEach(function(t){_.each(_.keys(f.possible_filters),function(e){_.has(t,e)||(t[e]=p[e])});var e=t.nodes;_.each(["row","col"],function(t){var r=c(e[t+"_nodes"]);e[t+"_nodes"].forEach(function(e,n){e[t+"_index"]=n,r&&(e.name=e.name.split(l)[1]),e.name=String(e.name),e.name=e.name.replace(/_/g," ")})})});var d=r.network_data.col_nodes,m=r.network_data.row_nodes;if(_.has(r.network_data,"mat")){for(var h=[],v=r.network_data.mat,g={},y=0;y<v.length;y++)for(var x=0;x<v[0].length;x++)g={},g.source=y,g.target=x,g.value=v[y][x],h.push(g);r.network_data.links=h}if(r.network_data.links.forEach(function(t){t.name=m[t.source].name+"_"+d[t.target].name,t.row_name=m[t.source].name,t.col_name=d[t.target].name}),r.transpose){r.network_data=i(r.network_data);var w=t.col_label,b=t.row_label;t.row_label=w,t.col_label=b}n.is_undefined(t.row_label)||n.is_undefined(t.col_label)||(r.super_labels=!0,r["super"]={},r["super"].row=t.row_label,r["super"].col=t.col_label),r.inst_order={},!n.is_undefined(t.order)&&n.is_supported_order(t.order)?(r.inst_order.row=t.order,r.inst_order.col=t.order):(r.inst_order.row="clust",r.inst_order.col="clust"),!n.is_undefined(t.row_order)&&n.is_supported_order(t.row_order)&&(r.inst_order.col=t.row_order),!n.is_undefined(t.col_order)&&n.is_supported_order(t.col_order)&&(r.inst_order.row=t.col_order);var N=n.has(r.network_data.row_nodes[0],"group"),z=n.has(r.network_data.col_nodes[0],"group");return r.show_dendrogram=N||z,n.has(r.network_data.links[0],"value_orig")?r.keep_orig=!0:r.keep_orig=!1,r}},function(t,e){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};t.exports={normal_name:function(t){var e=t.name.replace(/_/g," ").split("#")[0];return e},is_supported_order:function(t){return"ini"===t||"clust"===t||"rank_var"===t||"rank"===t||"class"===t||"alpha"==t},has:function(t,e){return null!=t&&hasOwnProperty.call(t,e)},property:function(t){return function(e){return null==e?void 0:e[t]}},pluck:function(t,e){var r=this;if(window._){if("function"==typeof _.pluck)return _.pluck(t,e);if("function"==typeof _.map)return _.map(t,r.property(e))}else if(t.map&&"function"==typeof t.map)return t.map(r.property(e))},is_undefined:function(t){return void 0===t},extend:function(t,e){t=t||{};for(var n in e)"object"===r(e[n])?t[n]=this.extend(t[n],e[n]):t[n]=e[n];return t}}},function(t,e,r){"use strict";var n=r(2);t.exports=function(t){var e,r,i={};for(i.row_nodes=t.col_nodes,i.col_nodes=t.row_nodes,i.links=[],r=0;r<t.links.length;r++)e={},e.source=t.links[r].target,e.target=t.links[r].source,e.value=t.links[r].value,n.has(t.links[r],"highlight")&&(e.highlight=t.links[r].highlight),n.has(t.links[r],"value_up")&&(e.value_up=t.links[r].value_up),n.has(t.links[r],"value_dn")&&(e.value_dn=t.links[r].value_dn),n.has(t.links[r],"info")&&(e.info=t.links[r].info),i.links.push(e);return i}},function(t,e){"use strict";t.exports=function(t){var e={},r={};_.each(t,function(t){var e=_.keys(t);_.each(e,function(e){"nodes"!=e&&(_.has(r,e)||(r[e]=[]),r[e].push(t[e]),r[e]=_.uniq(r[e]))})});var n=_.keys(r);_.each(n,function(t){var n=r[t],i=n.length,o="categorical";_.each(n,function(t){"number"==typeof t&&(o="numerical")}),i>1&&(e[t]=o)});var i={};return i.possible_filters=e,i.filter_data=r,i}},function(t,e){"use strict";t.exports=function(t,e){var r=t[e].sort(function(t,e){return e-t})[0];return r=String(r)}},function(t,e){"use strict";t.exports=function(){var t={row_label_scale:1,col_label_scale:1,super_labels:!1,"super":{},show_label_tooltips:!0,show_tile_tooltips:!0,transpose:!1,tile_colors:["#FF0000","#1C86EE"],bar_colors:["#FF0000","#1C86EE"],cat_value_colors:["#2F4F4F","#9370DB"],outline_colors:["orange","black"],highlight_color:"#FFFF00",tile_title:!1,input_domain:0,opacity_scale:"linear",do_zoom:!0,is_zoom:0,is_slider_drag:!1,is_cropping:!1,background_color:"#FFFFFF",super_border_color:"#F5F5F5",outer_margins:{top:0,bottom:0,left:0,right:0},ini_expand:!1,grey_border_width:2,tile_click_hlight:!1,super_label_scale:1,make_tile_tooltip:function(t){return t.info},ini_view:null,requested_view:null,use_sidebar:!0,title:null,about:null,sidebar_width:160,sidebar_icons:!0,row_search_placeholder:"Row",buffer_width:10,show_sim_mat:!1,cat_colors:null,resize:!0,clamp_opacity:.85,expand_button:!0,max_allow_fs:20,dendro_filter:{row:!1,col:!1},cat_filter:{row:!1,col:!1},crop_filter_nodes:{row:!1,col:!1},row_tip_callback:null,col_tip_callback:null,tile_tip_callback:null,matrix_update_callback:null,cat_update_callback:null,dendro_callback:null,dendro_click_callback:null,new_row_cats:null,make_modals:!0,show_viz_border:!1};return t}},function(t,e){"use strict";t.exports=function(t){var e=!1,r=t.network_data.row_nodes_names.length,n=t.network_data.col_nodes_names.length;if(r==n){var i=t.network_data.row_nodes_names,o=t.network_data.col_nodes_names;e=!0,_.each(i,function(t){var r=i.indexOf(t);t!==o[r]&&(e=!1)})}return e&&(t.expand_button=!1),e}},function(t,e){"use strict";t.exports=function(t){var e=": ",r=!0;return _.each(t,function(t){var n=String(t.name);n.indexOf(e)<0&&(r=!1)}),r}},function(t,e,r){"use strict";var n=r(10),i=r(13),o=r(14),a=r(4),s=r(15),u=r(36);t.exports=function(t){var e=$.extend(!0,{},t),r=e;if(r.inst_nodes={},r.inst_nodes.row_nodes=r.network_data.row_nodes,r.inst_nodes.col_nodes=r.network_data.col_nodes,null!==r.ini_view){var c=r.ini_view,l=a(r.network_data.views);r.viz={},r.viz.possible_filters=l.possible_filters,r.viz.filter_data=l.filter_data,c=o(r,c),r.network_data=n(e,r,c),r.requested_view=c}return r=s(r),r.use_sidebar&&(r.sidebar=i(r)),r.zoom_info=u(),r}},function(t,e,r){"use strict";var n=r(11),i=r(12);t.exports=function(t,e,r){var o=t.network_data.views,a=!1;_.has(o[0],"enr_score_type")&&(a=!0);var s=i(e,o,r);a&&0==s.length&&(r={N_row_sum:"all",N_col_sum:"10"},s=i(e,o,r));var u,c=s[0];if("undefined"!=typeof c){var l=c.nodes;u=n(t,l)}else u=t.network_data;return u}},function(t,e,r){"use strict";var n=r(2);t.exports=function(t,e){var r=t.network_data.links,i=n.pluck(e.row_nodes,"name"),o=n.pluck(e.col_nodes,"name"),a=_.filter(r,function(t){var e=t.name.split("_")[0],r=t.name.split("_")[1],n=_.indexOf(i,e),a=_.indexOf(o,r);if(n>-1&a>-1)return t.source=n,t.target=a,t}),s={};return s.row_nodes=e.row_nodes,s.row_nodes_names=i,s.col_nodes=e.col_nodes,s.col_nodes_names=o,s.links=a,s.all_links=r,s.views=t.network_data.views,_.has(t.network_data,"cat_colors")&&(s.cat_colors=t.network_data.cat_colors),s}},function(t,e,r){"use strict";var n=r(2),i=r(5);t.exports=function(t,e,r){var o,a,s=_.keys(r);_.each(s,function(t){o=r[t],/[^a-z_]/i.test(o)&&(o=parseInt(o,10)),a=!1,_.each(e,function(e){n.has(e,t)&&(a=!0)}),a&&(e=_.filter(e,function(e){return e[t]==o}))});var u,c,l=[],f=!1;return _.each(e,function(e){u=!0,_.each(_.keys(t.viz.possible_filters),function(r){c=i(t.viz.filter_data,r),e[r]!=c&&(u=!1)}),u?f===!1&&(f=!0,l.push(e)):l.push(e)}),l}},function(t,e){"use strict";t.exports=function(t){var e={};return e.wrapper={},e.row_search={},e.row_search.box={},e.row_search.box.height=34,e.row_search.box.width=95,e.row_search.placeholder=t.row_search_placeholder,e.row_search.margin_left=7,e.slider={},e.slider.width=t.sidebar_width-30,e.slider.margin_left=15,e.key_cat={},e.key_cat.width=t.sidebar_width-15,e.key_cat.margin_left=5,e.key_cat.max_height=100,e.title=t.title,e.title_margin_left=7,e.about=t.about,e.width=t.sidebar_width,e.buttons={},e.buttons.width=t.sidebar_width-15,e.text={},e.icons=t.sidebar_icons,e.icon_margin_left=-5,e}},function(t,e){"use strict";t.exports=function(t,e){var r=_.keys(e)[0];return _.each(_.keys(t.viz.possible_filters),function(n){if(n!=r&&!d3.select(t.root+" .slider_"+n).empty()){var i=d3.select(t.root+" .slider_"+n).attr("current_state");e[n]=i}}),e}},function(t,e,r){"use strict";var n=r(16),i=r(17),o=r(19),a=r(20),s=r(21),u=r(22),c=r(23),l=r(24),f=r(29),p=r(31),d=r(2),m=r(4),h=r(32);t.exports=function(t){function e(t){var e=arguments.length<=1||void 0===arguments[1]||arguments[1],r={};r.root=t.root,r.root_tips=t.root.replace("#",".")+"_d3-tip",r.viz_wrapper=t.root+" .viz_wrapper",r.do_zoom=t.do_zoom,r.background_color=t.background_color,r.super_border_color=t.super_border_color,r.outer_margins=t.outer_margins,r.is_expand=t.ini_expand,r.grey_border_width=t.grey_border_width,r.show_dendrogram=t.show_dendrogram,r.tile_click_hlight=t.tile_click_hlight,r.inst_order=t.inst_order,r.expand_button=t.expand_button,r.sim_mat=t.sim_mat,r.dendro_filter=t.dendro_filter,r.cat_filter=t.cat_filter,r.cat_value_colors=t.cat_value_colors,r.viz_svg=r.viz_wrapper+" .viz_svg",r.zoom_element=r.viz_wrapper+" .viz_svg",r.uni_duration=1e3,r.bottom_space=10,r.run_trans=!1,r.duration=1e3,r.resize=t.resize,d.has(t,"size")?r.fixed_size=t.size:r.fixed_size=!1,r.border_fraction=65,r.uni_margin=5,r.super_labels={},r.super_labels.margin={},r.super_labels.dim={},r.super_labels.margin.left=r.grey_border_width,r.super_labels.margin.top=r.grey_border_width,r.super_labels.dim.width=0,t.labels.super_labels&&(r.super_labels.dim.width=15*t.labels.super_label_scale),r.triangle_opacity=.6,r.norm_labels={},r.norm_labels.width={},r.dendro_room={},r.show_dendrogram?r.dendro_room.symbol_width=10:r.dendro_room.symbol_width=0,r.cat_colors=t.cat_colors,r=h(t,r,e),0==_.has(t,"group_level")&&(r.show_dendrogram&&(t.group_level={}),t.group_level.row=5,t.group_level.col=5),r.dendro_opacity=.35,r.spillover_col_slant=r.norm_labels.width.col;var n=m(t.network_data.views);return r.possible_filters=n.possible_filters,r.filter_data=n.filter_data,r.viz_nodes={},r.viz_nodes.row=t.network_data.row_nodes_names,r.viz_nodes.col=t.network_data.col_nodes_names,r.viz_nodes.curr_row=t.network_data.row_nodes_names,r.viz_nodes.curr_col=t.network_data.col_nodes_names,r.x_offset=0,r}var r=arguments.length<=1||void 0===arguments[1]||arguments[1];return t.labels=n(t),t.viz=e(t,r),i(t),t=o(t),t.viz=a(t.viz),t.viz=s(t.viz),t.viz=u(t.viz),t.sim_mat&&(t.viz.clust.dim.width<=t.viz.clust.dim.height?t.viz.clust.dim.height=t.viz.clust.dim.width:t.viz.clust.dim.width=t.viz.clust.dim.height),t=c(t),t=l(t),t=f(t),t=p(t)}},function(t,e){"use strict";t.exports=function(t){var e={};return e.super_label_scale=t.super_label_scale,e.super_labels=t.super_labels,e.super_label_fs=13.8,e.super_labels&&(e["super"]={},e["super"].row=t["super"].row,e["super"].col=t["super"].col),e.show_label_tooltips=t.show_label_tooltips,e.row_max_char=_.max(t.network_data.row_nodes,function(t){return t.name.length}).name.length,e.col_max_char=_.max(t.network_data.col_nodes,function(t){return t.name.length}).name.length,e.max_allow_fs=t.max_allow_fs,e}},function(t,e,r){"use strict";var n=r(18);t.exports=function(t){d3.select(t.root+" .viz_wrapper").empty()&&(d3.select(t.root).append("div").classed("sidebar_wrapper",!0),d3.select(t.root).append("div").classed("viz_wrapper",!0));var e=n(t);d3.select(t.root+" .sidebar_wrapper").style("float","left").style("width",t.sidebar_width+"px").style("height",e.height+"px").style("overflow","hidden"),d3.select(t.viz.viz_wrapper).style("float","left").style("width",e.width+"px").style("height",e.height+"px")}},function(t,e){"use strict";t.exports=function(t){var e,r={},n=t.buffer_width,i=d3.select(t.root).style("width").replace("px",""),o=d3.select(t.root).style("height").replace("px","");return t.viz.is_expand===!1?(e=t.viz.outer_margins,r.width=i-t.sidebar_width-n):(e=t.viz.outer_margins,r.width=i-n),r.top=e.top,r.left=e.left,t.viz.resize?r.height=o:(t.viz.is_expand?r.width=t.viz.fixed_size.width:r.width=t.viz.fixed_size.width-t.sidebar_width,r.height=t.viz.fixed_size.height),r}},function(t,e){"use strict";t.exports=function(t){return t.viz.svg_dim={},t.viz.svg_dim.width=Number(d3.select(t.viz.viz_wrapper).style("width").replace("px","")),t.viz.svg_dim.height=Number(d3.select(t.viz.viz_wrapper).style("height").replace("px","")),t}},function(t,e){"use strict";t.exports=function(t){return t.norm_labels.margin={},t.norm_labels.margin.left=t.super_labels.margin.left+t.super_labels.dim.width,t.norm_labels.margin.top=t.super_labels.margin.top+t.super_labels.dim.width,t.label_background={},t.label_background.row=t.norm_labels.width.row+t.cat_room.row+t.uni_margin,t.label_background.col=t.norm_labels.width.col+t.cat_room.col+t.uni_margin,t}},function(t,e){"use strict";t.exports=function(t){t.clust={},t.clust.margin={},t.clust.margin.left=t.norm_labels.margin.left+t.norm_labels.width.row+t.cat_room.row+t.uni_margin,t.clust.margin.top=t.norm_labels.margin.top+t.norm_labels.width.col+t.cat_room.col+t.uni_margin;var e=t.svg_dim.width-t.clust.margin.left-t.spillover_col_slant,r=d3.scale.ordinal().rangeBands([0,e]).domain(_.range(t.num_col_nodes)),n=r.rangeBand()/2;if(n>t.norm_labels.width.col){var i=t.norm_labels.width.col/n;e*=i}return t.clust.dim={},t.clust.dim.width=e,t}},function(t,e){"use strict";t.exports=function(t){var e=t.svg_dim.height-t.clust.margin.top-t.dendro_room.col-t.bottom_space;return t.clust.dim.height=e,t}},function(t,e){"use strict";t.exports=function(t){var e=Math.abs(_.max(t.network_data.col_nodes,function(t){return Math.abs(t.value)}).value);return t.labels.bar_scale_col=d3.scale.linear().domain([0,e]).range([0,.75*t.viz.norm_labels.width.col]),e=Math.abs(_.max(t.network_data.row_nodes,function(t){return Math.abs(t.value)}).value),t.labels.bar_scale_row=d3.scale.linear().domain([0,e]).range([0,t.viz.norm_labels.width.row]),t}},function(t,e,r){"use strict";var n=r(25),i=r(27);t.exports=function(t){t.matrix=n(t),t.viz.x_scale=d3.scale.ordinal().rangeBands([0,t.viz.clust.dim.width]),t.viz.y_scale=d3.scale.ordinal().rangeBands([0,t.viz.clust.dim.height]);var e;return _.each(["row","col"],function(r){e=t.viz.inst_order[r],"custom"===e&&(e="clust"),"row"===r?t.viz.x_scale.domain(t.matrix.orders[e+"_"+r]):t.viz.y_scale.domain(t.matrix.orders[e+"_"+r])}),t.viz.border_width={},t.viz.border_width.x=t.viz.x_scale.rangeBand()/t.viz.border_fraction,t.viz.border_width.y=t.viz.y_scale.rangeBand()/t.viz.border_fraction,t.viz.rect_width=t.viz.x_scale.rangeBand()-t.viz.border_width.x,t.viz.rect_height=t.viz.y_scale.rangeBand()-t.viz.border_width.y,i(t),t}},function(t,e,r){"use strict";var n=r(2),i=r(26);t.exports=function(t){var e={},r=t.network_data;e.tile_colors=t.tile_colors,e.bar_colors=t.bar_colors,e.outline_colors=t.outline_colors,e.hlight_color=t.highlight_color,e.tile_title=t.tile_title,e.show_tile_tooltips=t.show_tile_tooltips,e.make_tile_tooltip=t.make_tile_tooltip,e.click_hlight_x=-666,e.click_hlight_y=-666,e.click_hlight_row=-666,e.click_hlight_col=-666,e.def_large_matrix=1e4,e.opacity_function=t.opacity_scale,e.orders={},_.each(["row","col"],function(i){var o;o="row"===i?"col":"row";var a=r[o+"_nodes"],s=a.length,u=n.pluck(a,"name"),c=u.sort(),l=_.map(c,function(t){return r[o+"_nodes_names"].indexOf(t)});e.orders["alpha_"+i]=l;var f=["clust","rank"];_.has(a[0],"rankvar")&&f.push("rankvar"),t.viz.all_cats[o].length>0&&_.each(t.viz.all_cats[o],function(t){t=t.replace("-","_"),f.push(t+"_index")}),_.each(f,function(t){var r=d3.range(s).sort(function(e,r){return a[r][t]-a[e][t]});e.orders[t+"_"+i]=r})}),n.has(r,"all_links")?e.max_link=_.max(r.all_links,function(t){return Math.abs(t.value)}).value:e.max_link=_.max(r.links,function(t){return Math.abs(t.value)}).value,e.abs_max_val=Math.abs(e.max_link)*t.clamp_opacity,0===t.input_domain?"linear"===e.opacity_function?e.opacity_scale=d3.scale.linear().domain([0,e.abs_max_val]).clamp(!0).range([0,1]):"log"===e.opacity_function&&(e.opacity_scale=d3.scale.log().domain([.001,e.abs_max_val]).clamp(!0).range([0,1])):"linear"===e.opacity_function?e.opacity_scale=d3.scale.linear().domain([0,t.input_domain]).clamp(!0).range([0,1]):"log"===e.opacity_function&&(e.opacity_scale=d3.scale.log().domain([.001,t.input_domain]).clamp(!0).range([0,1]));var o=n.has(r.links[0],"value_up"),a=n.has(r.links[0],"value_dn");return o||a?e.tile_type="updn":e.tile_type="simple",n.has(r.links[0],"highlight")?e.highlight=1:e.highlight=0,e.matrix=i(r),e.wait_tooltip=0,e}},function(t,e,r){"use strict";var n=r(2);t.exports=function(t){var e,r,i=[];return r=!!n.has(t.links[0],"value_orig"),t.row_nodes.forEach(function(o,a){i[a]={},i[a].name=t.row_nodes[a].name,i[a].row_index=a,i[a].row_data=d3.range(t.col_nodes.length).map(function(i){return e=n.has(t.links[0],"value_up")||n.has(t.links[0],"value_dn")?{pos_x:i,pos_y:a,value:0,value_up:0,value_dn:0,highlight:0}:{pos_x:i,pos_y:a,value:0,highlight:0},r&&(e.value_orig=0),e})}),t.links.forEach(function(t){i[t.source].row_data[t.target].value=t.value,i[t.source].row_data[t.target].row_name=t.row_name,i[t.source].row_data[t.target].col_name=t.col_name,(n.has(t,"value_up")||n.has(t,"value_dn"))&&(i[t.source].row_data[t.target].value_up=t.value_up,i[t.source].row_data[t.target].value_dn=t.value_dn),r&&(i[t.source].row_data[t.target].value_orig=t.value_orig),t.highlight&&(i[t.source].row_data[t.target].highlight=t.highlight),t.info&&(i[t.source].row_data[t.target].info=t.info)}),i}},function(t,e,r){"use strict";var n=r(28);t.exports=function(t){var e=3,r=2,i=e/t.viz.rect_height,o=2;t.viz.ds_zt=o;var a=Math.floor(Math.log(i)/Math.log(o));if(t.viz.rect_height<r&&a>0){var s=2;t.viz.ds_opacity_scale=d3.scale.linear().domain([1,100]).range([1,s]).clamp(!0);var u;t.viz.ds_num_levels=a,t.viz.ds=[],t.matrix.ds_matrix=[];for(var c=t.viz.inst_order.row,l=$.extend(!0,{},t.matrix.matrix),f=0;f<a;f++){t.viz.ds_level=0,u={},u.height=e,u.num_levels=a;var p=Math.pow(o,f);u.zt=p,u.num_rows=Math.round(t.viz.clust.dim.height/(u.height/p)),u.x_scale=d3.scale.ordinal().rangeBands([0,t.viz.clust.dim.width]),u.x_scale.domain(t.matrix.orders[c+"_row"]),u.y_scale=d3.scale.ordinal().rangeBands([0,t.viz.clust.dim.height]),u.y_scale.domain(d3.range(u.num_rows+1)),u.rect_height=u.y_scale.rangeBand()-t.viz.border_width.y,t.viz.ds.push(u);var d=n(t,l,f);t.matrix.ds_matrix.push(d)}t.viz.viz_nodes.row=d3.range(t.matrix.ds_matrix[0].length).map(String)}else t.viz.ds=null,t.viz.ds_level=-1,t.viz.ds_num_levels=0}},function(t,e){"use strict";t.exports=function(t,e,r){var n,i,o,a=t.viz.ds[r].num_rows,s=t.network_data.row_nodes.length/a,u=t.viz.ds_opacity_scale(s),c=t.viz.clust.dim.height/a,l=[],f=a+1;for(i=0;i<f;i++)n={},n.row_index=i,n.name=String(i),n.all_names=[],l.push(n);_.each(e,function(e){var r=t.viz.y_scale(e.row_index),n=Math.round(r/c),i=e.row_data;if(l[n].all_names.push(e.name),_.has(l[n],"row_data"))for(o=0;o<i.length;o++)l[n].row_data[o].value=l[n].row_data[o].value+i[o].value;else{var a=[];for(o=0;o<i.length;o++)a[o]=i[o];l[n].row_data=a}}),_.each(l,function(t){var e=t.row_data,r=t.all_names.length;_.each(e,function(t){t.value=t.value/r*u})});var p=[];return _.each(l,function(t){p=p.concat(t.all_names)}),l}},function(t,e,r){"use strict";var n=r(30);t.exports=function(t){t.viz.zoom_scale_font={},t.viz.zoom_scale_font.row=1,t.viz.zoom_scale_font.col=1;var e=.75,r=t.viz.x_scale.rangeBand()/2;return t.viz.square_zoom=t.viz.norm_labels.width.col/r*e,t.viz=n(t.viz),t}},function(t,e){"use strict";t.exports=function(t){var e=t.clust.dim.width/t.num_col_nodes,r=t.clust.dim.height/t.num_row_nodes;return t.zoom_ratio={},t.zoom_ratio.x=e/r,t.zoom_ratio.y=1,t.zoom_ratio.x<1&&(t.zoom_ratio.y=1/t.zoom_ratio.x,t.zoom_ratio.x=1),t}},function(t,e){"use strict";t.exports=function(t){return t.labels.default_fs_row=1.01*t.viz.y_scale.rangeBand(),t.labels.default_fs_col=.87*t.viz.x_scale.rangeBand(),t.labels.default_fs_row>t.labels.max_allow_fs&&(t.labels.default_fs_row=t.labels.max_allow_fs),t.labels.default_fs_col>t.labels.max_allow_fs&&(t.labels.default_fs_col=t.labels.max_allow_fs),t}},function(t,e,r){"use strict";var n=r(33),i=r(2),o=r(34),a=r(35);t.exports=function(t,e){var r,s,u,c=arguments.length<=2||void 0===arguments[2]||arguments[2],l=": ";e.show_categories={},e.all_cats={},e.cat_names={},e.cat_info={};var f={};f.row=null,f.col=null,e.cat_colors={},e.cat_colors.value_opacity=f;var p=0;return _.each(["row","col"],function(n){e.show_categories[n]=!1,e.all_cats[n]=[];var f=_.keys(t.network_data[n+"_nodes"][0]);f=f.sort(),_.each(f,function(t){t.indexOf("cat-")>=0&&(e.show_categories[n]=!0,e.all_cats[n].push(t))}),e.cat_info[n]=null,e.show_categories[n]&&(e.cat_colors[n]={},e.cat_info[n]={},e.cat_names[n]={},_.each(e.all_cats[n],function(c){var f=t.network_data[n+"_nodes"][0];"string"==typeof f[c]&&f[c].indexOf(l)>0?(r=f[c].split(l)[0],e.cat_names[n][c]=r):e.cat_names[n][c]=c;var d=i.pluck(t.network_data[n+"_nodes"],c),m=_.uniq(d).sort();if(s=a(m),"cat_strings"===s.type){var h=_.countBy(d);s.cat_hist=h}else s.cat_hist=null;e.cat_info[n][c]=s,e.cat_colors[n][c]={},_.each(m,function(t,r){u=o.get_random_color(r+p),e.cat_colors[n][c][t]=u,"string"==typeof t&&(t.indexOf("Not ")>=0||t.indexOf(": false")>0)&&(e.cat_colors[n][c][t]="#eee"),p+=1})})),_.has(t.network_data,"cat_colors")&&c===!0&&(e.cat_colors[n]=t.network_data.cat_colors[n]),t.sim_mat&&(e.cat_colors.col=e.cat_colors.row)}),e.cat_colors=e.cat_colors,e.cat_colors.opacity=.6,e.cat_colors.active_opacity=.9,e=n(t,e)}},function(t,e){"use strict";t.exports=function(t,e){var r,n=d3.scale.linear().domain([5,15]).range([85,120]).clamp("true");return e.cat_room={},e.cat_room.symbol_width=12,e.cat_room.separation=3,_.each(["row","col"],function(i){e.norm_labels.width[i]=n(t.labels[i+"_max_char"])*t[i+"_label_scale"],e["num_"+i+"_nodes"]=t.network_data[i+"_nodes"].length,"row"===i?e.dendro_room[i]=e.dendro_room.symbol_width:e.dendro_room[i]=e.dendro_room.symbol_width+3*e.uni_margin;var o=e.all_cats[i].length;if(e.show_categories[i]){r=(o-1)*e.cat_room.separation;var a;a="row"===i?o+1:o,e.cat_room[i]=a*e.cat_room.symbol_width+r}else"row"==i?e.cat_room[i]=e.cat_room.symbol_width:e.cat_room[i]=0}),e}},function(t,e){"use strict";function r(){return"#EEE"}function n(t){return o[t%i()]}function i(){return o.length}var o;o=["#393b79","#aec7e8","#ff7f0e","#ffbb78","#98df8a","#bcbd22","#404040","#ff9896","#c5b0d5","#8c564b","#1f77b4","#5254a3","#FFDB58","#c49c94","#e377c2","#7f7f7f","#2ca02c","#9467bd","#dbdb8d","#17becf","#637939","#6b6ecf","#9c9ede","#d62728","#8ca252","#8c6d31","#bd9e39","#e7cb94","#843c39","#ad494a","#d6616b","#7b4173","#a55194","#ce6dbd","#de9ed6"],t.exports={get_default_color:r,get_random_color:n,get_num_colors:i}},function(t,e){"use strict";t.exports=function(t){var e=t[0],r=!1,n=!1,i="cat_strings",o=NaN,a=[],s=null,u=": ";if("string"==typeof e&&e.indexOf(u)>-1&&(r=!0,e=e.split(u)[1]),0==isNaN(e)&&(n=!0),n&&(i="cat_values",_.each(t,function(t){r&&(t=t.split(u)[1]),isNaN(t)===!0?i="cat_strings":(t=parseFloat(t),a.push(t))})),"cat_values"===i){var c=_.max(a,function(t){return Math.abs(t)});o=Math.abs(c),s=d3.scale.linear().domain([0,o]).range([0,1])}var l={};return l.type=i,l.max_abs_val=o,l.cat_scale=s,l}},function(t,e){"use strict";t.exports=function(){var t={};return t.zoom_x=1,t.zoom_y=1,t.trans_x=0,t.trans_y=0,t}},function(t,e,r){"use strict";var n=r(38),i=r(49),o=r(67),a=r(75),s=r(76),u=r(87),c=r(97),l=r(116),f=r(122),p=r(82),d=r(123),m=r(124),h=r(125),v=r(128);t.exports=function(t){function e(){var t=r.viz.super_border_color;return(r.viz.is_expand||0==r.show_viz_border)&&(t="white"),t}var r=t.params;d3.select(r.viz.viz_wrapper+" svg").remove();var g=d3.select(r.viz.viz_wrapper).append("svg").attr("class","viz_svg").attr("id","svg_"+r.root.replace("#","")).attr("width",r.viz.svg_dim.width).attr("height",r.viz.svg_dim.height).attr("is_zoom",0).attr("stopped_zoom",1);g.append("rect").attr("class","super_background").style("width",r.viz.svg_dim.width).style("height",r.viz.svg_dim.height).style("fill","white"),n(r,g),i(t),r.viz.show_dendrogram&&(d(t),m(t)),v(t),o(t),r.viz.ds_level===-1&&_.each(["row","col"],function(t){var e=Number(d3.select("."+t+"_label_group").select("text").style("font-size").replace("px","")),n=8;e>n&&d3.selectAll(r.root+" ."+t+"_label_group").each(function(){p(r,this,t)})}),f(t),r.viz.show_categories.col&&l(t),s(t),r.labels.super_labels&&a(r),h(t),d3.select(r.viz.viz_svg).append("rect").classed("left_border",!0).classed("borders",!0).attr("fill",e).attr("width",r.viz.grey_border_width).attr("height",r.viz.svg_dim.height).attr("transform","translate(0,0)"),d3.select(r.viz.viz_svg).append("rect").classed("right_border",!0).classed("borders",!0).attr("fill",e).attr("width",r.viz.grey_border_width).attr("height",r.viz.svg_dim.height).attr("transform",function(){var t=r.viz.svg_dim.width-r.viz.grey_border_width;return"translate("+t+",0)"}),d3.select(r.viz.viz_svg).append("rect").classed("top_border",!0).classed("borders",!0).attr("fill",e).attr("width",r.viz.svg_dim.width).attr("height",r.viz.grey_border_width).attr("transform",function(){var t=0;return"translate("+t+",0)"}),d3.select(r.viz.viz_svg).append("rect").classed("bottom_border",!0).classed("borders",!0).attr("fill",e).attr("width",r.viz.svg_dim.width).attr("height",r.viz.grey_border_width).attr("transform",function(){var t=r.viz.svg_dim.height-r.viz.grey_border_width;return"translate(0,"+t+")"}),u(t),c(t),r.viz.do_zoom&&d3.select(r.viz.zoom_element).call(r.zoom_behavior),d3.select(r.viz.zoom_element).on("dblclick.zoom",null)}},function(t,e,r){"use strict";var n=r(2),i=r(39),o=r(40),a=r(41);t.exports=function(t,e){var r,s=t.network_data,u=[];r=e.append("g").attr("class","clust_container").attr("transform","translate("+t.viz.clust.margin.left+","+t.viz.clust.margin.top+")").append("g").attr("class","clust_group").classed("clust_group",!0),r.append("rect").classed("background",!0).classed("grey_background",!0).style("fill","#eee").style("opacity",.25).attr("width",t.viz.clust.dim.width).attr("height",t.viz.clust.dim.height),null===t.viz.ds?a(t,t.matrix.matrix,"all",t.viz.ds_level):a(t,t.matrix.ds_matrix[0],"all",t.viz.ds_level),"function"==typeof t.click_tile?d3.selectAll(t.root+" .tile").on("click",function(e){var r={};r.row=t.network_data.row_nodes[e.pos_y].name,r.col=t.network_data.col_nodes[e.pos_x].name,r.value=e.value,n.has(e,"value_up")&&(r.value_up=e.value_up),n.has(e,"value_dn")&&(r.value_dn=e.value_dn),n.has(e,"info")&&(r.info=e.info),t.click_tile(r),o(t,this)}):t.tile_click_hlight&&d3.selectAll(t.root+" .tile").on("click",function(){o(t,this)});var c={},l=0;return c.enter=0,i(t,c,l),{get_clust_group:function(){return r},get_matrix:function(){return u},get_nodes:function(t){return"row"===t?s.row_nodes:s.col_nodes}}}},function(t,e){"use strict";t.exports=function(t,e,r){}},function(t,e){"use strict";t.exports=function(t,e){d3.select(e).each(function(r){var n=r.pos_x,i=r.pos_y;if(d3.selectAll(t.root+" .click_hlight").remove(),n!=t.matrix.click_hlight_x||i!=t.matrix.click_hlight_y){t.matrix.click_hlight_x=n,t.matrix.click_hlight_y=i;var o=6,a=.85,s=o*t.viz.border_width.x,u=o*t.viz.border_width.y;d3.select(e.parentNode).append("rect").classed("click_hlight",!0).classed("top_hlight",!0).attr("width",t.viz.x_scale.rangeBand()).attr("height",u).attr("fill",t.matrix.hlight_color).attr("transform",function(){return"translate("+t.viz.x_scale(n)+",0)"}).attr("opacity",a),d3.select(e.parentNode).append("rect").classed("click_hlight",!0).classed("left_hlight",!0).attr("width",s).attr("height",t.viz.y_scale.rangeBand()-.99*u).attr("fill",t.matrix.hlight_color).attr("transform",function(){return"translate("+t.viz.x_scale(n)+","+.99*u+")"}).attr("opacity",a),d3.select(e.parentNode).append("rect").classed("click_hlight",!0).classed("right_hlight",!0).attr("width",s).attr("height",t.viz.y_scale.rangeBand()-.99*u).attr("fill",t.matrix.hlight_color).attr("transform",function(){var e=t.viz.x_scale(n)+t.viz.x_scale.rangeBand()-s;return"translate("+e+","+.99*u+")"}).attr("opacity",a),d3.select(e.parentNode).append("rect").classed("click_hlight",!0).classed("bottom_hlight",!0).attr("width",function(){return t.viz.x_scale.rangeBand()-1.98*s}).attr("height",u).attr("fill",t.matrix.hlight_color).attr("transform",function(){var e=t.viz.x_scale(n)+.99*s,r=t.viz.y_scale.rangeBand()-u;return"translate("+e+","+r+")"}).attr("opacity",a)}else t.matrix.click_hlight_x=-666,t.matrix.click_hlight_y=-666})}},function(t,e,r){"use strict";var n=r(42),i=r(48);t.exports=function(t,e){var r=arguments.length<=2||void 0===arguments[2]?"all":arguments[2],o=arguments.length<=3||void 0===arguments[3]?-1:arguments[3],a=t.viz.y_scale,s=!0,u="row";if(o>=0&&(a=t.viz.ds[o].y_scale,s=!1,u="ds"+String(o)+"_row"),s)var c=i().attr("class",function(){var e=t.viz.root_tips.replace(".",""),r=e+" d3-tip "+e+"_tile_tip";return r}).style("display","none").direction("nw").offset([0,0]).html(function(e){var r,n=String(e.value.toFixed(3));if(t.keep_orig){var i=String(e.value_orig.toFixed(3));r="<p>"+e.row_name+" and "+e.col_name+"</p><p> normalized value: "+n+"</p><div> original value: "+i+"</div>"}else r="<p>"+e.row_name+" and "+e.col_name+"</p><div> value: "+n+"</div>";return r});else c=null;var l=[];"all"===r?l=e:_.each(e,function(t){_.contains(r,t.name)&&l.push(t)}),d3.select(t.root+" .clust_group").selectAll(".row").data(l,function(t){return t.name}).enter().append("g").classed(u,!0).attr("transform",function(t){return"translate(0,"+a(t.row_index)+")"}).each(function(e){n(t,e,c,this,o)}),t.viz.ds_level===-1&&null!=c&&d3.selectAll(t.root+" .row").call(c)}},function(t,e,r){"use strict";var n=r(43),i=r(44),o=r(45),a=r(46),s=r(47);t.exports=function(t,e,r,u){var c=arguments.length<=4||void 0===arguments[4]?-1:arguments[4],l=e.row_data,f=!0,p=t.viz.rect_height;c>=0&&(p=t.viz.ds[c].rect_height);var d;d=!!_.has(t.network_data.links[0],"value_orig");var m;m=d===!1?_.filter(l,function(t){return 0!==t.value}):l;var h=d3.select(u).selectAll("rect").data(m,function(t){return t.col_name}).enter().append("rect").attr("class","tile row_tile").attr("width",t.viz.rect_width).attr("height",p).style("fill",function(e){var r;return r="NaN"===e.value_orig?"#000000":e.value>0?t.matrix.tile_colors[0]:t.matrix.tile_colors[1];
}).style("fill-opacity",function(e){var r;return r="NaN"===e.value_orig?.175:t.matrix.opacity_scale(Math.abs(e.value))}).attr("transform",function(e){return s(t,e)});if(f&&h.on("mouseover",function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];o(t,this,r,n)}).on("mouseout",function(){a(t,this,r)}),"updn"==t.matrix.tile_type){var v=_.filter(l,function(t){return 0!=t.value_up||0!=t.value_dn});d3.select(u).selectAll(".tile_up").data(v,function(t){return t.col_name}).enter().append("path").attr("class","tile_up").attr("d",function(){return n(t)}).attr("transform",function(e){s(t,e)}).style("fill",function(){return t.matrix.tile_colors[0]}).style("fill-opacity",function(e){var r=0;return Math.abs(e.value_dn)>0&&(r=t.matrix.opacity_scale(Math.abs(e.value_up))),r}).on("mouseover",function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];o(t,this,r,n)}).on("mouseout",function(){a(t,this,r)}),d3.select(u).selectAll(".tile_dn").data(v,function(t){return t.col_name}).enter().append("path").attr("class","tile_dn").attr("d",function(){return i(t)}).attr("transform",function(e){s(t,e)}).style("fill",function(){return t.matrix.tile_colors[1]}).style("fill-opacity",function(e){var r=0;return Math.abs(e.value_up)>0&&(r=t.matrix.opacity_scale(Math.abs(e.value_dn))),r}).on("mouseover",function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];o(t,this,r,n)}).on("mouseout",function(){a(t,this,r)}),h.each(function(t){Math.abs(t.value_up)>0&&Math.abs(t.value_dn)>0&&d3.select(this).remove()})}t.matrix.tile_title&&h.append("title").text(function(t){var e="value: "+t.value;return e})}},function(t,e){"use strict";t.exports=function(t){var e=0,r=t.viz.x_scale.rangeBand()-t.viz.border_width.x,n=0,i=t.viz.y_scale.rangeBand()-t.viz.border_width.y,o="M"+e+","+n+", L"+e+", "+i+", L"+r+",0 Z";return o}},function(t,e){"use strict";t.exports=function(t){var e=0,r=t.viz.x_scale.rangeBand()-t.viz.border_width.x,n=t.viz.y_scale.rangeBand()-t.viz.border_width.y,i=t.viz.y_scale.rangeBand()-t.viz.border_width.y,o="M"+e+", "+n+" ,   L"+r+", "+i+",  L"+r+",0 Z";return o}},function(t,e){"use strict";t.exports=function(t,e,r,n){function i(){if(d3.select(e).classed("hovering")){var n=Number(d3.select(t.root+" .viz_svg").attr("is_zoom"));if(0===n&&t.matrix.show_tile_tooltips&&null!==r&&(d3.selectAll(t.viz.root_tips+"_tile_tip").style("display","block"),r.show.apply(e,s),null!=t.tile_tip_callback)){var i=s[0];t.tile_tip_callback(i)}}}var o,a=n[0],s=[].slice.call(n),u=1e3;d3.select(e).classed("hovering",!0),_.each(["row","col"],function(e){d3.selectAll(t.root+" ."+e+"_label_group text").style("font-weight",function(t){var r,n=a[e+"_name"].replace(/_/g," ")===t.name;return r=n?"bold":"normal"})}),s.push(e),clearTimeout(o),o=setTimeout(i,u,e)}},function(t,e){"use strict";t.exports=function(t,e,r){d3.select(e).classed("hovering",!1),d3.selectAll(t.viz.root_tips+"_tile_tip").style("display","none"),_.each(["row","col"],function(e){d3.selectAll(t.root+" ."+e+"_label_group text").style("font-weight","normal")}),null!=r&&r.hide()}},function(t,e){"use strict";t.exports=function(t,e){var r;r=e.pos_x in t.viz.x_scale.domain()?t.viz.x_scale(e.pos_x):0;var n=r+.5*t.viz.border_width.x,i=.5*t.viz.border_width.y;return"translate("+n+","+i+")"}},function(t,e){"use strict";t.exports=function(){function t(t){b=m(t),N=b.createSVGPoint(),document.body.appendChild(w)}function e(){return"n"}function r(){return[0,0]}function n(){return" "}function i(){var t=h();return{top:t.s.y,left:t.s.x}}function o(){var t=h();return{top:t.n.y-w.offsetHeight,left:t.n.x-w.offsetWidth/2}}function a(){var t=h();return{top:t.s.y,left:t.s.x-w.offsetWidth/2}}function s(){var t=h();return{top:t.e.y-w.offsetHeight/2,left:t.e.x}}function u(){var t=h();return{top:t.w.y-w.offsetHeight/2,left:t.w.x-w.offsetWidth}}function c(){var t=h();return{top:t.nw.y-w.offsetHeight,left:t.nw.x-w.offsetWidth}}function l(){var t=h();return{top:t.ne.y-w.offsetHeight,left:t.ne.x}}function f(){var t=h();return{top:t.sw.y,left:t.sw.x-w.offsetWidth}}function p(){var t=h();return{top:t.se.y,left:t.e.x}}function d(){var t=d3.select(document.createElement("div"));return t.style({position:"absolute",opacity:0,pointerEvents:"none",boxSizing:"border-box"}),t.node()}function m(t){return t=t.node(),"svg"==t.tagName.toLowerCase()?t:t.ownerSVGElement}function h(){var t=z||d3.event.target,e={},r=t.getScreenCTM(),n=t.getBBox(),i=n.width,o=n.height,a=n.x,s=n.y,u=document.documentElement.scrollTop||document.body.scrollTop,c=document.documentElement.scrollLeft||document.body.scrollLeft;return r.a=1,r.d=1,r.e=r.e+c,r.f=r.f+u,N.x=a,N.y=s,e.nw=N.matrixTransform(r),N.x=N.x+i,e.ne=N.matrixTransform(r),N.y=N.y+o,e.se=N.matrixTransform(r),N.x=N.x-i,e.sw=N.matrixTransform(r),N.y=N.y-o/2,e.w=N.matrixTransform(r),N.x=N.x+i,e.e=N.matrixTransform(r),N.x=N.x-i/2,N.y=N.y-o/2,e.n=N.matrixTransform(r),N.y=N.y+o,e.s=N.matrixTransform(r),e}function v(t){var e=d3.select(t).classed("hovering");e&&d3.selectAll(".d3-tip").transition().duration(250).style("opacity",0).style("display","none")}function g(t){var e={};return t&&"[object Function]"===e.toString.call(t)}var y=e,_=r,x=n,w=d(),b=null,N=null,z=null;t.show=function(){var e=Array.prototype.slice.call(arguments);e[e.length-1]instanceof SVGElement&&(z=e.pop());var r,n=x.apply(this,e),i=_.apply(this,e),o=y.apply(this,e),a=d3.select(w),s=0;for(a.html(n).style({opacity:1,"pointer-events":"all"}).style("z-index",99);s--;)a.classed(E[s],!1);if(r=A.get(o).apply(this),a.classed(o,!0).style({top:r.top+i[0]+"px",left:r.left+i[1]+"px"}),g(this)===!1){var u=d3.select(this).attr("class");u.indexOf("tile")>=0&&setTimeout(v,5e3,this)}return t},t.hide=function(){var e=d3.select(w);return e.style({opacity:0,"pointer-events":"none"}),t},t.attr=function(e){if(arguments.length<2&&"string"==typeof e)return d3.select(w).attr(e);var r=Array.prototype.slice.call(arguments);return d3.selection.prototype.attr.apply(d3.select(w),r),t},t.style=function(e){if(arguments.length<2&&"string"==typeof e)return d3.select(w).style(e);var r=Array.prototype.slice.call(arguments);return d3.selection.prototype.style.apply(d3.select(w),r),t},t.direction=function(e){return arguments.length?(y=null==e?e:d3.functor(e),t):y},t.offset=function(e){return arguments.length?(_=null==e?e:d3.functor(e),t):_},t.html=function(e){return arguments.length?(x=null==e?e:d3.functor(e),t):x};var A=d3.map({n:o,s:a,e:s,w:u,nw:c,ne:l,sw:f,se:p,south_custom:i}),E=A.keys();return t}},function(t,e,r){"use strict";var n=r(50);t.exports=function(t,e){var r,i=t.params;r=d3.select(i.viz.viz_svg+" .row_container").empty()?d3.select(i.viz.viz_svg).append("g").classed("row_container",!0).attr("transform","translate("+i.viz.norm_labels.margin.left+","+i.viz.clust.margin.top+")"):d3.select(i.viz.viz_svg).select(".row_container").attr("transform","translate("+i.viz.norm_labels.margin.left+","+i.viz.clust.margin.top+")"),d3.select(i.root+" .row_white_background").empty()&&r.append("rect").classed("row_white_background",!0).classed("white_bars",!0).attr("fill",i.viz.background_color).attr("width",i.viz.label_background.row).attr("height",30*i.viz.clust.dim.height+"px"),d3.select(i.root+" .row_label_container").empty()?r.append("g").classed("row_label_container",!0).attr("transform","translate("+i.viz.norm_labels.width.row+",0)").append("g").classed("row_label_zoom_container",!0):r.select(i.root+" .row_label_container").attr("transform","translate("+i.viz.norm_labels.width.row+",0)"),i.viz.ds_level===-1&&n(t,"all",e)}},function(t,e,r){"use strict";var n=r(2),i=r(51),o=r(52),a=r(66);t.exports=function(t){var e=arguments.length<=1||void 0===arguments[1]?"all":arguments[1],r=arguments.length<=2||void 0===arguments[2]?0:arguments[2],s=t.params,u=[];"all"===e?u=s.network_data.row_nodes:_.each(s.network_data.row_nodes,function(t){_.contains(e,t.name)&&u.push(t)});var c=d3.select(s.root+" .row_label_zoom_container").selectAll("g").data(u,function(t){return t.name}).enter().append("g").classed("row_label_group",!0),l=s.network_data.row_nodes_names;c.attr("transform",function(t){var e=_.indexOf(l,t.name);return"translate(0,"+s.viz.y_scale(e)+")"}),c.on("dblclick",function(e){var r="__data__",n=this[r].name;o(t,this,n),s.tile_click_hlight&&i(this,e.ini)}),a(s),c.insert("rect").style("opacity",0),c.append("text").attr("y",.5*s.viz.rect_height+.35*s.labels.default_fs_row).attr("text-anchor","end").style("font-size",s.labels.default_fs_row+"px").text(function(t){return n.normal_name(t)}).attr("pointer-events","none").style("opacity",0).style("cursor","default").transition().delay(r).duration(r).style("opacity",1),c.each(function(){var t=d3.select(this).select("text")[0][0].getBBox();d3.select(this).select("rect").attr("x",t.x).attr("y",0).attr("width",t.width).attr("height",s.viz.y_scale.rangeBand()).style("fill",function(){var t="yellow";return t}).style("opacity",function(t){var e=0;return 1===t.target&&(e=1),e})}),n.has(s.network_data.row_nodes[0],"value")&&c.append("rect").classed("row_bars",!0).attr("width",function(t){var e=0;return e=s.labels.bar_scale_row(Math.abs(t.value))}).attr("x",function(t){var e=0;return e=-s.labels.bar_scale_row(Math.abs(t.value))}).attr("height",s.viz.y_scale.rangeBand()).attr("fill",function(t){return t.value>0?s.matrix.bar_colors[0]:s.matrix.bar_colors[1]}).attr("opacity",.4)}},function(t,e){"use strict";t.exports=function(t,e,r){if(r!=t.click_hlight_row){var n=6,i=.85,o=n*t.viz.border_width.x;d3.selectAll(t.root+" .click_hlight").remove(),d3.select(e).append("rect").classed("click_hlight",!0).classed("row_top_hlight",!0).attr("width",t.viz.svg_dim.width).attr("height",o).attr("fill",t.matrix.hlight_color).attr("opacity",i),d3.select(e).append("rect").classed("click_hlight",!0).classed("row_bottom_hlight",!0).attr("width",t.viz.svg_dim.width).attr("height",o).attr("fill",t.matrix.hlight_color).attr("opacity",i).attr("transform",function(){var e=t.viz.y_scale.rangeBand()-o;return"translate(0,"+e+")"})}else d3.selectAll(t.root+" .click_hlight").remove(),t.click_hlight_row=-666}},function(t,e,r){"use strict";var n=r(53),i=r(54),o=r(36),a=r(65),s=r(27);t.exports=function(t,e,r){var u=t.params,c=a(u);if(1===c.zoom_y&&1===c.zoom_x){u.viz.inst_order.row="custom",i(t,"col"),d3.selectAll(u.root+" .toggle_col_order .btn").classed("active",!1),u.viz.run_trans=!0;var l=$.extend(!0,{},u.matrix.matrix),f=u.network_data.row_nodes,p=u.network_data.col_nodes,d=[];f.forEach(function(t){d.push(t.name)}),r=_.indexOf(d,r),d=[],p.forEach(function(t,e){d.push(l[r].row_data[e].value)});var m=d3.range(d.length).sort(function(t,e){return d[e]-d[t]});u.viz.x_scale.domain(m),u.matrix.orders.custom_row=m;var h;h=u.network_data.links.length>u.matrix.def_large_matrix?d3.select(u.root+" .viz_svg"):d3.select(u.root+" .viz_svg").transition().duration(2500);var v=u.network_data.col_nodes_names;h.select(".col_zoom_container").selectAll(".col_label_text").attr("transform",function(t){var e=_.indexOf(v,t.name);return"translate("+u.viz.x_scale(e)+")rotate(-90)"}),h.selectAll(".col_cat_group").attr("transform",function(t){var e=_.indexOf(v,t.name);return"translate("+u.viz.x_scale(e)+",0)"}),u.viz.ds_level===-1&&(h.selectAll(".tile").attr("transform",function(t){return"translate("+u.viz.x_scale(t.pos_x)+",0)"}),h.selectAll(".tile_up").attr("transform",function(t){return"translate("+u.viz.x_scale(t.pos_x)+",0)"}),h.selectAll(".tile_dn").attr("transform",function(t){return"translate("+u.viz.x_scale(t.pos_x)+",0)"})),d3.selectAll(u.root+" .row_label_group").select("rect").style("opacity",0),d3.select(e).select("rect").style("opacity",1),n(u),u.network_data.links.forEach(function(t){t.x=u.viz.x_scale(t.target),t.y=u.viz.y_scale(t.source)}),u.zoom_info=o(),setTimeout(function(){u.viz.run_trans=!1},2500),u.viz.ds_num_levels>0&&u.viz.ds_level>=0&&s(u)}}},function(t,e){"use strict";t.exports=function(t){var e=6,r=e*t.viz.border_width.x,n=e*t.viz.border_width.y;d3.select(t.root+" .top_hlight").attr("width",t.viz.x_scale.rangeBand()).attr("height",n).transition().duration(2500).attr("transform",function(){return"translate("+t.viz.x_scale(t.matrix.click_hlight_x)+",0)"}),d3.select(t.root+" .left_hlight").attr("width",r).attr("height",t.viz.y_scale.rangeBand()-.99*n).transition().duration(2500).attr("transform",function(){return"translate("+t.viz.x_scale(t.matrix.click_hlight_x)+","+.99*n+")"}),d3.select(t.root+" .right_hlight").attr("width",r).attr("height",t.viz.y_scale.rangeBand()-.99*n).transition().duration(2500).attr("transform",function(){var e=t.viz.x_scale(t.matrix.click_hlight_x)+t.viz.x_scale.rangeBand()-r;return"translate("+e+","+.99*n+")"}),d3.select(t.root+" .bottom_hlight").attr("width",function(){return t.viz.x_scale.rangeBand()-1.98*r}).attr("height",n).transition().duration(2500).attr("transform",function(){var e=t.viz.x_scale(t.matrix.click_hlight_x)+.99*r,i=t.viz.y_scale.rangeBand()-n;return"translate("+e+","+i+")"})}},function(t,e,r){"use strict";var n=r(55);t.exports=function(t,e){var r=arguments.length<=2||void 0===arguments[2]?1500:arguments[2],i=t.params;"row"===e&&"clust"===i.viz.inst_order.col&&setTimeout(n,r,t,"row",!0),"col"===e&&"clust"===i.viz.inst_order.row&&setTimeout(n,r,t,"col",!0),"clust"!=i.viz.inst_order.row&&i.viz.dendro_filter.col===!1&&(d3.selectAll(i.root+" .col_dendro_group").style("opacity",0).on("mouseover",null).on("mouseout",null),d3.select(i.root+" .col_slider_group").style("opacity",0),d3.selectAll(i.root+" .col_dendro_crop_buttons").style("opacity",0).on("mouseover",null).on("mouseout",null)),"clust"!=i.viz.inst_order.col&&i.viz.dendro_filter.row===!1&&(d3.selectAll(i.root+" .row_dendro_group").style("opacity",0).on("mouseover",null).on("mouseout",null).on("click",null),d3.select(i.root+" .row_slider_group").style("opacity",0),d3.selectAll(i.root+" .row_dendro_crop_buttons").style("opacity",0).on("mouseover",null).on("mouseout",null))}},function(t,e,r){"use strict";var n=r(56),i=r(57),o=r(58),a=r(48),s=r(60),u=r(63);t.exports=function(t,e){function r(t,r,n){if(d3.select(t).classed("hovering")){var i=l.viz.root_tips+"_"+e+"_dendro_tip";d3.select(i+" .cat_graph").empty()&&null!==l.viz.cat_info[e]&&u(l,e,r,p[n],i,!0),d3.selectAll(l.viz.root_tips+"_"+e+"_dendro_tip").style("opacity",1)}}var c=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],l=t.params;"both"===e&&(e="row");var f;f="row"===e?"col":"row","clust"===l.viz.inst_order[f]&&d3.select(l.root+" ."+e+"_slider_group").style("opacity",1);var p;p="row"===e?n(l):i(l),d3.select(t.params.root+" ."+e+"_dendro_crop_buttons").empty()===!1&&s(t,e);var d=l.viz.dendro_opacity,m=500;d3.selectAll(t.params.viz.root_tips+"_"+e+"_dendro_tip").remove();var h;d3.selectAll(l.root+" ."+e+"_dendro_group").empty()?h=!1:(h=!0,d3.selectAll(l.root+" ."+e+"_dendro_group").remove());var v=0,g=-5,y=a().attr("class",function(){var t=l.viz.root_tips.replace(".",""),r=t+" d3-tip "+t+"_"+e+"_dendro_tip";return r}).direction("nw").offset([v,g]).style("display","none").style("opacity",0);y.html(function(){var t='<div class="cluster_info_container"></div>Click for cluster information <br>and additional options.';return t}),c&&(h=!1);var _,x,w,b,N,z,A=d3.select(l.root+" ."+e+"_dendro_container").selectAll("path").data(p,function(t){return t.name}).enter().append("path").style("opacity",0).attr("class",e+"_dendro_group").style("fill","black");A.attr("d",function(t){"row"===e?(_=0,x=t.pos_top,w=30,b=t.pos_mid,N=0,z=t.pos_bot):(_=t.pos_top,x=0,w=t.pos_mid,b=30,N=t.pos_bot,z=0);var r="M"+_+","+x+", L"+w+", "+b+", L"+N+","+z+" Z";return r}),A.on("mouseover",function(n,i){d3.select(this).classed("hovering",!0),null!=t.params.dendro_callback&&t.params.dendro_callback(this),d3.select(l.viz.root_tips+"_"+e+"_dendro_tip").style("display","block"),o(l,this,n,e),y.show(n),d3.select(l.viz.root_tips+"_"+e+"_dendro_tip").style("opacity",0),setTimeout(r,m,this,n,i)}).on("mouseout",function(){"clust"===l.viz.inst_order[f]&&d3.select(this).style("opacity",d),d3.selectAll(l.root+" .dendro_shadow").remove(),d3.select(this).classed("hovering",!1),y.hide(this)}).on("click",function(r,n){$(l.root+" .dendro_info").modal("toggle");var i=r.all_names.join(", ");d3.select(l.root+" .dendro_info input").attr("value",i);var o=l.root+" .dendro_info";d3.selectAll(".dendro_info .cluster_info_container .cat_graph").remove(),null!==l.viz.cat_info[e]&&u(l,e,r,p[n],o),null!=t.params.dendro_click_callback&&t.params.dendro_click_callback(this)}).call(y);var E;E="clust"===l.viz.inst_order[f]?d:0,h?d3.select(l.root+" ."+e+"_dendro_container").selectAll("path").transition().delay(1e3).duration(1e3).style("opacity",E):d3.select(l.root+" ."+e+"_dendro_container").selectAll("path").style("opacity",E)}},function(t,e){"use strict";t.exports=function(t){var e={},r=t.group_level.row,n=t.network_data.row_nodes,i=t.network_data.row_nodes_names;_.each(n,function(n){var o=n.group[r],a=_.indexOf(i,n.name),s=t.viz.y_scale(a),u=s+t.viz.y_scale.rangeBand();_.has(e,o)===!1&&(e[o]={},e[o].name_top=n.name,e[o].name_bot=n.name,e[o].pos_top=s,e[o].pos_bot=u,e[o].pos_mid=(s+u)/2,e[o].name=o,e[o].all_names=[],e[o].inst_rc="row"),e[o].all_names.push(n.name),s<e[o].pos_top&&(e[o].name_top=n.name,e[o].pos_top=s,e[o].pos_mid=(s+e[o].pos_bot)/2),u>e[o].pos_bot&&(e[o].name_bot=n.name,e[o].pos_bot=u,e[o].pos_mid=(e[o].pos_top+u)/2)});var o=[];return _.each(e,function(t){o.push(t)}),o}},function(t,e){"use strict";t.exports=function(t){var e={},r=t.group_level.col,n=t.network_data.col_nodes,i=t.network_data.col_nodes_names;_.each(n,function(n){var o=n.group[r],a=_.indexOf(i,n.name),s=t.viz.x_scale(a),u=s+t.viz.x_scale.rangeBand();_.has(e,o)===!1&&(e[o]={},e[o].name_top=n.name,e[o].name_bot=n.name,e[o].pos_top=s,e[o].pos_bot=u,e[o].pos_mid=(s+u)/2,e[o].name=o,e[o].all_names=[],e[o].inst_rc="col"),e[o].all_names.push(n.name),s<e[o].pos_top&&(e[o].name_top=n.name,e[o].pos_top=s,e[o].pos_mid=(s+e[o].pos_bot)/2),u>e[o].pos_bot&&(e[o].name_bot=n.name,e[o].pos_bot=u,e[o].pos_mid=(e[o].pos_top+u)/2)});var o=[];return _.each(e,function(t){o.push(t)}),o}},function(t,e,r){"use strict";var n=r(59);t.exports=function(t,e,r,i){function o(){d3.select(e).classed("hovering")&&t.is_slider_drag===!1&&(d3.select(e).style("opacity",.7),d3.select(t.viz.viz_svg).classed("running_update")===!1&&a())}function a(){"row"===i?"clust"===t.viz.inst_order.col&&n(t,e,i,r):"col"===i?"clust"===t.viz.inst_order.row&&n(t,e,i,r):"both"===i&&("clust"===t.viz.inst_order.col&&n(t,e,"row",r),"clust"===t.viz.inst_order.row&&n(t,e,"col",r))}d3.selectAll(t.root+" ."+i+"_dendro_crop_buttons")[0].length>1?setTimeout(o,500):d3.selectAll(t.root+" .dendro_shadow").remove()}},function(t,e){"use strict";t.exports=function(t,e,r,n){var i,o=.2;d3.selectAll(t.root+" .dendro_shadow").remove(),"row"==r?(d3.select(t.root+" .clust_group").append("rect").attr("width",t.viz.clust.dim.width+"px").attr("height",n.pos_top+"px").attr("fill","black").classed("dendro_shadow",!0).attr("opacity",o),i=t.viz.clust.dim.height-n.pos_bot,d3.select(t.root+" .clust_group").append("rect").attr("width",t.viz.clust.dim.width+"px").attr("height",i+"px").attr("transform","translate(0,"+n.pos_bot+")").attr("fill","black").classed("dendro_shadow",!0).attr("opacity",o)):"col"===r&&(d3.select(t.root+" .clust_group").append("rect").attr("width",n.pos_top+"px").attr("height",t.viz.clust.dim.height+"px").attr("fill","black").classed("dendro_shadow",!0).attr("opacity",o),i=t.viz.clust.dim.width-n.pos_bot,d3.select(t.root+" .clust_group").append("rect").attr("width",i+"px").attr("height",t.viz.clust.dim.height+"px").attr("transform","translate("+n.pos_bot+",0)").attr("fill","black").classed("dendro_shadow",!0).attr("opacity",o))}},function(t,e,r){"use strict";var n=r(56),i=r(57),o=r(48),a=r(58),s=r(61),u=r(62);t.exports=function(t,e){function r(t){d3.select(t).classed("hovering")&&d3.selectAll(f.viz.root_tips+"_"+e+"_dendro_crop_tip").style("opacity",1).style("display","block")}var c,l,f=t.params,p=.6*f.viz.dendro_opacity;"row"===e?(c=n(f),l="col"):(c=i(f),l="row");var d=5,m=-5,h=o().attr("class",function(){var t=f.viz.root_tips.replace(".",""),r=t+" d3-tip "+t+"_"+e+"_dendro_crop_tip";return r}).direction("nw").style("display","none").offset([d,m]),v=500;d3.selectAll(f.viz.root_tips+"_"+e+"_dendro_crop_tip").remove(),d3.selectAll(f.root+" ."+e+"_dendro_crop_buttons").remove();var g,y,_,x,w,b,N,z,A,E,M=45,O=.25,S=e+"_dendro_crop_buttons";d3.select(t.params.root+" ."+e+"_dendro_icons_group").classed("ran_filter")===!1?(g=d3.select(f.root+" ."+e+"_dendro_icons_group").selectAll("path").data(c,function(t){return t.name}).enter().append("path").classed(S,!0).attr("d",function(t){z=10,A=10;var r=t.pos_bot-t.pos_top;"row"===e?(r<M&&(z=r*O),y=A,_=-z,x=0,w=0,b=A,N=z,E=z):(r<M&&(A=r*O),y=-A,_=z,x=0,w=0,b=A,N=z,E=A);var n="__data__";d3.select(this)[0][0][n].tri_dim=E;var i="M"+y+","+_+", L"+x+", "+w+", L"+b+","+N+" Z";return i}),h.html(function(){var t="Click to crop cluster";return t})):(g=d3.select(f.root+" ."+e+"_dendro_icons_group").selectAll("path").data(c,function(t){return t.name}).enter().append("path").classed(S,!0).attr("d",function(t){z=10,A=12;var r=t.pos_bot-t.pos_top;"row"===e?(r<M&&(z=r*O),y=0,_=-z,x=A,w=0,b=0,N=z):(r<M&&(A=r*O),y=-A,_=0,x=0,w=z,b=A,N=0);var n="__data__";d3.select(this)[0][0][n].tri_dim=10;var i="M"+y+","+_+", L"+x+", "+w+", L"+b+","+N+" Z";return i}),h.html(function(){var t="Click to undo crop";return t})),g.style("cursor","pointer").style("opacity",function(){var t;return t=p}).attr("transform",function(t){var r,n,i;return"row"===e?(n=f.viz.uni_margin,i=t.pos_mid):(n=t.pos_mid,i=f.viz.uni_margin),r="translate("+n+","+i+")"}).on("mouseover",function(t){d3.select(this).classed("hovering",!0),h.show(t),a(f,this,t,e),d3.selectAll(f.viz.root_tips+"_"+e+"_dendro_crop_tip").style("opacity",0).style("display","block"),setTimeout(r,v,this)}).on("mouseout",function(){d3.select(this).classed("hovering",!1),d3.selectAll(f.root+" .dendro_shadow").remove(),d3.select(this).style("opacity",p),h.hide(this)}).on("click",function(r){d3.select(this).style("opacity",.9).transition().duration(1e3).style("opacity",0),d3.selectAll(f.root+" .dendro_shadow").remove(),t.params.dendro_filter.row===!1&&t.params.dendro_filter.col===!1&&t.params.cat_filter.row===!1&&t.params.cat_filter.col===!1?(d3.select(t.params.root+" ."+e+"_dendro_icons_group").attr("transform","translate(0,0), scale(1,1)").classed("ran_filter",!0),d3.select(t.params.root+" ."+l+"_dendro_icons_group").attr("transform","translate(0,0), scale(1,1)"),d3.select(t.params.root+" ."+e+"_slider_group").style("display","none"),d3.select(t.params.root+" ."+l+"_dendro_icons_container").style("display","none"),d3.select(t.params.root+" .crop_button").style("opacity",.2)):(d3.select(t.params.root+" ."+e+"_dendro_icons_group").attr("transform","translate(0,0), scale(1,1)").classed("ran_filter",!1),d3.select(t.params.root+" ."+l+"_dendro_icons_group").attr("transform","translate(0,0), scale(1,1)"),"clust"===f.viz.inst_order[l]&&d3.select(t.params.root+" ."+e+"_slider_group").style("display","block"),d3.select(t.params.root+" ."+l+"_dendro_icons_container").style("display","block"),d3.select(t.params.root+" .crop_button").style("opacity",1)),s(t,r,e)}).call(h),"clust"!=f.viz.inst_order[l]&&d3.select(f.root+" ."+e+"_dendro_icons_group").selectAll("path").style("display","none"),u(f,f.zoom_info,e)}},function(t,e){"use strict";t.exports=function(t,e,r){var n={};if(t.params.dendro_filter.row===!1&&t.params.dendro_filter.col===!1&&t.params.cat_filter.row===!1&&t.params.cat_filter.col===!1){d3.select(t.params.root+" ."+r+"_slider_group").style("opacity",.35).style("pointer-events","none"),n[r]=e.all_names;var i=t.params.network_data[r+"_nodes_names"],o=t.params.network_data.row_nodes,a=t.params.network_data.col_nodes;t.filter_viz_using_names(n),t.params.inst_nodes.row_nodes=o,t.params.inst_nodes.col_nodes=a,d3.selectAll(t.params.root+" .dendro_shadow").transition().duration(1e3).style("opacity",0).remove(),t.params.dendro_filter[r]=i}else n[r]=t.params.dendro_filter[r],t.filter_viz_using_names(n),t.params.dendro_filter[r]=!1}},function(t,e){"use strict";t.exports=function(t,e,r){function n(t,e){var r,n=10;if(e*t<n)r=1;else{var i=n/e;r=t/i}return r}"row"===r?d3.select(t.root+" .row_dendro_icons_group").selectAll("path").attr("transform",function(r){var i=t.viz.uni_margin,o=r.pos_mid,a=e.zoom_y,s=d3.select(this).data()[0].tri_dim,u=n(a,s);return"translate("+i+","+o+") scale(1, "+1/u+")"}):d3.select(t.root+" .col_dendro_icons_group").selectAll("path").attr("transform",function(r){var i=r.pos_mid,o=t.viz.uni_margin,a=e.zoom_x,s=d3.select(this).data()[0].tri_dim,u=n(a,s);return"translate("+i+","+o+") scale("+1/u+", 1)"})}},function(t,e,r){"use strict";var n=r(64);t.exports=function(t,e,r,i,o){var a=!(arguments.length<=5||void 0===arguments[5])&&arguments[5];"both"===e&&(e="row");var s=n(t,r,e);if(s.length>0){var u=d3.select(o+" .cluster_info_container"),c=": ",l="<p>",f=335,p=23,d=20,m=30,h=180,v=27,g=142,y=4,x=5,w=150,b=!1;null!=s[0].bar_data[0][x]&&(f+=100,g=g+w-47,b=!0);var N=i.all_names.length,z=y;if(b){z=x;var A=s[0].bar_data;N=0,_.each(A,function(t){N+=t[x]})}var E=3,M=25,O=20;_.each(s.slice(0,E),function(t){var e=t.bar_data.length;e>M&&(e=M),O+=v*(e+1)}),a&&u.append("text").text("Cluster Information");var S=u.append("div").style("margin-top","5px").classed("cat_graph",!0).append("svg").style("height",O+"px").style("width",f+"px");S.append("rect").classed("cat_background",!0).attr("height",O+"px").attr("width",f+"px").attr("fill","white").attr("opacity",1);var k=v;if(s=s.slice(0,E),_.each(s,function(e){var r=e.bar_data[0][z],n=d3.scale.linear().domain([0,1e5]).range([20,30]);e.bar_data=e.bar_data.slice(0,M),u.style("margin-bottom","5px");var i=S.append("g").classed("cat_graph_group",!0).attr("transform","translate(10, "+k+")");k+=v*(e.bar_data.length+1);var o=e.type_name;o.length>=m&&(o=o.slice(0,m)+".."),i.append("text").classed("cat_graph_title",!0).text(o).style("font-family",'"Helvetica Neue", Helvetica, Arial, sans-serif').style("font-weight",800);var a=n(r);i.append("text").text("Count").attr("transform",function(){var t=h+a,e="translate("+t+", 0)";return e}),i.append("text").text("Pct").attr("transform",function(){var t=h+a+75,e="translate("+t+", 0)";return e}),b&&i.append("text").text("Clusters").attr("transform",function(){var t=h+w,e="translate("+t+", 0)";return e});var s=4;i.append("line").attr("x1",0).attr("x2",h).attr("y1",s).attr("y2",s).attr("stroke","blue").attr("stroke-width",1).attr("opacity",1);var f=i.append("g").classed("cat_bar_container",!0).attr("transform","translate(0, 10)"),g=f.selectAll("g").data(e.bar_data).enter().append("g").attr("transform",function(t,e){var r=e*p;return"translate(0,"+r+")"}),_=d3.scale.linear().domain([0,r]).range([0,h]);g.append("rect").attr("height",d+"px").attr("width",function(t){var e=_(t[z]);return e+"px"}).attr("fill",function(t){return t[3]}).attr("opacity",t.viz.cat_colors.opacity).attr("stroke","grey").attr("stroke-width","0.5px"),g.append("text").classed("bar_labels",!0).text(function(t){var e=t[1];return e.indexOf(c)>0&&(e=e.split(c)[1]),e.indexOf(l)>0&&(e=e.split(l)[0]),e.length>=m&&(e=e.slice(0,m)+".."),e}).attr("transform",function(){return"translate(5, "+.75*d+")"}).attr("font-family",'"Helvetica Neue", Helvetica, Arial, sans-serif').attr("font-weight",400).attr("text-anchor","right");var x=35;g.append("text").classed("count_labels",!0).text(function(t){var e=t[z];return e=e.toLocaleString(),String(e)}).attr("transform",function(){var t=h+a+x,e=.75*d;return"translate("+t+", "+e+")"}).attr("font-family",'"Helvetica Neue", Helvetica, Arial, sans-serif').attr("font-weight",400).attr("text-anchor","end"),g.append("text").classed("count_labels",!0).text(function(t){var e=t[z]/N*100;return e=Math.round(10*e)/10,e=e.toLocaleString(),String(e)}).attr("transform",function(){var t=h+a+x+60,e=.75*d;return"translate("+t+", "+e+")"}).attr("font-family",'"Helvetica Neue", Helvetica, Arial, sans-serif').attr("font-weight",400).attr("text-anchor","end"),b&&g.append("text").classed("count_labels",!0).text(function(t){return String(t[y].toLocaleString())}).attr("transform",function(){var t=h+x+w+20,e=.75*d;return"translate("+t+", "+e+")"}).attr("font-family",'"Helvetica Neue", Helvetica, Arial, sans-serif').attr("font-weight",400).attr("text-anchor","end")}),a){var T=d3.select(o),C=T.style("top").split(".px")[0],B=T.style("left").split(".px")[0],I=0,R=0;"row"===e?(I=0,R=g):(I=O+32,R=30),T.style("top",function(){var t=String(parseInt(C,10)-I)+"px";return t}).style("left",function(){var t=String(parseInt(B,10)-R)+"px";return t})}}}},function(t,e){"use strict";t.exports=function(t,e,r){"both"===r&&(r="row");var n,i=e.all_names,o=[],a=t.network_data[r+"_nodes"],s=null,u=!1;_.each(a,function(t){n=t.name,i.indexOf(n)>=0&&o.push(t)});var c=[];if(null!==t.viz.cat_info[r]){for(var l,f,p,d=t.viz.cat_info[r],m=_.keys(d),h=[],v=[],g=0;g<m.length;g++)p="cat-"+String(g),"cat_strings"===t.viz.cat_info[r][p].type?(l=t.viz.cat_names[r][p],v.push(l),h.push(p)):"number in clust"===t.viz.cat_names[r][p]&&(s=p,u=!0);var y,x={},w={},b=10,N=4;u&&(N=5);var z;if(z=l===p,v.length>0){var A,E=i.length;_.each(h,function(e){if(f=e.split("-")[1],l=v[f],z)if(e.indexOf("-")>=0){var n=parseInt(e.split("-")[1],b)+1;l="Category "+String(n)}else l="Category";x[l]={},_.each(o,function(t){A=t[e],A.indexOf(": ")>=0&&(A=A.split(": ")[1]),A in x[l]?(x[l][A].num_nodes=x[l][A].num_nodes+1,null!=s&&(x[l][A].num_nodes_ds=x[l][A].num_nodes_ds+parseInt(t[s].split(": ")[1],b))):(x[l][A]={},x[l][A].num_nodes=1,null!=s&&(x[l][A].num_nodes_ds=parseInt(t[s].split(": ")[1],b)))}),w={},w.type_name=l,w.num_in_clust=E,y=[];var i,a,u=x[l];for(var p in u){a=z?p:l+": "+p;var d=u[p].num_nodes;if(_.has(u[p],"num_nodes_ds"))var m=u[p].num_nodes_ds;else m=null;i=t.viz.cat_colors[r][e][a],y.push([e,a,u[p],i,d,m])}y.sort(function(t,e){return e[N]-t[N]}),w.bar_data=y,c.push(w)})}}return c}},function(t,e){"use strict";t.exports=function(t){var e={},r=d3.select(t.root+" .clust_group").attr("transform");return null!=r&&r.indexOf("scale")>0?(e.zoom_x=parseFloat(r.split("scale")[1].replace("(","").replace(")","").split(",")[0]),e.zoom_y=parseFloat(r.split("scale")[1].replace("(","").replace(")","").split(",")[1])):(e.zoom_x=1,e.zoom_y=1),e}},function(t,e,r){"use strict";var n=r(48);t.exports=function(t){if(t.labels.show_label_tooltips){d3.selectAll(t.viz.root_tips+"_row_tip").remove();var e=t.viz.root_tips.replace(".",""),r=n().attr("class",function(){var t=e+" d3-tip "+e+"_row_tip";return t}).direction("e").offset([0,10]).style("display","none").html(function(t){var e=t.name.replace(/_/g," ").split("#")[0];return"<span>"+e+"</span>"});d3.select(t.viz.viz_wrapper).select(t.root+" .row_container").call(r),d3.select(t.root+" .row_label_zoom_container").selectAll("g").on("mouseover",function(e){d3.select(t.viz.root_tips+"_row_tip").classed(e.name,!0),d3.selectAll(t.viz.root_tips+"_row_tip").style("display","block"),d3.select(this).select("text").classed("active",!0),r.show(e),null!=t.row_tip_callback&&t.row_tip_callback(t.viz.root_tips,e)}).on("mouseout",function(e){d3.selectAll(t.viz.root_tips+"_row_tip").style("display","none").classed(e.name,!1),d3.select(this).select("text").classed("active",!1),r.hide(e)})}else d3.select(t.root+" .row_label_zoom_container").selectAll("g").on("mouseover",function(){d3.select(this).select("text").classed("active",!0)}).on("mouseout",function(){d3.select(this).select("text").classed("active",!1)})}},function(t,e,r){"use strict";var n=r(2),i=r(68),o=r(69),a=r(52),s=r(73),u=r(74);t.exports=function(t){var e,r=arguments.length<=1||void 0===arguments[1]?0:arguments[1],c=t.params,l=c.network_data.col_nodes,f=c.viz.x_scale.rangeBand()/2+c.viz.border_width.x;d3.select(c.root+" .col_container").empty()?(e=d3.select(c.viz.viz_svg).append("g").attr("class","col_container").attr("transform","translate("+c.viz.clust.margin.left+","+c.viz.norm_labels.margin.top+")"),e.append("rect").attr("fill",c.viz.background_color).attr("width",30*c.viz.clust.dim.width+"px").attr("height",c.viz.label_background.col).attr("class","white_bars"),
e.append("g").attr("class","col_label_outer_container").attr("transform","translate(0,"+c.viz.norm_labels.width.col+")").append("g").attr("class","col_zoom_container")):(e=d3.select(c.root+" .col_container").attr("transform","translate("+c.viz.clust.margin.left+","+c.viz.norm_labels.margin.top+")"),e.select(".white_bars").attr("fill",c.viz.background_color).attr("width",30*c.viz.clust.dim.width+"px").attr("height",c.viz.label_background.col),e.select(c.root+" .col_label_outer_container"));var p=d3.select(c.root+" .col_zoom_container").selectAll(".col_label_text").data(l,function(t){return t.name}).enter().append("g").attr("class","col_label_text").attr("transform",function(t){var e=t.col_index;return"translate("+c.viz.x_scale(e)+", 0) rotate(-90)"}),d=p.append("g").attr("class","col_label_group").attr("transform","translate("+c.viz.x_scale.rangeBand()/2+","+f+") rotate(45)").on("mouseover",function(){d3.select(this).select("text").classed("active",!0)}).on("mouseout",function(){d3.select(this).select("text").classed("active",!1)});n.has(c.network_data.col_nodes[0],"value")&&d.append("rect").attr("class","col_bars").attr("width",function(t){var e=0;return t.value>0&&(e=c.labels.bar_scale_col(t.value)),e}).attr("height",.66*c.viz.x_scale.rangeBand()).style("fill",function(t){return t.value>0?c.matrix.bar_colors[0]:c.matrix.bar_colors[1]}).attr("opacity",.6),d.append("text").attr("x",0).attr("y",.64*c.viz.x_scale.rangeBand()).attr("dx",c.viz.border_width.x).attr("text-anchor","start").attr("full_name",function(t){return t.name}).style("font-size",c.labels.default_fs_col+"px").style("cursor","default").text(function(t){return n.normal_name(t)}).style("opacity",0).transition().delay(r).duration(r).style("opacity",1),s(c),d.append("path").style("stroke-width",0).attr("d",function(){return u(c)}).attr("fill","#eee").style("opacity",0).transition().delay(r).duration(r).style("opacity",c.viz.triangle_opacity),d3.selectAll(c.root+" .col_label_text").on("click",function(t){"function"==typeof c.click_label?(c.click_label(t.name,"col"),i(c,this,t.ini)):c.tile_click_hlight&&i(c,this,t.ini)}).on("dblclick",function(e){var r="__data__",n=this[r].name;if(c.sim_mat){o(t,this,n);var s=d3.selectAll(c.root+" .row_label_group").filter(function(t){return t.name==n})[0][0];a(t,s,n)}else o(t,this,n);c.tile_click_hlight&&i(c,this,e.ini)})}},function(t,e){"use strict";t.exports=function(t,e,r){if(r!=t.click_hlight_col){t.click_hlight_col=r;var n=6,i=.85,o=n*t.viz.border_width.x;d3.selectAll(t.root+" .click_hlight").remove(),d3.select(e).append("rect").classed("click_hlight",!0).classed("col_top_hlight",!0).attr("width",t.viz.clust.dim.height).attr("height",o).attr("fill",t.matrix.hlight_color).attr("opacity",i).attr("transform",function(){var e=0,r=-(t.viz.clust.dim.height+t.viz.cat_room.col+t.viz.uni_margin);return"translate("+r+","+e+")"}),d3.select(e).append("rect").classed("click_hlight",!0).classed("col_bottom_hlight",!0).attr("width",t.viz.clust.dim.height).attr("height",o).attr("fill",t.matrix.hlight_color).attr("opacity",i).attr("transform",function(){var e=t.viz.x_scale.rangeBand()-o,r=-(t.viz.clust.dim.height+t.viz.cat_room.col+t.viz.uni_margin);return"translate("+r+","+e+")"})}else d3.selectAll(t.root+" .click_hlight").remove(),t.click_hlight_col=-666}},function(t,e,r){"use strict";var n=r(53),i=r(54),o=r(70),a=r(36),s=r(65),u=r(27);t.exports=function(t,e,r){var c=t.params,l=s(c);if(1===l.zoom_y&&1===l.zoom_x){c.viz.inst_order.col="custom",i(t,"col"),d3.selectAll(c.root+" .toggle_row_order .btn").classed("active",!1),c.viz.run_trans=!0;var f=$.extend(!0,{},c.matrix.matrix),p=c.network_data.row_nodes,d=c.network_data.col_nodes,m=[];d.forEach(function(t){m.push(t.name)});var h=_.indexOf(m,r);m=[],p.forEach(function(t,e){m.push(f[e].row_data[h].value)});var v=d3.range(m.length).sort(function(t,e){return m[e]-m[t]});c.viz.y_scale.domain(v),c.matrix.orders.custom_col=v;var g,y=c.network_data.row_nodes_names;if(g=c.network_data.links.length>c.matrix.def_large_matrix?d3.select(c.root+" .viz_svg"):d3.select(c.root+" .viz_svg").transition().duration(2500),g.selectAll(".row_cat_group").attr("transform",function(t){var e=_.indexOf(y,t.name);return"translate(0,"+c.viz.y_scale(e)+")"}),g.select(".row_label_zoom_container").selectAll(".row_label_group").attr("transform",function(t){var e=_.indexOf(y,t.name);return"translate(0,"+c.viz.y_scale(e)+")"}),c.viz.ds_level===-1&&g.selectAll(".row").attr("transform",function(t){var e=_.indexOf(y,t.name);return"translate(0,"+c.viz.y_scale(e)+")"}),d3.selectAll(c.root+" .col_label_text").select(".highlight_rect").style("opacity",0),d3.select(e).select(".highlight_rect").style("opacity",1),c.network_data.links.forEach(function(t){t.x=c.viz.x_scale(t.target),t.y=c.viz.y_scale(t.source)}),n(c),c.zoom_info=a(),setTimeout(function(){c.viz.run_trans=!1},2500),c.viz.ds_num_levels>0&&c.viz.ds_level>=0){u(c);var x=!0,w=!0,b=!0;o(t,x,w,b)}}}},function(t,e,r){"use strict";var n=r(71),i=r(41),o=r(50),a=r(72);t.exports=function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],r=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],s=!(arguments.length<=3||void 0===arguments[3])&&arguments[3],u=t.params,c=u.zoom_info,l=u.viz.ds_level,f=u.viz.ds_level;null===u.viz.ds?l=-1:(l=Math.floor(Math.log(c.zoom_y)/Math.log(u.viz.ds_zt)),l>u.viz.ds_num_levels-1&&(l=-1));var p=!1;f==-1?l>=0&&(p=!0):l<f&&(p=!0);var d;e===!0||p===!0?(d=l,e=!0,u.viz.ds_level=d):d=f;var m={},h=5;m.min_x=Math.abs(c.trans_x)/c.zoom_x-(h+1)*u.viz.rect_width,m.min_y=Math.abs(c.trans_y)/c.zoom_y-(h+1)*u.viz.rect_height,m.max_x=Math.abs(c.trans_x)/c.zoom_x+u.viz.clust.dim.width/c.zoom_x+h*u.viz.rect_width,m.max_y=Math.abs(c.trans_y)/c.zoom_y+u.viz.clust.dim.height/c.zoom_y+h*u.viz.rect_height,n(u,m);var v;if(s===!1?v=_.difference(u.viz.viz_nodes.row,u.viz.viz_nodes.curr_row):(v="all",d3.selectAll(u.root+" .ds"+String(d)+"_row").remove()),null!=u.viz.ds){var g=".ds"+String(u.viz.ds_level)+"_row";d3.selectAll(g).style("display","block")}d>=0&&(d3.selectAll(u.root+" .row").remove(),d3.selectAll(u.viz.root_tips+"_tile_tip").remove(),d3.selectAll(u.viz.root_tips+"_row_tip").remove());var y;if(d<0?(y=u.matrix.matrix,a(u)):(y=u.matrix.ds_matrix[d],d3.selectAll(u.root+" .row_cat_group path").remove()),r===!0&&d3.selectAll(u.root+" .row_cat_group path").remove(),e===!0&&(d>=0?d3.selectAll(u.root+" .ds"+String(d)+"_row").each(function(t){_.contains(u.viz.viz_nodes.row,t.name)===!1&&d3.select(this).remove()}):d3.selectAll(u.root+" .row").each(function(t){_.contains(u.viz.viz_nodes.row,t.name)===!1&&d3.select(this).remove()}),d3.selectAll(u.root+" .row_label_group").each(function(t){_.contains(u.viz.viz_nodes.row,t.name)===!1&&d3.select(this).remove()}),d!=f&&(v=u.viz.viz_nodes.row,d3.selectAll(u.root+" .ds"+String(f)+"_row").remove())),(v.length>=1||"all"===v)&&i(u,y,v,d),d===-1&&(r===!1||e)){var x=[];d3.selectAll(u.root+" .row_label_group").each(function(t){x.push(t.name)});var w=_.difference(u.viz.viz_nodes.row,x),b=1;w.length>b&&o(t,w)}}},function(t,e){"use strict";t.exports=function(t,e){var r,n=[],i=[],o=t.viz.y_scale,a=t.viz.ds_level,s=t.network_data.row_nodes_names,u=".row";a>=0&&(o=t.viz.ds[a].y_scale,s=d3.range(t.matrix.ds_matrix[a].length).map(String),u=".ds"+String(a)+"_row");for(var c=0;c<s.length;c++)r=o(c),r<e.max_y&&r>e.min_y&&n.push(s[c]);d3.selectAll(t.root+" "+u).each(function(t){i.push(t.name)}),t.viz.viz_nodes.row=n,t.viz.viz_nodes.curr_row=i}},function(t,e){"use strict";t.exports=function(t){d3.select(t.root+" .row_cat_group path").empty()===!0&&d3.selectAll(t.root+" .row_cat_group").append("path").attr("d",function(){var e=t.viz.cat_room.symbol_width-1,r=0,n=1,i=t.viz.y_scale.rangeBand()/2,o=t.viz.cat_room.symbol_width-1,a=t.viz.y_scale.rangeBand(),s="M "+e+","+r+" L "+n+","+i+", L "+o+","+a+" Z";return s}).attr("fill","#eee").style("opacity",t.viz.triangle_opacity)}},function(t,e,r){"use strict";var n=r(48);t.exports=function(t){if(t.labels.show_label_tooltips){d3.selectAll(t.viz.root_tips+"_col_tip").remove();var e=n().attr("class",function(){var e=t.viz.root_tips.replace(".",""),r=e+" d3-tip "+e+"_col_tip";return r}).direction("w").offset([20,0]).style("display","none").html(function(t){var e=t.name.replace(/_/g," ").split("#")[0];return"<span>"+e+"</span>"});d3.select(t.viz.viz_wrapper).select("svg").select(t.root+" .col_zoom_container").selectAll(".col_label_group").select("text").call(e),d3.select(t.root+" .col_zoom_container").selectAll(".col_label_group").on("mouseover",function(r){d3.selectAll(t.viz.root_tips+"_col_tip").style("display","block"),e.show(r),null!=t.col_tip_callback&&t.col_tip_callback(r)}).on("mouseout",function(){e.hide(this),d3.selectAll(t.viz.root_tips+"_col_tip").style("display","none")})}}},function(t,e){"use strict";t.exports=function(t){var e=.36*t.viz.x_scale.rangeBand(),r=-t.viz.border_width.x,n=0,i=t.viz.x_scale.rangeBand()-e,o=-(t.viz.x_scale.rangeBand()-e+t.viz.border_width.x),a=-t.viz.border_width.x,s="M "+r+",0 L "+o+","+n+", L "+a+","+i+" Z";return s}},function(t,e){"use strict";t.exports=function(t){d3.select(t.viz.viz_svg).append("rect").attr("fill",t.viz.background_color).attr("height",t.viz.super_labels.dim.width+"px").attr("width","3000px").classed("super_col_bkg",!0).classed("white_bars",!0).attr("transform","translate("+t.viz.clust.margin.left+","+t.viz.super_labels.margin.top+")"),d3.select(t.viz.viz_svg).append("text").attr("class","super_col").text(t.labels["super"].col).attr("text-anchor","center").attr("transform",function(){var e=d3.select(this)[0][0].getBBox().width,r=t.viz.clust.dim.width/2+t.viz.norm_labels.width.row-e/2,n=t.viz.super_labels.dim.width;return"translate("+r+","+n+")"}).style("font-size",function(){var e=t.labels.super_label_fs*t.labels.super_label_scale;return e+"px"}).style("font-weight",300),d3.select(t.viz.viz_svg).append("rect").attr("fill",t.viz.background_color).attr("width",t.viz.super_labels.dim.width+"px").attr("height","3000px").classed("super_row_bkg",!0).classed("white_bars",!0).attr("transform","translate("+t.viz.super_labels.margin.left+",0)"),d3.select(t.viz.viz_svg).append("g").classed("super_row",!0).attr("transform",function(){var e=t.viz.super_labels.dim.width,r=t.viz.clust.dim.height/2+t.viz.norm_labels.width.col;return"translate("+e+","+r+")"}),d3.select(t.root+" .super_row").append("text").text(t.labels["super"].row).attr("text-anchor","center").attr("transform",function(){var e=d3.select(this)[0][0].getBBox().width,r=e/2+t.viz.norm_labels.width.col,n="translate(0,"+r+"), rotate(-90)";return n}).style("font-size",function(){var e=t.labels.super_label_fs*t.labels.super_label_scale;return e+"px"}).style("font-weight",300)}},function(t,e,r){"use strict";var n=r(77),i=r(78),o=r(86),a=r(60);t.exports=function(t){var e=t.params,r=e.viz;d3.select(r.root+" .col_container").append("path").style("stroke-width","0").attr("d","M 0,0 L 1000,-1000, L 1000,0 Z").attr("fill",r.background_color).attr("class","right_slant_triangle").attr("transform","translate("+r.clust.dim.width+","+r.norm_labels.width.col+")"),d3.select(r.root+" .col_container").append("path").style("stroke-width","0").attr("d","M 0,0 L 500,-500, L 0,-500 Z").attr("fill",r.background_color).attr("class","left_slant_triangle").attr("transform","translate(-1,"+r.norm_labels.width.col+")");var s=r.clust.margin.top+r.uni_margin/5;d3.select(r.viz_svg).append("rect").attr("fill",r.background_color).attr("width",r.clust.margin.left).attr("height",s).attr("class","top_left_white");var u=r.cat_room.col+1.5*r.uni_margin;d3.select(r.viz_svg).append("rect").attr("fill",r.background_color).attr("width",2*r.clust.dim.width).attr("height",u).attr("class","top_right_white").attr("transform",function(){var t=r.clust.margin.left+r.clust.dim.width,e=r.norm_labels.width.col+r.norm_labels.margin.top-r.uni_margin;return"translate("+t+", "+e+")"}),d=r.clust.margin.left+r.clust.dim.width+r.uni_margin,m=r.norm_labels.margin.top+r.norm_labels.width.col+2.5*r.uni_margin;var c=1.15*r.cat_room.symbol_width,l=.65,f=1.25;r.show_categories.col&&d3.select(r.viz_svg).selectAll().data(r.all_cats.col).enter().append("text").classed("col_cat_super",!0).style("font-size",c+"px").style("opacity",l).style("cursor","default").attr("transform",function(t){var e=parseInt(t.split("-")[1],10),n=m+f*r.cat_room.symbol_width*e;return"translate("+d+","+n+")"}).text(function(t){return n(r,t,"col")}),o(t),m=r.show_dendrogram?r.clust.margin.top+r.clust.dim.height+r.dendro_room.col-2*r.uni_margin:r.clust.margin.top+r.clust.dim.height;var p=d3.select(r.viz_svg).append("g").classed("bottom_spillover_container",!0).attr("transform",function(){return"translate(0,"+m+")"});p.append("rect").attr("class","bottom_spillover").attr("fill",r.background_color).attr("width",r.svg_dim.width).attr("height",2*r.svg_dim.height),d=r.clust.margin.left,m=0,p.append("g").classed("col_dendro_icons_container",!0).attr("transform","translate("+d+","+m+")").append("g").classed("col_dendro_icons_group",!0),a(t,"col");var d=r.clust.margin.left+r.clust.dim.width,m=r.clust.margin.top+r.clust.dim.height,h=r.cat_room.col+r.clust.dim.width,v=r.cat_room.row+10*r.uni_margin;d3.select(r.viz_svg).append("rect").attr("fill",r.background_color).attr("width",h).attr("height",v).attr("transform",function(){return"translate("+d+","+m+")"}).classed("white_bars",!0).classed("dendro_corner_spillover",!0),d=0,m=r.clust.margin.top+r.clust.dim.height,h=r.clust.margin.left,v=10*r.clust.dim.height,d3.select(r.viz_svg).append("rect").attr("fill",r.background_color).attr("width",h).attr("height",v).attr("transform",function(){return"translate("+d+","+m+")"}).classed("white_bars",!0).classed("dendro_col_spillover",!0),i(t)}},function(t,e){"use strict";t.exports=function(t,e,r){var n;if(t.cat_names[r][e]===e){var i=parseInt(e.split("-")[1],10)+1;n="Category "+i}else n=t.cat_names[r][e];return n}},function(t,e,r){"use strict";var n=r(79);t.exports=function(t){var e=t.params;_.each(["row","col"],function(r){e.viz.show_categories[r]&&d3.selectAll(e.root+" ."+r+"_cat_super").on("dblclick",function(){e.sim_mat&&(r="both"),d3.selectAll(e.root+" .toggle_"+r+"_order .btn").classed("active",!1);var i=this.__data__.replace("-","_")+"_index";e.viz.sim_mat?(n(t,i,"row"),n(t,i,"col")):n(t,i,r)})})}},function(t,e,r){"use strict";var n=r(54),i=r(70),o=r(36),a=r(27),s=r(80),u=r(65);t.exports=function(t,e,r){var c=t.params,l=u(c),f=0;1==l.zoom_y&&1==l.zoom_x||(s(t,0,0,1),f=1200);var p;"row"===r?p="col":"col"===r&&(p="row"),c.viz.run_trans=!0,"row"===p?c.viz.inst_order.row=e:"col"===p&&(c.viz.inst_order.col=e),c.viz.show_dendrogram&&n(t,r),"row"===p?c.viz.x_scale.domain(c.matrix.orders[c.viz.inst_order.row+"_row"]):"col"==p&&c.viz.y_scale.domain(c.matrix.orders[c.viz.inst_order.col+"_col"]);var d;d=d3.selectAll(c.root+" .tile")[0].length<c.matrix.def_large_matrix?d3.select(c.root+" .viz_svg").transition().duration(2500).delay(f):d3.select(c.root+" .viz_svg");var m=c.network_data.row_nodes_names,h=c.network_data.col_nodes_names;if(c.viz.ds_level===-1&&(d.selectAll(".row").attr("transform",function(t){var e=_.indexOf(m,t.name);return"translate(0,"+c.viz.y_scale(e)+")"}).selectAll(".tile").attr("transform",function(t){return"translate("+c.viz.x_scale(t.pos_x)+" , 0)"}),d.selectAll(".tile_up").attr("transform",function(t){return"translate("+c.viz.x_scale(t.pos_x)+" , 0)"}),d.selectAll(".tile_dn").attr("transform",function(t){return"translate("+c.viz.x_scale(t.pos_x)+" , 0)"})),d.select(".row_label_zoom_container").selectAll(".row_label_group").attr("transform",function(t){var e=_.indexOf(m,t.name);return"translate(0,"+c.viz.y_scale(e)+")"}),d.select(".col_zoom_container").selectAll(".col_label_text").attr("transform",function(t){var e=_.indexOf(h,t.name);return"translate("+c.viz.x_scale(e)+") rotate(-90)"}),d.selectAll(".row_cat_group").attr("transform",function(t){var e=_.indexOf(m,t.name);return"translate(0,"+c.viz.y_scale(e)+")"}),d.selectAll(".col_cat_group").attr("transform",function(t){var e=_.indexOf(h,t.name);return"translate("+c.viz.x_scale(e)+",0)"}),c.network_data.links.forEach(function(t){t.x=c.viz.x_scale(t.target),t.y=c.viz.y_scale(t.source)}),c.zoom_info=o(),c.viz.ds_num_levels>0&&c.viz.ds_level>=0){a(c);var v=!0,g=!0,y=!0;i(t,v,g,y)}setTimeout(function(){c.viz.run_trans=!1},2500)}},function(t,e,r){"use strict";var n=r(2),i=r(81),o=r(70),a=r(36),s=r(85);t.exports=function(t,e,r,u){function c(t,e){d3.selectAll(l.root+" ."+t+"_dendro_crop_buttons").transition().duration(g).style("opacity",e)}var l=t.params;if(d3.selectAll(l.viz.root_tips).style("display","none"),l.zoom_info=a(),o(t),!l.viz.run_trans){var f=l.viz.clust.dim.height/2,p=f/u;if(r>=f-p){var d=f-r,m=-f/u+d;r+=m}r<-(f-p)&&(d=f+r,m=f/u-d,r+=m);var h=u,v=1,g=700,y=-(h-1)*f;d3.select(l.root+" .clust_group").transition().duration(g).attr("transform","translate("+[0,0+y]+") scale("+v+","+h+")translate("+[e,r]+")"),d3.select(l.root+" .row_label_zoom_container").transition().duration(g).attr("transform","translate("+[0,y]+") scale("+h+","+h+")translate("+[0,r]+")"),d3.select(l.root+" .row_cat_container").transition().duration(g).attr("transform","translate("+[0,y]+") scale(1,"+h+")translate("+[0,r]+")"),d3.select(l.root+" .row_dendro_container").transition().duration(g).attr("transform","translate("+[0,y]+") scale("+v+","+h+")translate("+[l.viz.uni_margin/2,r]+")");var x;_.each(["row","col"],function(t){x=d3.select(l.root+" ."+t+"_dendro_crop_buttons").style("opacity"),d3.selectAll(l.root+" ."+t+"_dendro_crop_buttons").style("opacity",0),setTimeout(c,700,t,x)}),d3.select(l.root+" .col_zoom_container").transition().duration(g).attr("transform"," scale("+v+","+v+")translate("+[e,0]+")"),d3.select(l.root+" .col_cat_container").transition().duration(g).attr("transform"," scale("+v+",1)translate("+[e,0]+")"),d3.select(l.root+" .col_dendro_container").transition().duration(g).attr("transform"," scale("+v+",1)translate("+[e,l.viz.uni_margin/2]+")");var w=l.viz.clust.margin.top+y+r*h,b=l.viz.clust.margin.left+e;l.zoom_behavior.scale(h).translate([b,w]),i(l),d3.select(l.root+" .row_label_zoom_container text").empty()===!1&&d3.select(l.root+" .row_label_zoom_container").each(function(){var t=d3.select(this).select("text")[0][0].getBBox();d3.select(this).select("rect").attr("x",.5*t.x).attr("y",0).attr("width",.5*t.width).attr("height",l.viz.y_scale.rangeBand()).style("fill","yellow")}),d3.select(l.root+" .row_dendro_icons_group").attr("transform","translate("+[0,0+y]+") scale("+v+","+h+")translate("+[e,r]+")"),d3.select(l.root+" .row_dendro_icons_group").selectAll("path").attr("transform",function(t){var e=l.viz.uni_margin,r=t.pos_mid;return"translate("+e+","+r+") scale(1, "+1/h+")"}),d3.select(l.root+" .col_dendro_icons_group").attr("transform",function(){var t=" scale("+v+","+h+")";return t}),d3.select(l.root+" .col_dendro_icons_group").selectAll("path").attr("transform",function(t){var e=t.pos_mid,r=l.viz.uni_margin;return"translate("+e+","+r+") scale(1,1)"}),n.has(l.network_data.col_nodes[0],"value")&&d3.selectAll(l.root+" .col_bars").attr("width",function(t){var e=0;return t.value>0&&(e=l.labels.bar_scale_col(t.value)/v),e}),n.has(l.network_data.row_nodes[0],"value")&&d3.selectAll(l.root+" .row_bars").transition().duration(g).attr("width",function(t){var e=0;return e=l.labels.bar_scale_row(Math.abs(t.value))/h}).attr("x",function(t){var e=0;return e=-l.labels.bar_scale_row(Math.abs(t.value))/h}),s(l)}}},function(t,e,r){"use strict";var n=r(2),i=r(82),o=r(83);t.exports=function(t){d3.selectAll(t.root+" .row_label_group").select("text").text(function(t){return n.normal_name(t)}),d3.selectAll(t.root+" .col_label_text").select("text").text(function(t){return n.normal_name(t)}),o(t),d3.selectAll(t.root+" .row_label_group").each(function(){i(t,this,"row")}),d3.selectAll(t.root+" .col_label_group").each(function(){i(t,this,"col")})}},function(t,e){"use strict";t.exports=function(t,e,r){function n(){return l=d3.select(this).text(),c=l.length,p=c-3,u=l.substring(0,p)+".."}function i(t){return l=d3.select(this).text(),c=".."===l.slice(-2)?l.length-2:l.length,f=t.name,p=c+2,u=f.substring(0,p)+"..",u.length>f.length&&(u=f),u}function o(t,e){return s=e<1?t:t*e}if("none"!=d3.select(e).style("display")){var a,s,u,c,l,f,p,d,m=t.viz.norm_labels.width[r];a="row"===r?t.viz.zoom_ratio.y?t.zoom_behavior.scale()/t.viz.zoom_ratio.y:t.zoom_behavior.scale():t.viz.zoom_ratio.x>1?t.zoom_behavior.scale()/t.viz.zoom_ratio.x:t.zoom_behavior.scale();var h;d3.select(e).select("text").each(function(t){h=t.name.length});var v=d3.select(e).select("text").node().getBBox().width;if(s=o(v,a),s>m)for(d=1;d<h;d++)s>m&&(d3.select(e).select("text").text(n),v=d3.select(e).select("text").node().getBBox().width,s=o(v,a));else if(s<.75*m)for(d=1;d<h;d++)s<.75*m&&(d3.select(e).select("text").text(i),v=d3.select(e).select("text").node().getBBox().width,s=o(v,a))}}},function(t,e,r){"use strict";var n=r(84);t.exports=function(t){var e,r=t.labels.default_fs_row,i=3,o=n(t);o.row>i&&(o.row>t.labels.max_allow_fs?(e=t.viz.zoom_ratio.y?t.zoom_behavior.scale()/t.viz.zoom_ratio.y:t.zoom_behavior.scale(),e<1&&(e=1),r=t.labels.max_allow_fs/e,d3.selectAll(t.root+" .row_label_group").select("text").style("font-size",r+"px").attr("y",.5*t.viz.rect_height+.35*r)):d3.selectAll(t.root+" .row_label_group").select("text").style("font-size",t.labels.default_fs_row+"px").attr("y",.5*t.viz.rect_height+.35*t.labels.default_fs_row)),o.col>i&&(o.col>t.labels.max_allow_fs?(e=t.viz.zoom_ratio.x>1?t.zoom_behavior.scale()/t.viz.zoom_ratio.x:t.zoom_behavior.scale(),e<1&&(e=1),r=t.labels.max_allow_fs/e,r>.7*t.viz.rect_width&&(r=.7*t.viz.rect_width),d3.selectAll(t.root+" .col_label_text").select("text").style("font-size",r+"px")):d3.selectAll(t.root+" .col_label_text").select("text").style("font-size",t.labels.default_fs_col+"px"))}},function(t,e){"use strict";t.exports=function(t){var e={};return t.viz.zoom_ratio.x>1?(e.row=t.labels.default_fs_row*t.zoom_behavior.scale(),e.col=t.labels.default_fs_col*t.zoom_behavior.scale()):(e.row=t.labels.default_fs_row*t.zoom_behavior.scale()/t.viz.zoom_ratio.y,e.col=t.labels.default_fs_col*t.zoom_behavior.scale()),e}},function(t,e){"use strict";t.exports=function(t){t.zoom_info.zoom_x*t.viz.border_width.x>1?d3.selectAll(t.root+" .vert_lines").select("line").style("display","block").style("opacity",0).transition().style("opacity",1):d3.selectAll(t.root+" .vert_lines").select("line").style("display","none"),t.zoom_info.zoom_y*t.viz.border_width.y>1?d3.selectAll(t.root+" .horz_lines").select("line").style("display","block").style("opacity",0).transition().style("opacity",1):d3.selectAll(t.root+" .horz_lines").select("line").style("display","none")}},function(t,e,r){"use strict";var n=r(77),i=r(48);t.exports=function(t){var e=t.params,r=e.viz,o=2.75;d3.select(e.root+" .row_cat_label_container").empty()&&(d3.select(t.params.viz.viz_svg).append("g").classed("row_cat_label_container",!0),d3.select(t.params.viz.viz_svg+" .row_cat_label_container").append("g").classed("row_cat_label_bar_container",!0));var a=r.clust.margin.left+r.clust.dim.width+r.uni_margin,s=r.norm_labels.margin.top+r.norm_labels.width.col+2.5*r.uni_margin,u=1.15*r.cat_room.symbol_width,c=.65,l=1.25;d3.select(e.root+" .row_cat_label_container").attr("transform",function(){return a=r.norm_labels.margin.left+r.norm_labels.width.row+r.cat_room.symbol_width+o*r.uni_margin,s=r.clust.margin.top-r.uni_margin,"translate("+a+","+s+") rotate(-90)"}),d3.selectAll(e.root+" .row_cat_label_container text").remove(),d3.selectAll(e.root+" .row_cat_selection_bar").remove(),d3.selectAll(t.params.viz.root_tips+"_row_cat_super").remove();var f=50,p=-75,d=i().attr("class",function(){var t=e.viz.root_tips.replace(".",""),r=t+" d3-tip "+t+"_row_cat_super";return r}).direction("south_custom").offset([f,p]).style("display","none").style("opacity",0).html(function(t){var i,o=e.network_data.row_nodes[0][t];if(o.indexOf("<p>")>-1){var a=o.split(": ")[0],s=o.split("<p>")[1];i=a+"<p>"+s}else i=n(r,t,"row");return i}),m=l*r.cat_room.symbol_width,h=.9*m;if(d3.select(e.root+" .row_cat_label_container").selectAll().data(r.all_cats.row).enter().append("text").style("width","100px").style("height",h+"px").classed("row_cat_super",!0).style("font-size",u+"px").style("opacity",c).style("cursor","default").attr("transform",function(t){var e=l*r.cat_room.symbol_width*parseInt(t.split("-")[1],10);return"translate(0,"+e+")"}).text(function(t){return n(r,t,"row")}),d3.select(e.root+" .row_cat_label_container").selectAll().data(r.all_cats.row).enter().append("rect").classed("row_cat_super",!0).classed("row_cat_selection_bar",!0).style("height",h+"px").style("fill","green").style("width","120px").style("opacity",0).attr("transform",function(t){var e=m*(parseInt(t.split("-")[1],10)-.75);return"translate(0,"+e+")"}).on("mouseover",function(t){d3.selectAll(e.viz.root_tips+"_row_cat_super").style("display","block").style("opacity",1),d.show(t)}).on("mouseout",function(){d.hide(this),d3.selectAll(".d3-tip").style("display","none"),d3.selectAll(e.viz.root_tips+"_row_cat_super").style("display","none").style("opacity",0)}),d3.select(e.root+" .row_cat_selection_bar").empty()===!1&&d3.selectAll(e.root+" .row_cat_selection_bar").call(d),_.has(e.network_data,"row_cat_bars")){d3.select(e.root+" .enr_title").remove();var v=d3.select(e.root+" .viz_svg").append("g").classed("enr_title",!0).attr("transform",function(){var t=d3.select(e.root+" .row_cat_label_container").attr("transform").split("(")[1].split(")")[0],r=Number(t.split(",")[0])-10;return"translate("+String(r)+", 0)"});v.append("rect").attr("width",e.viz.cat_room.row).attr("height",25).attr("fill","white");var g=e.network_data.enrichrgram_lib.substring(0,40);v.append("text").attr("transform","translate(0, 17)").text(g.replace(/_/g," ")).style("font-size","15px").attr("font-family",'"Helvetica Neue", Helvetica, Arial, sans-serif'),d3.selectAll(e.root+" .enrichr_bars").remove();var y=e.viz.clust.margin.top-35,x=e.network_data.row_cat_bars[0],w=d3.scale.linear().domain([0,x]).range([0,y]);d3.select(e.root+" .row_cat_label_bar_container").selectAll().data(e.network_data.row_cat_bars).enter().append("rect").classed("enrichr_bars",!0).attr("height",h+"px").attr("fill","red").attr("width",function(t){var e=w(t);return e+"px"}).attr("opacity",.4).attr("transform",function(t,e){var r=m*(e-.75);return"translate(0, "+r+")"})}}},function(t,e,r){"use strict";var n=r(88);t.exports=function(t){var e,r=t.params;d3.select(r.root+" .expand_button").on("click",null);var i=.4;e=d3.select(r.root+" .expand_button").empty()?d3.select(r.viz.viz_svg).append("text").attr("class","expand_button"):d3.select(r.root+" .expand_button"),e.attr("text-anchor","middle").attr("dominant-baseline","central").attr("font-family","FontAwesome").attr("font-size","30px").text(function(){return r.viz.is_expand===!1?"":""}).attr("y","25px").attr("x","25px").style("cursor","pointer").style("opacity",i).on("mouseover",function(){d3.select(this).style("opacity",.75)}).on("mouseout",function(){d3.select(this).style("opacity",i)}).on("click",function(){r.viz.is_expand===!1?(d3.select(this).text(function(){return""}),r.viz.is_expand=!0,d3.selectAll(r.root+" .borders").style("fill","white"),d3.select(r.root+" .sidebar_wrapper").style("display","none")):(d3.select(this).text(function(){return""}),r.viz.is_expand=!1,d3.selectAll(r.root+" .borders").style("fill","#eee"),d3.select(r.root+" .viz_wrapper").style("width","100px"),d3.select(r.root+" .sidebar_wrapper").style("display","block")),d3.select(r.viz.viz_svg).style("opacity",.5);var e=500;1==r.viz.run_trans&&(e=2500),setTimeout(n,e,t)})}},function(t,e,r){"use strict";var n=r(2),i=r(89),o=r(97),a=r(98),s=r(99),u=r(100),c=r(101),l=r(102),f=r(103),p=r(104),d=r(105),m=r(106),h=r(107),v=r(108),g=r(109),y=r(110),x=r(111),w=r(112),b=r(81),N=r(55),z=r(54),A=r(70),E=r(18),M=r(113),O=r(86),S=r(78),k=r(114),T=r(36),C=r(115);t.exports=function(t){var e=t.params,r=E(e);d3.select(e.root+" .play_button"),d3.select(e.root+" .sidebar_wrapper").style("height",r.height+"px"),d3.select(e.viz.viz_wrapper).style("margin-top",r.top+"px").style("width",r.width+"px").style("height",r.height+"px"),e=y(e),e.zoom_info=T(),a(e);var B=d3.select(e.viz.viz_svg);_.each(e.network_data.links,function(t){t.x=e.viz.x_scale(t.target),t.y=e.viz.y_scale(t.source)}),B.on(".zoom",null),e.zoom_behavior.scaleExtent([1,e.viz.square_zoom*e.viz.zoom_ratio.x]).on("zoom",function(){i(t)}),e.viz.do_zoom&&B.call(e.zoom_behavior),o(t),B.attr("width",e.viz.svg_dim.width).attr("height",e.viz.svg_dim.height),B.select(".super_background").style("width",e.viz.svg_dim.width).style("height",e.viz.svg_dim.height),B.select(".grey_background").attr("width",e.viz.clust.dim.width).attr("height",e.viz.clust.dim.height),setTimeout(M,100,e);var I=e.network_data.row_nodes,R=n.pluck(I,"name");x(e,B),B.selectAll(".highlighting_rect").attr("width",.8*e.viz.x_scale.rangeBand()).attr("height",.8*e.viz.y_scale.rangeBand()),p(e),f(e,B),d(e,B),B.selectAll(".row_label_group").each(function(){var t=d3.select(this).select("text")[0][0].getBBox();d3.select(this).select("rect").attr("x",t.x).attr("y",0).attr("width",t.width).attr("height",e.viz.rect_height).style("fill","yellow").style("opacity",function(t){var e=0;return 1===t.target&&(e=1),e})}),B.selectAll(".row_label_group").select("text").attr("y",.5*e.viz.rect_height+.35*e.labels.default_fs_row),n.has(e.network_data.row_nodes[0],"value")&&w(t,B),B.selectAll(".row_cat_group").attr("transform",function(t){var r=_.indexOf(R,t.name);return"translate(0, "+e.viz.y_scale(r)+")"}),B.selectAll(".row_cat_group").select("path").attr("d",function(){var t=e.viz.cat_room.symbol_width-1,r=0,n=1,i=e.viz.rect_height/2,o=e.viz.cat_room.symbol_width-1,a=e.viz.rect_height,s="M "+t+","+r+" L "+n+","+i+", L "+o+","+a+" Z";return s});var P=!0;e.viz.show_dendrogram?(N(t,"row",P),N(t,"col",P),s(e,B),z(t,"row",0),z(t,"col",0)):s(e,B),m(e,B),h(e,B),v(e,B),g(e,B),u(e,B),c(e.viz,B),C(e),l(e,B),e.zoom_behavior.scale(1).translate([e.viz.clust.margin.left,e.viz.clust.margin.top]),b(e),d3.select(e.root+" .clust_container").attr("transform","translate("+e.viz.clust.margin.left+","+e.viz.clust.margin.top+")"),t.params.viz.ds_level===-1&&A(t),O(t),d3.select(e.viz.viz_svg).style("opacity",1),S(t),d3.select(t.params.root+" .row_slider_group").style("opacity",0),d3.select(t.params.root+" .col_slider_group").style("opacity",0),setTimeout(k,500,t,"row"),setTimeout(k,500,t,"col")}},function(t,e,r){"use strict";var n=r(90),i=r(95),o=r(96);t.exports=function(t){var e=t.params,r={};if(r.zoom_x=d3.event.scale,r.zoom_y=d3.event.scale,r.trans_x=e.zoom_behavior.translate()[0]-e.viz.clust.margin.left,r.trans_y=e.zoom_behavior.translate()[1]-e.viz.clust.margin.top,d3.selectAll(e.viz.root_tips).style("display","none"),e.zoom_info=i(e,r),e.zoom_info=o(e,r),e.is_slider_drag===!1&&e.is_cropping===!1){var a=e.zoom_info.trans_x+e.viz.clust.margin.left,s=e.zoom_info.trans_y+e.viz.clust.margin.top;e.zoom_behavior.translate([a,s]),t.params=e,n(t)}}},function(t,e,r){"use strict";var n=r(83),i=r(70),o=r(91),a=r(62),s=r(65),u=r(92),c=r(94);t.exports=function(t){function e(t){var e=t.params,r=c(e);r===!0&&setTimeout(u,50,t)}var r=t.params,l=r.zoom_info,f=s(r);d3.select(r.root+" .clust_group").attr("transform","translate("+[l.trans_x,l.trans_y]+") scale("+l.zoom_x+","+l.zoom_y+")"),d3.select(r.root+" .row_label_zoom_container").attr("transform","translate("+[0,l.trans_y]+") scale("+l.zoom_y+")"),d3.select(r.root+" .col_zoom_container").attr("transform","translate("+[l.trans_x,0]+") scale("+l.zoom_x+")"),d3.select(r.root+" .row_cat_container").attr("transform","translate("+[0,l.trans_y]+") scale( 1,"+l.zoom_y+")"),d3.select(r.root+" .row_dendro_container").attr("transform","translate("+[r.viz.uni_margin/2,l.trans_y]+") scale( 1,"+l.zoom_y+")"),d3.select(r.root+" .row_dendro_icons_group").attr("transform",function(){var t=l.trans_y,e="translate("+[0,t]+") ",r="scale(1, "+l.zoom_y+")",n=e+r;
return n}),d3.select(r.root+" .col_dendro_icons_group").attr("transform",function(){var t=l.trans_x,e="translate("+[t,0]+")",r="scale("+l.zoom_x+", 1)",n=e+r;return n}),a(r,l,"row"),a(r,l,"col"),d3.select(r.root+" .col_cat_container").attr("transform","translate("+[l.trans_x,0]+") scale("+l.zoom_x+",1)"),d3.select(r.root+" .col_dendro_container").attr("transform","translate("+[l.trans_x,r.viz.uni_margin/2]+") scale("+l.zoom_x+",1)"),o(r,l),d3.select(r.root+" .viz_svg").attr("is_zoom",function(){var t=Number(d3.select(r.root+" .viz_svg").attr("is_zoom"));return d3.select(r.root+" .viz_svg").attr("stopped_zoom",1),t+1});var p=function(){d3.select(r.root+" .viz_svg").attr("is_zoom",function(){var t=Number(d3.select(r.root+" .viz_svg").attr("is_zoom"));return t-1})};if(n(r),l.zoom_y<=f.zoom_y){var d=!1;l.zoom_y<f.zoom_y&&(d=!0);var m=!1;i(t,m,d)}setTimeout(p,50),setTimeout(e,100,t)}},function(t,e,r){"use strict";var n=r(2);t.exports=function(t){var e=t.zoom_info;n.has(t.network_data.row_nodes[0],"value")&&d3.selectAll(t.root+" .row_bars").attr("width",function(r){var n=0;return n=t.labels.bar_scale_row(Math.abs(r.value))/e.zoom_y}).attr("x",function(r){var n=0;return n=-t.labels.bar_scale_row(Math.abs(r.value))/e.zoom_y}),n.has(t.network_data.col_nodes[0],"value")&&d3.selectAll(t.root+" .col_bars").attr("width",function(r){var n=0;return r.value>0&&(n=t.labels.bar_scale_col(r.value)/e.zoom_x),n})}},function(t,e,r){"use strict";var n=r(83),i=r(82),o=r(93),a=r(85),s=r(70),u=r(94);t.exports=function(t){function e(){_.each(["row","col"],function(t){d3.selectAll(r.root+" ."+t+"_label_group").filter(function(){return"none"!=d3.select(this).style("display")}).select("text").style("font-size",function(){var t=Number(d3.select(this).style("font-size").replace("px",""));return t})})}var r=t.params,c=u(r);if(c===!0){_.each(["row","col"],function(t){d3.selectAll(r.root+" ."+t+"_label_group").select("text").style("opacity",1),d3.selectAll(r.root+" ."+t+"_cat_group").select("path").style("display","block")}),s(t,!0),d3.selectAll(r.viz.root_tips).style("display","block"),d3.selectAll(r.root+" .row_label_group").select("text").style("display","none"),d3.selectAll(r.root+" .row_label_group").select("text").style("display","block"),d3.select(r.root+" .viz_svg").attr("stopped_zoom",0),d3.selectAll(r.root+" .row_label_group").select("text").style("display","block"),d3.selectAll(r.root+" .col_label_group").select("text").style("display","block"),a(r),t.params.viz.x_offset=0;var l=150;_.each(["row","col"],function(t){var e=o(r,t);e<l&&d3.selectAll(r.root+" ."+t+"_label_group").each(function(){i(r,this,t)})}),e(),n(r),setTimeout(e,100)}}},function(t,e){"use strict";t.exports=function(t,e){var r;return"row"===e?(r=1e4,t.viz.ds_level===-1&&(r=d3.selectAll(t.root+" .row")[0].length)):"col"===e&&(r=d3.selectAll(t.root+" ."+e+"_label_text").filter(function(){return"none"!=d3.select(this).style("display")})[0].length),r}},function(t,e){"use strict";t.exports=function(t){var e=Number(d3.select(t.root+" .viz_svg").attr("is_zoom")),r=Number(d3.select(t.root+" .viz_svg").attr("stopped_zoom")),n=!1;return 0===e&&0!=r&&(n=!0),n}},function(t,e){"use strict";t.exports=function(t,e){var r=t.viz;return r.zoom_ratio.y>1&&(e.zoom_y<r.zoom_ratio.y?(e.trans_y=0,e.zoom_y=1):e.zoom_y=e.zoom_y/r.zoom_ratio.y),e.pan_room_y=(e.zoom_y-1)*r.clust.dim.height,e.trans_y>=0?e.trans_y=0:e.trans_y<=-e.pan_room_y&&(e.trans_y=-e.pan_room_y),e}},function(t,e){"use strict";t.exports=function(t,e){var r=t.viz;return r.zoom_ratio.x>1&&(e.zoom_x<r.zoom_ratio.x?e.zoom_x=1:e.zoom_x=e.zoom_x/r.zoom_ratio.x),e.pan_room_x=(e.zoom_x-1)*r.clust.dim.width,e.trans_x>0?e.trans_x=0:e.trans_x<=-e.pan_room_x&&(e.trans_x=-e.pan_room_x),e}},function(t,e,r){"use strict";var n=r(80);t.exports=function(t){var e=t.params;d3.selectAll(e.viz.zoom_element).on("dblclick.zoom",null),d3.select(e.viz.zoom_element).on("dblclick",function(){n(t,0,0,1)})}},function(t,e){"use strict";t.exports=function(t){var e=1,r=0,n=0,i=t.viz.clust.dim.height/2,o=-(e-1)*i;d3.select(t.root+" .clust_group").attr("transform","translate("+[0,0+o]+") scale(1,"+e+")translate("+[r,n]+")"),d3.select(t.root+" .row_label_zoom_container").attr("transform","translate("+[0,o]+") scale("+e+","+e+")translate("+[0,n]+")"),d3.select(t.root+" .row_cat_container").attr("transform","translate("+[0,o]+") scale(1,"+e+")translate("+[0,n]+")"),d3.select(t.root+" .row_dendro_container").attr("transform","translate("+[0,o]+") scale("+e+","+e+")translate("+[t.viz.uni_margin/2,n]+")"),d3.select(t.root+" .col_zoom_container").attr("transform"," scale(1,1)translate("+[r,0]+")"),d3.select(t.root+" .col_cat_container").attr("transform"," scale(1,1)translate("+[r,0]+")"),d3.select(t.root+" .col_dendro_container").attr("transform"," scale(1,1)translate("+[r,t.viz.uni_margin/2]+")"),d3.select(t.root+" .row_dendro_icons_group").attr("transform",function(){return"translate(0,0) scale(1)"}),d3.select(t.root+" .row_dendro_icons_group").selectAll("path").attr("transform",function(t){var e=7,r=t.pos_mid;return"translate("+e+","+r+") scale(1, 1)"})}},function(t,e){"use strict";t.exports=function(t,e){var r=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],n={};r===!1?n.run_transition=!1:n=r;var i,o=t.viz.duration,a=t.network_data.col_nodes,s=t.network_data.col_nodes_names;n.run_transition?(i=e.transition().delay(n.update).duration(o),e.selectAll(".col_cat_group").data(a,function(t){return t.name}).transition().delay(n.update).duration(o).attr("transform",function(e){var r=_.indexOf(s,e.name);return"translate("+t.viz.x_scale(r)+",0)"}),e.selectAll(".col_dendro_group").data(a,function(t){return t.name}).transition().delay(n.update).duration(o).attr("transform",function(e){var r=_.indexOf(s,e.name);return"translate("+t.viz.x_scale(r)+",0)"})):(i=e,e.selectAll(".col_cat_group").data(a,function(t){return t.name}).attr("transform",function(e){var r=_.indexOf(s,e.name);return"translate("+t.viz.x_scale(r)+",0)"}),d3.select(t.root).selectAll(".col_dendro_group").data(a,function(t){return t.name}).attr("transform",function(e){var r=_.indexOf(s,e.name);return"translate("+t.viz.x_scale(r)+",0)"}));var u,c;_.each(["row","col"],function(e){var r=t.viz.all_cats[e].length;for(u=0;u<r;u++)c="."+e+"_cat_rect_"+String(u),"row"===e?i.selectAll(c).attr("height",t.viz.y_scale.rangeBand()):i.selectAll(c).attr("width",t.viz.x_scale.rangeBand())});var l=t.viz.clust.margin.left+t.viz.clust.dim.width,f=t.viz.clust.margin.top,p=t.viz.dendro_room.row+t.viz.uni_margin;d3.select(t.root+" .viz_svg").select("row_dendro_outer_container").attr("transform","translate("+l+","+f+")"),d3.select(t.root+" .row_dendro_outer_container").select(".row_dendro_spillover").attr("width",p+"px").attr("height",t.viz.svg_dim.height),l=t.viz.clust.margin.left,f=t.viz.clust.margin.top+t.viz.clust.dim.height;var d=t.viz.dendro_room.col+t.viz.uni_margin;d3.select(t.root+" .col_dendro_outer_container").select(".col_dendro_spillover").attr("width",t.viz.svg_dim.width).attr("height",d+"px"),d3.select(t.root+" .col_dendro_outer_container").select(".col_dendro_spillover_top").attr("width",t.viz.svg_dim.width).attr("height",t.viz.svg_dim.height).attr("transform","translate(0,"+t.viz.dendro_room.col+")"),l=t.viz.clust.margin.left,f=0,d3.select(t.root+" .col_dendro_icons_container").attr("transform","translate("+l+","+f+")")}},function(t,e){"use strict";t.exports=function(t,e){var r,n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],i={},o=t.viz.duration;n===!1?i.run_transition=!1:i=n,r=i.run_transition?e.transition().delay(i.update).duration(o):e,r.select(".super_col_bkg").attr("height",t.viz.super_labels.dim.width+"px").attr("transform","translate("+t.viz.clust.margin.left+","+t.viz.grey_border_width+")"),r.select(".super_col").attr("transform",function(){var e=t.viz.clust.dim.width/2+t.viz.norm_labels.width.row,r=t.viz.super_labels.dim.width;return"translate("+e+","+r+")"}),r.select(".super_row_bkg").attr("width",t.viz.super_labels.dim.width+"px").attr("transform","translate("+t.viz.grey_border_width+",0)"),r.select(".super_row").attr("transform",function(){var e=t.viz.super_labels.dim.width,r=t.viz.clust.dim.height/2+t.viz.norm_labels.width.col;return"translate("+e+","+r+")"})}},function(t,e){"use strict";t.exports=function(t,e){var r,n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],i={},o=t.duration;n===!1?i.run_transition=!1:i=n,r=i.run_transition?e.transition().delay(i.update).duration(o):e,r.select(t.root+" .right_slant_triangle").attr("transform","translate("+t.clust.dim.width+","+t.norm_labels.width.col+")"),r.select(t.root+" .left_slant_triangle").attr("transform","translate(-1,"+t.norm_labels.width.col+")");var a=t.clust.margin.top+t.uni_margin/5;r.select(t.root+" .top_left_white").attr("width",t.clust.margin.left).attr("height",a);var s=t.clust.margin.left+t.clust.dim.width+t.uni_margin+t.dendro_room.row,u=t.norm_labels.margin.top+t.norm_labels.width.col;r.select(t.root+" .right_spillover_container").attr("transform",function(){return"translate("+s+", 0)"}),u=t.norm_labels.margin.top+t.norm_labels.width.col,r.select(t.root+" .right_spillover_container rect").attr("transform",function(){return"translate( 0,"+u+")"}),r.select(t.root+" .right_spillover").attr("height",t.svg_dim.height+"px");var c=t.clust.margin.left+t.clust.dim.width,l=u,f=t.dendro_room.row+t.uni_margin,p=t.cat_room.col+t.uni_margin;d3.select(t.root+" .dendro_row_spillover").attr("width",f).attr("height",p).attr("transform",function(){return"translate("+c+","+l+")"}),c=0,l=t.clust.margin.top+t.clust.dim.height,f=t.clust.margin.left,p=10*t.clust.dim.height,r.select(".dendro_col_spillover").attr("width",f).attr("height",p).attr("transform",function(){return"translate("+c+","+l+")"}),c=t.clust.margin.left+t.clust.dim.width,l=t.clust.margin.top+t.clust.dim.height,f=t.cat_room.col+t.clust.dim.width,p=t.cat_room.row+t.uni_margin,r.select(".dendro_corner_spillover").attr("width",f).attr("height",p).attr("transform",function(){return"translate("+c+","+l+")"}),c=t.clust.margin.left+t.clust.dim.width+t.uni_margin,l=t.norm_labels.margin.top+t.norm_labels.width.col+2.5*t.uni_margin;var d=2.75,m=1.2;t.show_categories.col&&d3.selectAll(t.root+" .col_cat_super").attr("transform",function(e){var r=parseInt(e.split("-")[1],10),n=l+m*t.cat_room.symbol_width*r;return"translate("+c+","+n+")"}),t.show_categories.row&&d3.select(t.root+" .row_cat_label_container").attr("transform",function(){return c=t.norm_labels.margin.left+t.norm_labels.width.row+t.cat_room.symbol_width+d*t.uni_margin,l=t.clust.margin.top-t.uni_margin,"translate("+c+","+l+") rotate(-90)"}),l=t.show_dendrogram?t.clust.margin.top+t.clust.dim.height+t.dendro_room.col-2*t.uni_margin:t.clust.margin.top+t.clust.dim.height,d3.select(t.root+" .bottom_spillover_container").attr("transform",function(){return"translate(0,"+l+")"}),r.select(t.root+" .bottom_spillover").attr("width",t.svg_dim.width).attr("height",2*t.svg_dim.height);var h=t.cat_room.col+1.5*t.uni_margin;d3.select(t.viz_svg+" .top_right_white").attr("fill",t.background_color).attr("width",2*t.clust.dim.width).attr("height",h).attr("transform",function(){var e=t.clust.margin.left+t.clust.dim.width,r=t.norm_labels.width.col+t.norm_labels.margin.top-t.uni_margin;return"translate("+e+", "+r+")"})}},function(t,e){"use strict";t.exports=function(t,e){e.select(".left_border").attr("width",t.viz.grey_border_width).attr("height",t.viz.svg_dim.height).attr("transform","translate(0,0)"),e.select(".right_border").attr("width",t.viz.grey_border_width).attr("height",t.viz.svg_dim.height).attr("transform",function(){var e=t.viz.svg_dim.width-t.viz.grey_border_width;return"translate("+e+",0)"}),e.select(".top_border").attr("width",t.viz.svg_dim.width).attr("height",t.viz.grey_border_width).attr("transform",function(){var t=0;return"translate("+t+",0)"}),e.select(".bottom_border").attr("width",t.viz.svg_dim.width).attr("height",t.viz.grey_border_width).attr("transform",function(){var e=t.viz.svg_dim.height-t.viz.grey_border_width;return"translate(0,"+e+")"})}},function(t,e){"use strict";t.exports=function(t,e){var r,n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],i={},o=t.viz.duration,a=t.network_data.row_nodes,s=t.network_data.row_nodes_names;n===!1?i.run_transition=!1:i=n,i.run_transition?(e.selectAll(".row_label_group").data(a,function(t){return t.name}).transition().delay(i.update).duration(o).attr("transform",function(e){var r=_.indexOf(s,e.name);return"translate(0,"+t.viz.y_scale(r)+")"}).attr("y",.5*t.viz.rect_height+.35*t.labels.default_fs_row),r=e.transition().delay(i.update).duration(o)):(e.selectAll(".row_label_group").data(a,function(t){return t.name}).attr("transform",function(e){var r=_.indexOf(s,e.name);return"translate(0,"+t.viz.y_scale(r)+")"}).attr("y",.5*t.viz.rect_height+.35*t.labels.default_fs_row),r=e),r.select(t.root+" .row_container").attr("transform","translate("+t.viz.norm_labels.margin.left+","+t.viz.clust.margin.top+")"),r.select(t.root+" .row_container").select(".white_bars").attr("width",t.viz.label_background.row).attr("height",30*t.viz.clust.dim.height+"px"),r.select(t.root+" .row_container").select(".row_label_container").attr("transform","translate("+t.viz.norm_labels.width.row+",0)")}},function(t,e){"use strict";t.exports=function(t){var e=6,r=e*t.viz.border_width.x,n=e*t.viz.border_width.y;d3.select(t.root+" .top_hlight").attr("width",t.viz.rect_width).attr("height",n).attr("transform",function(){return"translate("+t.viz.x_scale(t.matrix.click_hlight_x)+",0)"}),d3.select(t.root+" .left_hlight").attr("width",r).attr("height",t.viz.rect_width-.99*n).attr("transform",function(){return"translate("+t.viz.x_scale(t.matrix.click_hlight_x)+","+.99*n+")"}),d3.select(t.root+" .right_hlight").attr("width",r).attr("height",t.viz.rect_height-.99*n).attr("transform",function(){var e=t.viz.x_scale(t.matrix.click_hlight_x)+t.viz.rect_width-r;return"translate("+e+","+.99*n+")"}),d3.select(t.root+" .bottom_hlight").attr("width",function(){return t.viz.rect_width-1.98*r}).attr("height",n).attr("transform",function(){var e=t.viz.x_scale(t.matrix.click_hlight_x)+.99*r,i=t.viz.rect_height-n;return"translate("+e+","+i+")"}),d3.select(t.root+" .row_top_hlight").attr("width",t.viz.svg_dim.width).attr("height",n),d3.select(t.root+" .row_bottom_hlight").attr("width",t.viz.svg_dim.width).attr("height",n).attr("transform",function(){var e=t.viz.rect_height-n;return"translate(0,"+e+")"}),d3.select(t.root+" .col_top_hlight").attr("width",t.viz.clust.dim.height).attr("height",r).attr("transform",function(){var e=0,r=-(t.viz.clust.dim.height+t.viz.cat_room.col+t.viz.uni_margin);return"translate("+r+","+e+")"}),d3.select(t.root+" .col_bottom_hlight").attr("width",t.viz.clust.dim.height).attr("height",r).attr("transform",function(){var e=t.viz.rect_width-r,n=-(t.viz.clust.dim.height+t.viz.cat_room.col+t.viz.uni_margin);return"translate("+n+","+e+")"})}},function(t,e){"use strict";t.exports=function(t,e){var r,n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],i={},o=t.viz.duration;n===!1?i.run_transition=!1:i=n,r=i.run_transition?e.transition().delay(i.update).duration(o):e,r.select(".row_cat_outer_container").attr("transform","translate("+t.viz.norm_labels.width.row+",0)").select("white_bars").attr("width",t.viz.cat_room.row+"px").attr("height",function(){var e=t.viz.clust.dim.height;return e});var a=t.viz.clust.margin.left+t.viz.clust.dim.width,s=t.viz.clust.margin.top;r.select(".row_dendro_outer_container").attr("transform","translate("+a+","+s+")"),a=t.viz.clust.margin.left,s=t.viz.clust.margin.top+t.viz.clust.dim.height,r.select(" .col_dendro_outer_container").attr("transform",function(){return"translate("+a+","+s+")"})}},function(t,e){"use strict";t.exports=function(t,e){var r,n=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],i={},o=t.viz.duration,a=t.network_data.col_nodes,s=t.network_data.col_nodes_names;n===!1?i.run_transition=!1:i=n,i.run_transition?(r=e.transition().delay(i.update).duration(o),e.selectAll(".col_label_text").data(a,function(t){return t.name}).transition().delay(i.update).duration(o).attr("transform",function(e){var r=_.indexOf(s,e.name);return"translate("+t.viz.x_scale(r)+", 0) rotate(-90)"})):(r=e,e.selectAll(".col_label_text").data(a,function(t){return t.name}).attr("transform",function(e){var r=_.indexOf(s,e.name);return"translate("+t.viz.x_scale(r)+", 0) rotate(-90)"}));var u=t.viz.x_scale.rangeBand()/2+t.viz.border_width.x;r.select(t.root+" .col_container").attr("transform","translate("+t.viz.clust.margin.left+","+t.viz.norm_labels.margin.top+")"),r.select(t.root+" .col_container").select(".white_bars").attr("width",30*t.viz.clust.dim.width+"px").attr("height",t.viz.label_background.col),r.select(t.root+" .col_container").select(".col_label_outer_container").attr("transform","translate(0,"+t.viz.norm_labels.width.col+")"),r.selectAll(".col_label_group").attr("transform","translate("+t.viz.x_scale.rangeBand()/2+","+u+") rotate(45)"),r.selectAll(".col_label_group").select("text").attr("y",.6*t.viz.x_scale.rangeBand()).attr("dx",2*t.viz.border_width.x)}},function(t,e,r){"use strict";var n=r(2);t.exports=function(t,e){e.selectAll(".col_label_group").select("text").style("font-size",t.labels.default_fs_col+"px").text(function(t){return n.normal_name(t)}),e.selectAll(".col_label_group").each(function(){d3.select(this).select("text")[0][0].getBBox()})}},function(t,e,r){"use strict";var n=r(74);t.exports=function(t,e){var r=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],i=e.selectAll(".col_label_group").select("path"),o={},a=t.viz.duration;r===!1?o.run_transition=!1:o=r;var s;s=o.run_transition?i.transition().delay(o.update).duration(a):i,s.attr("d",function(){return n(t)}).attr("fill","#eee")}},function(t,e,r){"use strict";var n=r(2);t.exports=function(t,e){var r=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],i={};r===!1?i.run_transition=!1:i=r,n.has(t.network_data.col_nodes[0],"value")&&e.selectAll(".col_bars").data(t.network_data.col_nodes,function(t){return t.name}).attr("width",function(e){var r=0;return e.value>0&&(r=t.labels.bar_scale_col(e.value)),r}).attr("height",.66*t.viz.rect_width)}},function(t,e,r){"use strict";var n=r(19),i=r(22),o=r(21),a=r(31),s=r(30);t.exports=function(t){if(t=n(t),t.viz=o(t.viz),t.viz=i(t.viz),t.sim_mat&&(t.viz.clust.dim.width<=t.viz.clust.dim.height?t.viz.clust.dim.height=t.viz.clust.dim.width:t.viz.clust.dim.width=t.viz.clust.dim.height),t.viz=s(t.viz),t.viz.x_scale.rangeBands([0,t.viz.clust.dim.width]),t.viz.y_scale.rangeBands([0,t.viz.clust.dim.height]),t.viz.border_width.x=t.viz.x_scale.rangeBand()/t.viz.border_fraction,t.viz.border_width.y=t.viz.y_scale.rangeBand()/t.viz.border_fraction,t.viz.rect_width=t.viz.x_scale.rangeBand()-t.viz.border_width.x,t.viz.rect_height=t.viz.y_scale.rangeBand()-t.viz.border_width.y,null!=t.viz.ds)for(var e;e<t.viz.ds.length;e++)t.viz.ds[e].rect_height=t.viz.ds[e].y_scale.rangeBand()-t.viz.border_width.y;return t.viz.ds_num_levels>0&&_.each(t.viz.ds,function(e){e.y_scale=d3.scale.ordinal().rangeBands([0,t.viz.clust.dim.height]),e.y_scale.domain(d3.range(e.num_rows+1)),e.rect_height=e.y_scale.rangeBand()-t.viz.border_width.y}),t.viz.square_zoom=t.viz.norm_labels.width.col/(t.viz.rect_width/2),t=a(t)}},function(t,e,r){"use strict";var n=r(43),i=r(44),o=r(47);t.exports=function(t,e){var r=t.network_data.row_nodes_names;if(t.viz.ds_level===-1)e.selectAll(".row").attr("transform",function(e){var n=_.indexOf(r,e.name),i=t.viz.y_scale(n);return"translate(0,"+i+")"}),e.selectAll(".row").selectAll(".tile").attr("transform",function(e){return o(t,e)}).attr("width",t.viz.rect_width).attr("height",t.viz.rect_height),e.selectAll(".row").selectAll(".tile_up").attr("d",function(){return n(t)}).attr("transform",function(e){return o(t,e)}),e.selectAll(".row").selectAll(".tile_dn").attr("d",function(){return i(t)}).attr("transform",function(e){return o(t,e)});else{var a=t.viz.ds_level,s=".ds"+String(a)+"_row",u=t.viz.ds[a].rect_height;e.selectAll(s).attr("transform",function(e){var r=t.viz.ds[a].y_scale(e.row_index);return"translate(0,"+r+")"}),e.selectAll(s).selectAll(".tile").attr("transform",function(e){return o(t,e)}).attr("width",t.viz.rect_width).attr("height",u)}}},function(t,e,r){"use strict";var n=r(23);t.exports=function(t,e){var r=t.params;r=n(r),e.selectAll(".row_bars").attr("width",function(t){var e=0;return e=r.labels.bar_scale_row(Math.abs(t.value))}).attr("x",function(t){var e=0;return e=-r.labels.bar_scale_row(Math.abs(t.value))}).attr("height",r.viz.y_scale.rangeBand())}},function(t,e){"use strict";t.exports=function(t){var e=d3.select(t.root+" .clust_container").attr("transform"),r=Number(e.split("(")[1].split(",")[0]),n=Number(e.split(",")[1].replace(")","")),i=r+t.viz.clust.dim.width/2,o=n+t.viz.clust.dim.height/2;d3.select(t.root+" .play_button").attr("transform",function(){return"translate("+i+","+o+")"})}},function(t,e){"use strict";t.exports=function(t,e){var r,n,i=t.params.viz;if("row"===e){var o=i.svg_dim.width-3*i.uni_margin;r=i.clust.margin.left+i.clust.dim.width+5*i.dendro_room.row,r>o&&(r=o),n=i.clust.margin.top+3*i.uni_margin}else r=2*i.uni_margin,n=i.clust.margin.top+i.clust.dim.height+i.dendro_room.col-2*i.uni_margin;d3.select(t.params.root+" ."+e+"_slider_group").attr("transform",function(){var t;return t="row"===e?"translate("+r+","+n+")":"translate("+r+","+n+"), rotate(-90)"}).style("opacity",1)}},function(t,e){"use strict";t.exports=function(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],r=0;e>0&&(r=2e3);var n=d3.selectAll(t.root+" .horz_lines"),i=d3.selectAll(t.root+" .vert_lines");n.style("opacity",0).attr("transform",function(e){var r=e.row_index,n=t.viz.y_scale(r);return"translate(  0,"+n+") rotate(0)"}).transition().duration(e).delay(r).style("opacity",1),n.append("line").attr("x1",0).attr("x2",t.viz.clust.dim.width).style("stroke-width",function(){var e=t.viz.border_width.y;return e+"px"}),i.style("opacity",0).attr("transform",function(e){var r=e.col_index,n=t.viz.x_scale(r);return"translate("+n+") rotate(-90)"}).transition().duration(e).delay(r).style("opacity",1),i.append("line").attr("x1",0).attr("x2",-t.viz.clust.dim.height).style("stroke-width",function(){var e=t.viz.border_width.x;return e+"px"})}},function(t,e,r){"use strict";var n=r(117),i=r(48),o=r(118),a=r(119),s=r(120),u=r(121);t.exports=function(t){var e=t.params;d3.select(e.root+" .col_cat_outer_container").empty()?d3.select(e.root+" .col_container").append("g").attr("class","col_cat_outer_container").attr("transform",function(){var t=e.viz.norm_labels.width.col+2;return"translate(0,"+t+")"}).append("g").attr("class","col_cat_container"):d3.select(e.root+" .col_container").select("col_cat_outer_container").attr("transform",function(){var t=e.viz.norm_labels.width.col+2;return"translate(0,"+t+")"}),d3.selectAll(e.viz.root_tips+"_col_cat_tip").remove();var r=i().attr("class",function(){var t=e.viz.root_tips.replace(".",""),r=t+" d3-tip "+t+"_col_cat_tip";return r}).direction("s").offset([5,0]).style("display","none").html(function(t){return n(e,t,this,"col")});d3.select(e.root+" .col_cat_container").selectAll("g").data(e.network_data.col_nodes,function(t){return t.name}).enter().append("g").attr("class","col_cat_group").attr("transform",function(t){var r=_.indexOf(e.network_data.col_nodes_names,t.name);return"translate("+e.viz.x_scale(r)+",0)"}),d3.select(e.root+" .col_cat_container").selectAll(".col_cat_group").call(r),d3.selectAll(e.root+" .col_cat_group").each(function(){var n,i=this;_.each(e.viz.all_cats.col,function(s){var l=parseInt(s.split("-")[1],10),f="col_cat_rect_"+String(l);n=d3.select(i).select("."+f).empty()?d3.select(i).append("rect").attr("class",f).attr("cat",s).attr("transform",function(){var t=e.viz.cat_room.symbol_width+e.viz.cat_room.separation,r=l*t;return"translate(0,"+r+")"}).on("click",function(r){if(d3.select(this).classed("cat_strings"))if(d3.event.shiftKey===!0)c(t,r,this,"col");else{var n=u(e,r,this,"col");$(e.root+" .dendro_info").modal("toggle");var i=n.join(", ");d3.select(e.root+" .dendro_info input").attr("value",i)}}):d3.select(i).select("."+f),n.attr("width",e.viz.x_scale.rangeBand()).attr("height",e.viz.cat_room.symbol_width).style("fill",function(t){var r=t[s],n=e.viz.cat_colors.col[s][r];return n}).on("mouseover",r.show).on("mouseout",function(){r.hide(this),o(e),d3.select(this).classed("hovering",!1),d3.selectAll(".d3-tip").style("display","none")}),a(e.viz,"col",n,s)})});var c=_.debounce(s,1500)}},function(t,e,r){"use strict";var n=r(77);t.exports=function(t,e,r,i){function o(){var e=!1;if(d3.select(r).classed("hovering")){var n=[i];t.viz.sim_mat&&(n=["row","col"]),_.each(n,function(r){"string"==typeof u&&u.indexOf("Not ")<0&&"false"!=u&&(e=!0),e&&d3.selectAll(t.root+" ."+r+"_cat_group").selectAll("rect").style("opacity",function(e){var r=d3.select(this).style("opacity");if(d3.select(this).classed("cat_strings")&&d3.select(this).classed("filtered_cat")===!1){var n,i=d3.select(this).attr("cat");n=e[i].indexOf(": ")>=0?e[i].split(": ")[1]:e[i],r=i===a&&n===u?t.viz.cat_colors.active_opacity:t.viz.cat_colors.opacity/4}return r})})}}d3.selectAll(t.viz.root_tips+"_col_cat_tip").style("display","block"),d3.selectAll(t.viz.root_tips+"_row_cat_tip").style("display","block");var a=d3.select(r).attr("cat"),s=n(t.viz,a,i),u=e[a];"string"==typeof u&&u.indexOf(": ")>=0&&(u=u.split(": ")[1]);var c=s+": "+u;return d3.select(r).classed("hovering",!0),setTimeout(o,500),c}},function(t,e){"use strict";t.exports=function(t){_.each(["row","col"],function(e){d3.selectAll(t.root+" ."+e+"_cat_group").selectAll("rect").style("opacity",function(){var e=d3.select(this).style("opacity");return d3.select(this).classed("cat_strings")&&d3.select(this).classed("filtered_cat")===!1&&(e=t.viz.cat_colors.opacity),e})})}},function(t,e){"use strict";t.exports=function(t,e,r,n){function i(t){"string"==typeof t&&t.indexOf(a)>-1&&(t=t.split(a)[1]);var e=parseFloat(t);return e}var o=!(arguments.length<=4||void 0===arguments[4])&&arguments[4],a=": ",s=t.cat_info[e][n].type;"cat_strings"===s?o?r.classed("cat_strings",!0).style("opacity",0).transition().duration(1e3).style("opacity",t.cat_colors.opacity):r.classed("cat_strings",!0).style("opacity",t.cat_colors.opacity):r.classed("cat_values",!0).style("opacity",function(r){var o=r[n],a=i(o);return t.cat_info[e][n].cat_scale(Math.abs(a))}).style("fill",function(e){var r,o=i(e[n]);return r=o>0?t.cat_value_colors[0]:t.cat_value_colors[1]})}},function(t,e,r){"use strict";var n=r(121);t.exports=function(t,e,r,i){function o(t,e,r){d3.selectAll(a.root+" ."+t+"_cat_group").selectAll("rect").style("opacity",function(t){var n=d3.select(this).style("opacity");if(d3.select(this).classed("cat_strings")){var i,o=d3.select(this).attr("cat");i=t[o],o===e&&i===r&&(n=1,d3.select(this).classed("filtered_cat",!0))}return n})}var a=t.params,s=d3.select(r).attr("cat"),u=e[s],c=n(a,e,r,i),l={row:"col",col:"row"},f=l[i],p={};if(p[i]=c,t.params.cat_filter[i]===!1){if(t.params.dendro_filter.row===!1&&t.params.dendro_filter.col===!1&&t.params.cat_filter[f]===!1){var d=t.params.network_data.col_nodes_names,m=t.params.network_data.row_nodes,h=t.params.network_data.col_nodes;t.filter_viz_using_names(p),t.params.inst_nodes.row_nodes=m,t.params.inst_nodes.col_nodes=h,t.params.cat_filter[i]=d,o(i,s,u)}}else p=t.params.cat_filter[i],t.filter_viz_using_names(p),t.params.cat_filter[i]=!1,d3.selectAll(a.root+" ."+i+"_cat_group").selectAll("rect").classed("filtered_cat",!1)}},function(t,e,r){"use strict";var n=r(2);t.exports=function(t,e,r,i){var o=d3.select(r).attr("cat"),a=e[o],s=t.network_data[i+"_nodes"],u=_.filter(s,function(t){return t[o]==a}),c=n.pluck(u,"name");return c}},function(t,e,r){"use strict";var n=r(117),i=r(48),o=r(118),a=r(119),s=r(120),u=r(121);t.exports=function(t){var e=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],r=t.params;d3.select(r.root+" .row_cat_outer_container").empty()?d3.select(r.root+" .row_container").append("g").attr("class","row_cat_outer_container").attr("transform","translate("+r.viz.norm_labels.width.row+",0)").append("g").attr("class","row_cat_container"):d3.select(r.root+" .row_container").select("row_cat_outer_container").attr("transform","translate("+r.viz.norm_labels.width.row+",0)"),d3.select(r.root+" .row_cat_container").select(".white_bars").empty()?d3.select(r.root+" .row_cat_container").append("rect").attr("class","white_bars").attr("fill",r.viz.background_color).attr("width",r.viz.cat_room.row+"px").attr("height",function(){var t=r.viz.clust.dim.height;return t}):d3.select(r.root+" .row_cat_container").select(".white_bars").attr("fill",r.viz.background_color).attr("width",r.viz.cat_room.row+"px").attr("height",function(){var t=r.viz.clust.dim.height;return t}),d3.selectAll(r.viz.root_tips+"_row_cat_tip").remove();var c=i().attr("class",function(){var t=r.viz.root_tips.replace(".",""),e=t+" d3-tip "+t+"_row_cat_tip";return e}).direction("e").offset([5,0]).style("display","none").html(function(t){return n(r,t,this,"row")});d3.select(r.root+" .row_cat_container").selectAll("g").data(r.network_data.row_nodes,function(t){return t.name}).enter().append("g").attr("class","row_cat_group").attr("transform",function(t){var e=_.indexOf(r.network_data.row_nodes_names,t.name);return"translate(0, "+r.viz.y_scale(e)+")"}),d3.select(r.root+" .row_cat_container").selectAll(".row_cat_group").call(c);var l,f;d3.selectAll(r.root+" .row_cat_group rect").remove(),r.viz.show_categories.row&&d3.selectAll(r.root+" .row_cat_group").each(function(){f=this,_.each(r.viz.all_cats.row,function(n){var i=parseInt(n.split("-")[1],10),s="row_cat_rect_"+String(i);l=d3.select(f).select("."+s).empty()?d3.select(f).append("rect").attr("class",s).attr("cat",n):d3.select(f).select("."+s),l.attr("width",r.viz.cat_room.symbol_width).attr("height",r.viz.y_scale.rangeBand()).style("fill",function(t){var e=t[n],i=r.viz.cat_colors.row[n][e];return i}).attr("x",function(){var t=r.viz.cat_room.symbol_width+r.viz.uni_margin/2;return t+"px"}).attr("transform",function(){var t=r.viz.cat_room.symbol_width+r.viz.cat_room.separation,e=i*t;return"translate("+e+",0)"}).on("click",function(e){if(d3.select(this).classed("cat_strings"))if(d3.event.shiftKey===!0)p(t,e,this,"row");else{var n=u(r,e,this,"row");$(r.root+" .dendro_info").modal("toggle");var i=n.join(", ");d3.select(r.root+" .dendro_info input").attr("value",i)}}).on("mouseover",c.show).on("mouseout",function(){c.hide(this),o(r),d3.select(this).classed("hovering",!1),d3.selectAll(".d3-tip").style("display","none")}),a(r.viz,"row",l,n,e)})});var p=_.debounce(s,1500)}},function(t,e,r){"use strict";var n=r(55);t.exports=function(t){var e=t.params,r=e.viz.dendro_room.row+e.viz.uni_margin,i=e.viz.clust.margin.left+e.viz.clust.dim.width,o=e.viz.clust.margin.top;d3.select(e.root+" .row_dendro_outer_container").empty()?(d3.select(e.root+" .viz_svg").append("g").attr("class","row_dendro_outer_container").attr("transform","translate("+i+","+o+")"),d3.select(e.root+" .row_dendro_outer_container").append("rect").classed("row_dendro_spillover",!0).attr("fill",e.viz.background_color).attr("width",r+"px").attr("height",e.viz.svg_dim.height),d3.select(e.root+" .row_dendro_outer_container").append("g").attr("class","row_dendro_container").attr("transform","translate("+e.viz.uni_margin/2+",0)")):(d3.select(e.root+" .viz_svg").select("row_dendro_outer_container").attr("transform","translate("+i+","+o+")"),d3.select(e.root+" .row_dendro_outer_container").select(".row_dendro_spillover").attr("width",r+"px").attr("height",e.viz.svg_dim.height)),n(t,"row",!1),"clust"!=e.viz.inst_order.col&&d3.selectAll(e.root+" .row_dendro_group").remove()}},function(t,e,r){"use strict";var n=r(55);t.exports=function(t){var e=t.params,r=e.viz.clust.margin.left,i=e.viz.clust.margin.top+e.viz.clust.dim.height,o=e.viz.dendro_room.col+e.viz.uni_margin;d3.select(e.root+" .col_dendro_outer_container").empty()?(d3.select(e.root+" .viz_svg").append("g").attr("class","col_dendro_outer_container").attr("transform","translate("+r+","+i+")"),
d3.select(e.root+" .col_dendro_outer_container").append("rect").classed("col_dendro_spillover",!0).attr("fill",e.viz.background_color).attr("width",e.viz.svg_dim.width).attr("height",o+"px"),d3.select(e.root+" .col_dendro_outer_container").append("g").attr("class","col_dendro_container").attr("transform","translate(0,"+e.viz.uni_margin/2+")"),d3.select(e.root+" .col_dendro_outer_container").append("rect").classed("col_dendro_spillover_top",!0).attr("fill",e.viz.background_color).attr("width",e.viz.svg_dim.width).attr("height",e.viz.svg_dim.height).attr("transform","translate(0,"+e.viz.dendro_room.col+")")):(d3.select(e.root+" .viz_svg").select("col_dendro_outer_container").attr("transform","translate("+r+","+i+")"),d3.select(e.root+" .col_dendro_outer_container").select(".col_dendro_spillover").attr("width",e.viz.svg_dim.width).attr("height",o+"px")),n(t,"col",!1),"clust"!=e.viz.inst_order.row&&d3.selectAll(e.root+" .col_dendro_group").remove()}},function(t,e,r){"use strict";var n=r(126);t.exports=function(t){n(t,"row"),n(t,"col")}},function(t,e,r){"use strict";var n=r(127),i=r(114);t.exports=function(t,e){function r(){t.params.is_slider_drag=!0;var r=d3.event.y;r<0&&(r=0),r>a&&(r=a),this.nextSibling&&this.parentNode.appendChild(this),r=d3.round(r,-1);var i=10-r/10;d3.select(this).attr("transform","translate(0, "+r+")"),n(t,e,i)}function o(){var r=d3.mouse(this),i=d3.round(r[1],-1);d3.select(t.params.root+" ."+e+"_group_circle").attr("transform","translate(0, "+i+")");var o=10-i/10;n(t,e,o)}var a=100,s=d3.behavior.drag().on("drag",r).on("dragend",function(){t.params.is_slider_drag=!1}),u=d3.select(t.params.root+" .viz_svg").append("g").classed(e+"_slider_group",!0);i(t,e);var c=a+20,l=30;u.append("rect").classed(e+"_slider_background",!0).attr("height",c+"px").attr("width",l+"px").attr("fill",t.params.viz.background_color).attr("transform",function(){var t="translate(-10, -5)";return t}).style("opacity",0),u.append("line").style("stroke-width",a/7+"px").style("stroke","black").style("stroke-linecap","round").style("opacity",0).attr("y1",0).attr("y2",function(){return a-2}).on("click",o);var f=-a/40;u.append("path").style("fill","black").attr("transform","translate("+f+", 0)").attr("d",function(){var t=0,e=0,r=0,n=a,i=a/10,o=0,s="M"+t+","+e+", L"+r+", "+n+", L"+i+","+o+" Z";return s}).style("opacity",.35).on("click",o);var p=.35,d=.6;u.append("circle").classed(e+"_group_circle",!0).attr("r",.08*a).attr("transform",function(){return"translate(0, "+a/2+")"}).style("fill","blue").style("opacity",p).on("mouseover",function(){d3.select(this).style("opacity",d)}).on("mouseout",function(){d3.select(this).style("opacity",p)}).call(s)}},function(t,e,r){"use strict";var n=r(55);t.exports=function(t,e,r){var i=t.params;"row"===e?i.group_level.row=r:"col"===e&&(i.group_level.col=r);var o=!0;n(t,e,o)}},function(t,e,r){"use strict";var n=r(60);t.exports=function(t){var e=t.params.viz,r=e.clust.margin.left+e.clust.dim.width+e.uni_margin+e.dendro_room.row,i=d3.select(e.viz_svg).append("g").classed("right_spillover_container",!0).attr("transform",function(){return"translate("+r+", 0)"}),o=e.norm_labels.margin.top+e.norm_labels.width.col;i.append("rect").attr("fill",e.background_color).attr("width",10*e.clust.dim.width).attr("height",e.svg_dim.height+"px").attr("class","white_bars").attr("class","right_spillover").attr("transform",function(){return"translate( 0,"+o+")"});var a=0,s=e.clust.margin.top;i.append("g").classed("row_dendro_icons_container",!0).attr("transform","translate("+a+","+s+")").append("g").classed("row_dendro_icons_group",!0),n(t,"row"),a=e.clust.margin.left+e.clust.dim.width,s=o;var u=e.dendro_room.row+e.uni_margin,c=e.cat_room.col+e.uni_margin;d3.select(e.viz_svg).append("rect").attr("fill",e.background_color).attr("width",u).attr("height",c).attr("transform",function(){return"translate("+a+","+s+")"}).classed("white_bars",!0).classed("dendro_row_spillover",!0)}},function(t,e,r){"use strict";var n=r(130),i=r(131),o=r(133),a=r(134),s=r(136),u=r(137),c=r(139),l=r(140),f=r(163),p=r(164),d=r(165),m=r(166),h=r(167),v=r(168);t.exports=function(){var t=this,e=t.params;if(d3.select(e.root+" .running_demo").empty()){d3.select(e.root+" .play_button").classed("running_demo",!0),h(e,!1),$.blockUI({css:{border:"none",padding:"15px",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px",opacity:0,color:"#fff",cursor:"default"}}),d3.selectAll(".blockUI").style("opacity",0);var r=750;t.params.viz.is_expand===!1&&(r=n(e,r,f),r-=1500),r=n(e,r,i),r=n(e,r,o),r=n(t,r,a),r=n(e,r,d),r=n(e,r,s),r=n(e,r,v),r=n(e,r,p),r=n(e,r,u),r=n(e,r,c),r=n(t,r,l),r=n(e,r,f),r=n(e,r,m)}}},function(t,e){"use strict";t.exports=function(t,e,r){var n=(setTimeout(r().run,e,t),r().get_duration());return e+=n}},function(t,e,r){"use strict";var n=r(132);t.exports=function(){function t(t){var e="Clustergrammer allows users to generate\ninteractive and sharable visualizations\nby uploading a matrix",i="This demo will quickly overview some\nof Clustergrammer's interactive features";setTimeout(n,0,t,e,4500/r),setTimeout(n,4500/r,t,i,4500/r)}function e(){return 1e4/r}var r=1;return{run:t,get_duration:e}}},function(t,e){"use strict";t.exports=function(t,e,r){var n=e.split("\n");n.length<3&&n.push(""),d3.select(t.root+" .demo_group").style("opacity",0).transition().duration(250).style("opacity",1).transition().duration(250).delay(r).style("opacity",0);for(var i=0;i<n.length;i++){var o=i+1,a=d3.select(t.root+" .demo_group").select("#text_"+o).text(n[i]),s=a[0][0].getBBox(),u=.9,c=Number(d3.select(".demo_group").select("text").style("font-size").replace("px","")),l=1.3*c;d3.select(t.root+" .demo_group").select(".rect_"+o).style("fill","white").attr("width",s.width+20).attr("height",s.height).attr("x",-10).attr("y",s.y+i*l).style("opacity",u)}}},function(t,e,r){"use strict";var n=r(132),i=r(80);t.exports=function(){function t(t){var e=t.params,r="Zoom and pan by\nscrolling and dragging";n(e,r,4e3),setTimeout(i,1500,t,0,0,4)}function e(){return 4e3}return{run:t,get_duration:e}}},function(t,e,r){"use strict";var n=r(132),i=r(80),o=r(135);t.exports=function(){function t(t){var e=t.params,r="Reset zoom by double-clicking\n";n(e,r,4e3),setTimeout(o,2e3,e,"double",300,300),setTimeout(i,2400,t,0,0,1)}function e(){return 4500}return{run:t,get_duration:e}}},function(t,e){"use strict";t.exports=function(t,e,r,n){var i=200,o=d3.select(t.root+" .viz_svg").append("circle").attr("cx",r).attr("cy",n).attr("r",25).style("stroke","black").style("stroke-width","3px").style("fill","#007f00").style("opacity",.5);"double"===e?o.transition().duration(i).style("opacity",0).transition().duration(50).style("opacity",.5).transition().duration(i).style("opacity",0).remove():o.transition().duration(i).style("opacity",0).transition().duration(250).remove()}},function(t,e,r){"use strict";var n=r(132),i=r(135);t.exports=function(){function t(t){var e="Reorder the matrix based on a single\nrow or column by double-clicking a\nlabel";n(t,e,7e3);var a=r(t,"EGFR"),s=d3.select(a).attr("transform"),u=d3.select(t.root+" .clust_container").attr("transform").split(",")[1].replace(")",""),c=.9*t.viz.norm_labels.width.row,l=s.split(",")[1].replace(")",""),f=String(Number(l)+Number(u)+t.viz.rect_height/2),p=4e3;setTimeout(i,p,t,"double",c,f);var d=p+300;setTimeout(o,d,t,a)}function e(){return 8e3}function r(t,e){var r=d3.selectAll(t.root+" .row_label_group").filter(function(){var t=this.__data__;return t.name==e})[0][0];return r}function o(t,e){$(e).d3DblClick()}return jQuery.fn.d3DblClick=function(){this.each(function(t,e){var r=document.createEvent("MouseEvents");r.initMouseEvent("dblclick",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(r)})},{run:t,get_duration:e}}},function(t,e,r){"use strict";var n=r(132),i=r(138);t.exports=function(){function t(t){var e="Reorder all rows and columns\nby clicking the reorder\n buttons";n(t,e,9e3),setTimeout(i,3e3,t,"toggle_col_order"),setTimeout(r,3500,t,"col","rank"),setTimeout(i,7e3,t,"toggle_row_order"),setTimeout(r,7500,t,"row","rank")}function e(){return 11e3}function r(t,e,r){var n=d3.selectAll(".toggle_"+e+"_order .btn").filter(function(){return this.__data__==r})[0];$(n).click()}return{run:t,get_duration:e}}},function(t,e){"use strict";t.exports=function(t,e){var r=arguments.length<=2||void 0===arguments[2]?4e3:arguments[2];e.indexOf("slider")<0?d3.select(t.root+" ."+e).style("background","#007f00").style("box-shadow","0px 0px 10px 5px #007f00").transition().duration(1).delay(r).style("background","#FFFFFF").style("box-shadow","none"):d3.select(t.root+" ."+e).style("box-shadow","0px 0px 10px 5px #007f00").transition().duration(1).delay(r).style("box-shadow","none")}},function(t,e,r){"use strict";var n=r(132),i=r(138),o=r(80);t.exports=function(){function t(t){var e=t.params,s="Search for rows using\nthe search box";n(e,s,5e3);var u=2500;setTimeout(i,u,e,"gene_search_container"),setTimeout(r,u+1e3,e,"E"),setTimeout(r,u+1500,e,"EG"),setTimeout(r,u+2e3,e,"EGF"),setTimeout(r,u+2500,e,"EGFR"),setTimeout(a,5500,e),setTimeout(o,7500,t,0,0,1)}function e(){return 1e4}function r(t,e){$(t.root+" .gene_search_box").val(e),$(t.root+" .gene_search_box").autocomplete("search",e)}function a(t){$(t.root+" .submit_gene_button").click(),$(t.root+" .gene_search_box").autocomplete("search","")}return{run:t,get_duration:e}}},function(t,e,r){"use strict";var n=r(132),i=r(138),o=r(141);t.exports=function(){function t(t){var e=t.params,o="Filter rows based on sum or\nvariance using the sliders";n(e,o,4e3);var a="N_row_sum";setTimeout(i,5e3,e,"slider_"+a,13e3),o="Filter: Top 20 rows by sum",setTimeout(n,5e3,e,o,4e3),setTimeout(r,5300,t,a,20,1),o="Filter: Top 10 rows by sum",setTimeout(n,1e4,e,o,4e3),setTimeout(r,10300,t,a,10,2),o="Filter: All rows",setTimeout(n,15e3,e,o,4e3),setTimeout(r,15300,t,a,"all",0)}function e(){return 19500}function r(t,e,r,n){var i=t.params,a={};a[e]=r,o(t,a),$(i.root+" .slider_"+e).slider("value",n);var s;s="N_row_sum"===e?"sum":"variance",d3.select(i.root+" .title_"+e).text("Top rows "+s+": "+r)}return{run:t,get_duration:e}}},function(t,e,r){"use strict";var n=r(10),i=r(142),o=r(143);t.exports=function(t,e){i(t.params);var r=n(t.config,t.params,e);d3.select(t.params.root+" .crop_button").style("color","#337ab7").classed("fa-crop",!0).classed("fa-undo",!1).classed("active_cropping",!1),_.each(["row","col"],function(e){d3.select(t.params.root+" ."+e+"_dendro_icons_group").classed("ran_filter",!1),d3.select(t.params.root+" ."+e+"_dendro_icons_container").style("display","block")}),o(t,r)}},function(t,e){"use strict";t.exports=function(t){d3.selectAll(t.root+" .btn").attr("disabled",!0),d3.select(t.viz.viz_svg).style("opacity",.7)}},function(t,e,r){"use strict";var n=r(9),i=r(144),o=r(145),a=r(87),s=r(116),u=r(122),c=r(123),l=r(124),f=r(156),p=r(158),d=r(97),m=r(159),h=r(86),v=r(160),g=r(89),y=r(162),_=r(32);t.exports=function(t,e){function r(){d3.selectAll(".dendro_shadow").remove()}function x(){d3.select(t.params.viz.viz_svg).transition().duration(250).style("opacity",1),setTimeout(w,1e3)}function w(){d3.select(t.params.viz.viz_svg).classed("running_update",!1)}d3.select(t.params.viz.viz_svg).classed("running_update",!0),d3.selectAll(t.params.root+" .ds"+String(t.params.viz.ds_level)+"_row").remove(),null!=t.params.matrix_update_callback&&t.params.matrix_update_callback();var b=t.params.group_level,N=t.params.crop_filter_nodes,z=jQuery.extend(!0,{},t.config),A=null;if(null!=t.params.new_row_cats){v(t.params.new_row_cats,e.row_nodes),A=t.params.new_row_cats,t.params.new_row_cats=A;var E=!0;t.params.viz=_(t.params,t.params.viz,E)}z.network_data=e,z.inst_order=t.params.viz.inst_order,z.input_domain=t.params.matrix.opacity_scale.domain()[1],m(z,t.params),z.ini_view=null,z.current_col_cat=t.params.current_col_cat,z.cat_colors=t.params.viz.cat_colors;var M=n(z),O=i(t.params,M);t.params=M,t.params.zoom_behavior=d3.behavior.zoom().scaleExtent([1,t.params.viz.square_zoom*t.params.viz.zoom_ratio.x]).on("zoom",function(){g(t)}),t.params.group_level=b,t.params.crop_filter_nodes=N,0===t.params.viz.ds_num_levels?o(t,e,O):y(t),d3.select(t.params.viz.viz_svg).style("opacity",.7),u(t),h(t),t.params.viz.show_categories.col&&s(t),t.params.viz.show_dendrogram&&(c(t),l(t)),a(t),d3.select(t.params.viz.viz_svg).call(t.params.zoom_behavior),d(t),f(t),t.params.viz.run_trans=!0,setTimeout(p,2500,t.params),setTimeout(r,50),setTimeout(r,100),setTimeout(r,500),setTimeout(r,1e3),setTimeout(r,1500),setTimeout(x,O.enter)}},function(t,e){"use strict";t.exports=function(t,e){var r=t.network_data.row_nodes,n=t.network_data.col_nodes,i=_.map(r,function(t){return t.name}),o=_.map(n,function(t){return t.name}),a=i.concat(o),s=e.network_data.row_nodes,u=e.network_data.col_nodes,c=_.map(s,function(t){return t.name}),l=_.map(u,function(t){return t.name}),f=c.concat(l),p=_.difference(a,f).length,d=_.difference(f,a).length,m={};p>0?m.update=1e3:m.update=0,d>0?m.enter=1e3:m.enter=0,m.enter=m.enter+m.update,m.run_transition=!0;var h=t.network_data.links.length,v=e.network_data.links.length,g=.5*e.matrix.def_large_matrix;return(h>g||v>g)&&(m.run_transition=!1,m.update=0,m.enter=0),m}},function(t,e,r){"use strict";var n=r(146),i=r(49),o=r(67),a=r(147),s=r(151),u=r(39),c=r(152),l=r(155),f=r(81),p=r(48);t.exports=function(t,e,r){var d=t.params;d3.selectAll(d.viz.root_tips).remove();var m=p().attr("class",function(){var t=d.viz.root_tips.replace(".",""),e=t+" d3-tip "+t+"_tile_tip";return e}).direction("nw").offset([0,0]).style("display","none").html(function(t){var e,r=String(t.value.toFixed(3));if(d.keep_orig){var n=String(t.value_orig.toFixed(3));e="<p>"+t.row_name+" and "+t.col_name+"</p><p> normalized value: "+r+"</p><div> original value: "+n+"</div>"}else e="<p>"+t.row_name+" and "+t.col_name+"</p><div> value: "+r+"</div>";return e});d3.select(d.root+" .clust_group").call(m),l(d);for(var h=1e3,v=e.row_nodes,g=e.col_nodes,y=e.links,_=y,x=0;x<_.length;x++){var w=_[x];_[x].name=v[w.source].name+"_"+g[w.target].name}var b=d3.select(d.root+" .clust_group").selectAll(".row").data(d.matrix.matrix,function(t){return t.name});r.run_transition?b.transition().delay(r.update).duration(h).attr("transform",function(t){var e=t.row_index;return"translate(0,"+d.viz.y_scale(e)+")"}):b.attr("transform",function(t){var e=t.row_index;return"translate(0,"+d.viz.y_scale(e)+")"}),d3.select(d.root+" .clust_group").selectAll(".row").each(function(t){var e=this;a(d,t,r,h,e,m)}),d3.selectAll(d.root+" .horz_lines").remove(),d3.selectAll(d.root+" .vert_lines").remove(),s(d,r,h),n(t,h,r),c(d,r,h,m),i(t,h),o(t,h),u(d,r,h),setTimeout(f,2e3,d)}},function(t,e,r){"use strict";var n=r(2),i=r(22),o=r(19),a=r(21),s=r(98),u=r(99),c=r(100),l=r(101),f=r(103),p=r(105),d=r(106),m=r(107),h=r(108),v=r(109),g=r(112),y=r(31),x=r(30),w=r(36);t.exports=function(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1],r=arguments.length<=2||void 0===arguments[2]?null:arguments[2];null===r&&(r={},r.enter=0,r.update=0,r.run_transition=!1);var b=t.params,N=t.params.network_data.row_nodes;b.zoom_info=w();var z=b.network_data.row_nodes_names;s(b),b=o(b),b.viz=a(b.viz),b.viz=i(b.viz),b.sim_mat&&(b.viz.clust.dim.width<=b.viz.clust.dim.height?b.viz.clust.dim.height=b.viz.clust.dim.width:b.viz.clust.dim.width=b.viz.clust.dim.height),b.viz=x(b.viz),b.viz.x_scale.rangeBands([0,b.viz.clust.dim.width]),b.viz.y_scale.rangeBands([0,b.viz.clust.dim.height]),b.viz.square_zoom=b.viz.norm_labels.width.col/(b.viz.x_scale.rangeBand()/2),b.zoom_behavior.scaleExtent([1,b.viz.square_zoom*b.viz.zoom_ratio.x]),b.viz.border_width.x=b.viz.x_scale.rangeBand()/b.viz.border_fraction,b.viz.border_width.y=b.viz.y_scale.rangeBand()/b.viz.border_fraction,b=y(b);var A=d3.select(b.viz.viz_wrapper).select("svg");A.select(b.root+" .grey_background").transition().delay(r.update).duration(e).attr("width",b.viz.clust.dim.width).attr("height",b.viz.clust.dim.height),f(b,A,r),A.selectAll(".row_label_group").select("text").style("font-size",b.labels.default_fs_row+"px").text(function(t){return n.normal_name(t)}),A.selectAll(".row_label_group").each(function(){var t=d3.select(this).select("text")[0][0].getBBox();d3.select(this).select("rect").attr("x",t.x).attr("y",0).attr("width",t.width).attr("height",b.viz.y_scale.rangeBand()).style("fill","yellow").style("opacity",function(t){var e=0;return 1===t.target&&(e=1),e})}),p(b,A,r),r.run_transition?(A.selectAll(".row_label_group").select("text").transition().delay(r.update).duration(e).attr("y",.5*b.viz.rect_height+.35*b.labels.default_fs_row),A.selectAll(".row_cat_group").data(N,function(t){return t.name}).transition().delay(r.update).duration(e).attr("transform",function(t){var e=_.indexOf(z,t.name);return"translate(0, "+b.viz.y_scale(e)+")"}),A.selectAll(".row_cat_group").select("path").transition().delay(r.update).duration(e).attr("d",function(){var t=b.viz.cat_room.symbol_width-1,e=0,r=1,n=b.viz.y_scale.rangeBand()/2,i=b.viz.cat_room.symbol_width-1,o=b.viz.y_scale.rangeBand(),a="M "+t+","+e+" L "+r+","+n+", L "+i+","+o+" Z";return a}),A.selectAll(".row_dendro_group").data(N,function(t){return t.name}).transition().delay(r.update).duration(e).attr("transform",function(t){var e=_.indexOf(z,t.name);return"translate(0, "+b.viz.y_scale(e)+")"})):(A.selectAll(".row_label_group").select("text").attr("y",.5*b.viz.rect_height+.35*b.labels.default_fs_row),A.selectAll(".row_cat_group").data(N,function(t){return t.name}).attr("transform",function(t){var e=_.indexOf(z,t.name);return"translate(0, "+b.viz.y_scale(e)+")"}),A.selectAll(".row_cat_group").select("path").attr("d",function(){var t=b.viz.cat_room.symbol_width-1,e=0,r=1,n=b.viz.y_scale.rangeBand()/2,i=b.viz.cat_room.symbol_width-1,o=b.viz.y_scale.rangeBand(),a="M "+t+","+e+" L "+r+","+n+", L "+i+","+o+" Z";return a}),A.selectAll(".row_dendro_group").data(N,function(t){return t.name}).attr("transform",function(t){var e=_.indexOf(z,t.name);return"translate(0, "+b.viz.y_scale(e)+")"})),n.has(b.network_data.row_nodes[0],"value")&&g(t,A),d(b,A,r),m(b,A),h(b,A,r),v(b,A,r),u(b,A,r),c(b,A,r),l(b.viz,A,r),b.zoom_behavior.scale(1).translate([b.viz.clust.margin.left,b.viz.clust.margin.top])}},function(t,e,r){"use strict";var n=r(148),i=r(149),o=r(150),a=r(45),s=r(46),u=r(47);t.exports=function(t,e,r,c,l,f){var p=e.row_data,d=_.filter(p,function(t){return 0!=t.value}),m=d3.select(l).selectAll(".tile").data(d,function(t){return t.col_name});n(t,r,m,p,l);var h=m.on("mouseover",function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];a(t,this,f,r)}).on("mouseout",function(){s(t,this,f)}),v=t.network_data.col_nodes_names;r.run_transition?h.transition().delay(r.update).duration(c).attr("width",t.viz.rect_width).attr("height",t.viz.rect_height).attr("transform",function(e){return _.contains(v,e.col_name)?u(t,e):"translate(0,0)"}):h.attr("width",t.viz.rect_width).attr("height",t.viz.rect_height).attr("transform",function(e){return _.contains(v,e.col_name)?u(t,e):"translate(0,0)"}),"updn"==t.matrix.tile_type&&o(t,p,l,r,c,m,f),i(t,r,c,m,f)}},function(t,e){"use strict";t.exports=function(t,e,r,n,i){if(e.run_transition?r.exit().transition().duration(300).attr("fill-opacity",0).remove():r.exit().attr("fill-opacity",0).remove(),"updn"==t.matrix.tile_type){var o=_.filter(n,function(t){return 0!=t.value_up||0!=t.value_dn}),a=d3.select(i).selectAll(".tile_up").data(o,function(t){return t.col_name});e.run_transition?a.exit().transition().duration(300).attr("fill","0").remove():a.exit().attr("fill",0).remove();var s=d3.select(i).selectAll(".tile_dn").data(o,function(t){return t.col_name});e.run_transition?s.exit().transition().duration(300).attr("fill",0).remove():s.exit().attr("fill",0).remove()}}},function(t,e,r){"use strict";var n=r(45),i=r(46),o=r(47);t.exports=function(t,e,r,a,s){var u=a.enter().append("rect").attr("class","tile row_tile").attr("width",t.viz.rect_width).attr("height",t.viz.rect_height).on("mouseover",function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];n(t,this,s,r)}).on("mouseout",function(){i(t,this,s)}).attr("fill-opacity",0).attr("transform",function(e){return o(t,e)});e.run_transition?u.transition().delay(e.enter).duration(r).style("fill",function(e){return e.value>0?t.matrix.tile_colors[0]:t.matrix.tile_colors[1]}).attr("fill-opacity",function(e){var r=t.matrix.opacity_scale(Math.abs(e.value));return r}):u.style("fill",function(e){return e.value>0?t.matrix.tile_colors[0]:t.matrix.tile_colors[1]}).attr("fill-opacity",function(e){var r=t.matrix.opacity_scale(Math.abs(e.value));return r}),u.each(function(t){Math.abs(t.value_up)>0&&Math.abs(t.value_dn)>0&&d3.select(this).remove()})}},function(t,e,r){"use strict";var n=r(43),i=r(44),o=r(45),a=r(46),s=r(47);t.exports=function(t,e,r,u,c,l,f){var p=_.filter(e,function(t){return 0!=t.value_up||0!=t.value_dn}),d=d3.select(r).selectAll(".tile_up").data(p,function(t){return t.col_name}),m=d.on("mouseover",function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];o(t,this,f,r)}).on("mouseout",function(){a(t,this,f)});u.run_transition?m.transition().delay(u.update).duration(c).attr("d",function(){return n(t)}).attr("transform",function(e){return s(t,e)}):m.attr("d",function(){return n(t)}).attr("transform",function(e){return s(t,e)});var h=d3.select(r).selectAll(".tile_dn").data(p,function(t){return t.col_name}),v=h.on("mouseover",function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];o(t,this,f,r)}).on("mouseout",function(){a(t,this,f)});u.run_transition?v.transition().delay(u.update).duration(c).attr("d",function(){return i(t)}).attr("transform",function(e){return s(t,e)}):v.attr("d",function(){return i(t)}).attr("transform",function(e){return s(t,e)}),l.selectAll(".tile").each(function(t){Math.abs(t.value_up)>0&&Math.abs(t.value_dn)>0&&d3.select(this).remove()})}},function(t,e){"use strict";t.exports=function(t,e,r){var n=t.network_data.row_nodes,i=t.network_data.col_nodes,o=d3.select(t.root+" .clust_group").selectAll(".row").data(t.matrix.matrix,function(t){return t.name}).exit();e.run_transition?o.transition().duration(r).style("opacity",0).remove():o.style("opacity",0).remove(),d3.selectAll(t.root+" .row_label_group").data(n,function(t){return t.name}).exit().transition().duration(r).style("opacity",0).remove(),d3.selectAll(t.root+" .col_label_group").data(i,function(t){return t.name}).exit().transition().duration(r).style("opacity",0).remove(),d3.selectAll(t.root+" .row_cat_group").data(n,function(t){return t.name}).exit().transition().duration(r).style("opacity",0).remove(),d3.selectAll(t.root+" .row_dendro_group").data(n,function(t){return t.name}).exit().transition().duration(r).style("opacity",0).remove(),d3.selectAll(t.root+" .col_label_text").data(i,function(t){return t.name}).exit().transition().duration(r).style("opacity",0).remove(),d3.selectAll(t.root+" .horz_lines").data(n,function(t){return t.name}).exit().transition().duration(r).style("opacity",0).remove(),d3.selectAll(t.root+" .vert_lines").data(i,function(t){return t.name}).exit().transition().duration(r).style("opacity",0).remove(),d3.selectAll(t.root+" .col_cat_group").data(i,function(t){return t.name}).exit().transition().duration(r).style("opacity",0).remove(),d3.selectAll(t.root+" .col_dendro_group").data(i,function(t){return t.name}).exit().transition().duration(r).style("opacity",0).remove()}},function(t,e,r){"use strict";var n=r(153);t.exports=function(t,e,r,i){var o=d3.select(t.root+" .clust_group").selectAll(".row").data(t.matrix.matrix,function(t){return t.name}).enter().append("g").classed("row",!0).attr("transform",function(e){return"translate(0,"+t.viz.y_scale(e.row_index)+")"});o.each(function(o){n(t,o,e,r,i,this)})}},function(t,e,r){"use strict";var n=r(154),i=r(45),o=r(46),a=r(47);t.exports=function(t,e,r,s,u,c){var l=e.row_data,f=_.filter(l,function(t){return 0!==t.value}),p=d3.select(c).selectAll("rect").data(f,function(t){return t.col_name}).enter().append("rect").attr("class","tile row_tile").attr("width",t.viz.rect_width).attr("height",t.viz.rect_height).style("fill",function(e){return e.value>0?t.matrix.tile_colors[0]:t.matrix.tile_colors[1]}).on("mouseover",function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];i(t,this,u,r)}).on("mouseout",function(){o(t,this,u)});p.style("fill-opacity",0).transition().delay(r.enter).duration(s).style("fill-opacity",function(e){var r=t.matrix.opacity_scale(Math.abs(e.value));return r}),p.attr("transform",function(e){return a(t,e)}),"updn"==t.matrix.tile_type&&n(t,l,c,u,r,s,p)}},function(t,e,r){"use strict";var n=r(43),i=r(44),o=r(47);t.exports=function(t,e,r,a,s,u,c){var l=_.filter(e,function(t){return 0!=t.value_up||0!=t.value_dn}),f=d3.select(r).selectAll(".tile_up").data(l,function(t){return t.col_name}).enter().append("path").attr("class","tile_up").attr("d",function(){return n(t)}).attr("transform",function(e){return o(t,e)}).style("fill",function(){return t.matrix.tile_colors[0]}).on("mouseover",function(e){d3.selectAll(t.root+" .row_label_group text").classed("active",function(t){return e.row_name===t.name}),d3.selectAll(t.root+" .col_label_text text").classed("active",function(t){return e.col_name===t.name}),t.matrix.show_tile_tooltips&&a.show(e)}).on("mouseout",function(){d3.selectAll(t.root+" text").classed("active",!1),t.matrix.show_tile_tooltips&&a.hide()});f.style("fill-opacity",0).transition().delay(s.enter).duration(u).style("fill-opacity",function(e){var r=0;return Math.abs(e.value_dn)>0&&(r=t.matrix.opacity_scale(Math.abs(e.value_up))),r});var p=d3.select(r).selectAll(".tile_dn").data(l,function(t){return t.col_name}).enter().append("path").attr("class","tile_dn").attr("d",function(){return i(t)}).attr("transform",function(e){return o(t,e)}).style("fill",function(){return t.matrix.tile_colors[1]}).on("mouseover",function(e){d3.selectAll(t.root+" .row_label_group text").classed("active",function(t){return e.row_name===t.name}),d3.selectAll(t.root+" .col_label_text text").classed("active",function(t){return e.col_name===t.name}),t.matrix.show_tile_tooltips&&a.show(e)}).on("mouseout",function(){d3.selectAll(t.root+" text").classed("active",!1),t.matrix.show_tile_tooltips&&a.hide()});p.style("fill-opacity",0).transition().delay(s.enter).duration(u).style("fill-opacity",function(e){var r=0;return Math.abs(e.value_up)>0&&(r=t.matrix.opacity_scale(Math.abs(e.value_dn))),r}),c.each(function(t){Math.abs(t.value_up)>0&&Math.abs(t.value_dn)>0&&d3.select(this).remove()})}},function(t,e){"use strict";t.exports=function(t){d3.select(t.root+" .clust_container").attr("transform","translate("+t.viz.clust.margin.left+","+t.viz.clust.margin.top+")"),d3.select(t.root+" .col_label_outer_container").attr("transform","translate(0,"+t.viz.norm_labels.width.col+")"),d3.select(t.root+" .col_cat_outer_container").attr("transform",function(){var e=t.viz.norm_labels.width.col+2;return"translate(0,"+e+")"})}},function(t,e,r){"use strict";var n=(r(127),r(79)),i=r(78),o=r(157);t.exports=function(t){function e(e,r){var n=2-r,i=t.params.matrix.abs_max_val*n;t.params.matrix.opacity_scale.domain([0,i]),d3.selectAll(t.params.root+" .tile").style("fill-opacity",function(e){var r=t.params.matrix.opacity_scale(Math.abs(e.value));return r})}var r=t.params,a=d3.select(r.root+" .gene_search_box")[0][0],s=new Awesomplete(a,{minChars:1,maxItems:15}),u=t.params.network_data.row_nodes_names;s.list=u,d3.selectAll(".awesomplete ul").style("z-index",99),$(r.root+" .gene_search_box").keyup(function(e){if(13===e.keyCode){var n=$(r.root+" .gene_search_box").val();o(t,n,u)}}),$(r.root+" .submit_gene_button").off().click(function(){var e=$(r.root+" .gene_search_box").val();o(t,e,u)});var c;if(c=r.sim_mat?["both"]:["row","col"],_.each(c,function(e){$(r.root+" .toggle_"+e+"_order .btn").off().click(function(i){var o=$(i.target).attr("name").replace("_row","").replace("_col","");d3.selectAll(r.root+" .toggle_"+e+"_order .btn").classed("active",!1),d3.select(this).classed("active",!0),"both"!=e?n(t,o,e):(n(t,o,"row"),n(t,o,"col"))})}),i(t),d3.select(t.params.root+" .opacity_slider").select("#handle-one").empty()){var l=d3.slider().snap(!0).value(1).min(.1).max(1.9).step(.1).on("slide",function(t,r){e(t,r)});d3.select(t.params.root+" .opacity_slider").call(l)}}},function(t,e,r){"use strict";var n=r(80);t.exports=function(t,e,r){var i="name";if(r.indexOf(e)!==-1){d3.selectAll(t.params.root+" .row_label_group").select("rect").style("opacity",0);var o=_.indexOf(r,e),a=t.params.viz.y_scale(o),s=t.params.viz.clust.dim.height/2-a,u=t.params.viz.zoom_ratio.x;n(t,0,s,u),t.params.zoom_info.zoom_y=u,d3.selectAll(t.params.root+" .row_label_group").filter(function(t){return t[i]===e}).select("rect").style("opacity",1)}}},function(t,e){"use strict";t.exports=function(t){t.dendro_filter.row===!1&&"clust"===t.viz.inst_order.col&&d3.select(t.root+" .row_slider_group").style("opacity",1).style("pointer-events","all"),d3.selectAll(t.root+" .toggle_row_order .btn").attr("disabled",null),t.dendro_filter.col===!1&&"clust"===t.viz.inst_order.row&&d3.select(t.root+" .col_slider_group").style("opacity",1).style("pointer-events","all"),d3.selectAll(t.root+" .toggle_col_order .btn").attr("disabled",null),d3.selectAll(t.root+" .gene_search_button .btn").attr("disabled",null),t.viz.run_trans=!1}},function(t,e){"use strict";t.exports=function(t,e){_.each(["row","col"],function(r){var n;n="row"===r?"col":"row",d3.selectAll(e.root+" .toggle_"+n+"_order .btn").filter(function(){return d3.select(this).attr("name")===t.inst_order[r]}).classed("active",!0)})}},function(t,e,r){"use strict";var n=r(161),i=r(2);t.exports=function(t,e){var r,o,a,s,u,c,l,f,p=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],d=0,m=0;_.each(e,function(e){s=e.name,p===!0&&(s.indexOf(" ")?s=s.split(" ")[0]:s.indexOf("_")&&(s=s.split("_")[0])),d=0,n(e),_.each(t,function(t){if(r=t.cat_title,o=t.cats,u="false",m=-1,f=0,_.each(o,function(t){c=t.cat_name,a=t.members,_.contains(a,s)&&(u=c,m=f),f+=1}),i.has(t,"pval")){var n=t.pval.toExponential();l=r+": "+u+"<p> Pval "+String(n)+"</p>"}else l=r.indexOf("cat-")===-1?r+": "+u:u;e["cat-"+String(d)]=l,e["cat_"+String(d)+"_index"]=m,d+=1})})}},function(t,e){"use strict";t.exports=function(t){var e=_.keys(t);_.each(e,function(e){e.indexOf("cat-")>-1&&delete t[e],e.indexOf("cat_")>-1&&delete t[e]})}},function(t,e,r){"use strict";var n=r(146),i=r(67),o=r(70),a=r(155);t.exports=function(t){d3.selectAll(t.params.root+" .row_cat_group").remove(),d3.selectAll(t.params.root+" .row_label_group").remove(),d3.selectAll(t.params.root+" .row").remove();var e=!0,r=!0,s=!0;o(t,e,r,s),i(t);var u=t.params.network_data.col_nodes;d3.selectAll(t.params.root+" .col_label_group").data(u,function(t){return t.name}).exit().style("opacity",0).remove(),d3.selectAll(t.params.root+" .col_label_text").data(u,function(t){return t.name}).exit().style("opacity",0).remove(),d3.selectAll(t.params.root+" .col_cat_group").data(u,function(t){return t.name}).exit().style("opacity",0).remove(),d3.selectAll(t.params.root+" .col_dendro_group").data(u,function(t){return t.name}).exit().style("opacity",0).remove(),a(t.params);var c={};c.enter=0,c.update=0,c.run_transition=!1;var l=0;n(t,l,c)}},function(t,e,r){"use strict";var n=r(135);t.exports=function(){function t(t){var e=Number(d3.select(t.root+" .expand_button").attr("x").replace("px","")),o=Number(d3.select(t.root+" .expand_button").attr("y").replace("px","")),a=0,s=400;setTimeout(n,a,t,"single",e,o),setTimeout(r,s,t),setTimeout(i,1500,t)}function e(){return 3500}function r(t){$(t.root+" .expand_button").d3Click()}function i(t){o(t,"row","clust"),o(t,"col","clust")}function o(t,e,r){var n=d3.selectAll(".toggle_"+e+"_order .btn").filter(function(){return this.__data__==r})[0];$(n).click()}return jQuery.fn.d3Click=function(){this.each(function(t,e){var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(r)})},{run:t,get_duration:e
}}},function(t,e,r){"use strict";var n=r(132),i=r(138),o=r(127);t.exports=function(){function t(t){var e="Identify row and column groups\nof varying sizes using  the\nsliders and dendrogram";n(t,e,1e4),setTimeout(i,3e3,t,"slider_col",7e3),setTimeout(r,4e3,t,"row",3),setTimeout(r,5e3,t,"row",4),setTimeout(r,6e3,t,"row",5),setTimeout(r,7e3,t,"row",6),setTimeout(r,8e3,t,"row",7),setTimeout(r,9e3,t,"row",5)}function e(){return 11e3}function r(t,e,r){$(cgm.params.root+" .slider_col").slider("value",r/10),o(cgm,e,r)}return{run:t,get_duration:e}}},function(t,e,r){"use strict";var n=r(132),i=r(135);t.exports=function(){function t(t){var e="Row and column categories\ncan be use to reorder\nby double-clicking";n(t,e,7e3);var o=d3.selectAll(t.root+" .col_cat_super").filter(function(){return"cat-1"===this.__data__})[0],a=d3.select(".col_cat_super").attr("transform"),s=Number(a.split("(")[1].split(",")[0].replace(")",""))+20,u=Number(a.split(",")[1].replace(")","")),c=4e3;setTimeout(i,c,t,"double",s,u);var l=c+300;setTimeout(r,l,t,o)}function e(){return 8e3}function r(t,e){$(e).d3DblClick()}return jQuery.fn.d3DblClick=function(){this.each(function(t,e){var r=document.createEvent("MouseEvents");r.initMouseEvent("dblclick",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(r)})},{run:t,get_duration:e}}},function(t,e,r){"use strict";var n=r(132),i=r(167);t.exports=function(){function t(t){var r="Clustergrammer is built with gene\nexpression data in mind and interfaces\nwith several Ma'ayan lab web tools",i="The example data being visualized is\ngene expression data obtained from the\nCancer Cell Line Encyclopedia",o="For more information please view\nthe help documentation";setTimeout(n,0,t,r,4500),setTimeout(n,4500,t,i,4500),setTimeout(n,9e3,t,o,4500),setTimeout(e,14e3,t)}function e(t){d3.select(t.root+" .play_button").classed("running_demo",!1),i(t,!0)}function r(){return 12e3}return{run:t,get_duration:r}}},function(t,e){"use strict";t.exports=function(t,e){e===!1?d3.select(t.root+" .play_button").transition().duration(500).style("opacity",0):(d3.select(t.root+" .play_button").transition().duration(500).style("opacity",1),$.unblockUI())}},function(t,e,r){"use strict";var n=r(132),i=r(135);t.exports=function(){function t(t){var e="View additional controls\nby clicking the menu button";n(t,e,4e3);var o=Number(d3.select(t.root+" .expand_button").attr("x").replace("px","")),a=Number(d3.select(t.root+" .expand_button").attr("y").replace("px","")),s=3e3,u=3400;setTimeout(i,s,t,"single",o,a),setTimeout(r,u,t)}function e(){return 5e3}function r(t){$(t.root+" .expand_button").d3Click()}return jQuery.fn.d3Click=function(){this.each(function(t,e){var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(r)})},jQuery.fn.d3DblClick=function(){this.each(function(t,e){var r=document.createEvent("MouseEvents");r.initMouseEvent("dblclick",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(r)})},{run:t,get_duration:e}}},function(t,e,r){"use strict";var n=r(170),i=r(171);t.exports=function(){var t=this,e=t.params;n(t);var r=30;i(e,r)}},function(t,e,r){"use strict";var n=r(113);t.exports=function(t){var e=t.params;if(d3.select(e.root+" .play_button").empty()){var r=d3.select(e.root+" .viz_svg").append("g").classed("play_button",!0).classed("running_demo",!1);n(e),r.append("circle").style("r",45).style("fill","white").style("stroke","black").style("stroke-width","3px").style("opacity",.5),r.append("path").attr("d",function(){var t=40,e=22,r=15;return"M-"+r+",-"+e+" l "+t+","+e+" l -"+t+","+e+" z "}).style("fill","black").style("opacity",.5),r.on("mouseover",function(){d3.select(this).select("path").style("fill","red").style("opacity",1),d3.select(this).select("circle").style("opacity",1)}).on("mouseout",function(){d3.select(this).select("path").style("fill","black").style("opacity",.5),d3.select(this).select("circle").style("opacity",.5)}).on("click",function(){t.play_demo()})}}},function(t,e){"use strict";t.exports=function(t,e){if(d3.select(t.root+" .demo_group").empty()){var r=d3.select(t.root+" .clust_container").attr("transform"),n=Number(r.split("(")[1].split(",")[0]),i=Number(r.split(",")[1].replace(")","")),o=d3.select(t.root+" .viz_svg").append("g").classed("demo_group",!0).attr("transform",function(){var t=n+20,e=i+40;return"translate("+t+","+e+")"});o.append("rect").classed("rect_1",!0),o.append("rect").classed("rect_2",!0),o.append("rect").classed("rect_3",!0);var a=1.3*e;o.append("text").attr("id","text_1").attr("font-size",e+"px").attr("font-weight",1e3).attr("font-family",'"Helvetica Neue", Helvetica, Arial, sans-serif'),o.append("text").attr("id","text_2").attr("font-size",e+"px").attr("font-weight",1e3).attr("font-family",'"Helvetica Neue", Helvetica, Arial, sans-serif').attr("transform",function(){return"translate(0,"+String(a)+")"}),o.append("text").attr("id","text_3").attr("font-size",e+"px").attr("font-weight",1e3).attr("font-family",'"Helvetica Neue", Helvetica, Arial, sans-serif').attr("transform",function(){return"translate(0,"+String(2*a)+")"})}}},function(t,e,r){"use strict";var n=r(11),i=r(143);t.exports=function(t){var e=n(this.config,t);i(this,e)}},function(t,e,r){"use strict";var n=r(11),i=r(143);t.exports=function(t){var e,r=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];e=r===!1?this:r;var o,a=e.params,s={};_.each(["row","col"],function(e){var r=a.inst_nodes[e+"_nodes"];if(_.has(t,e))if(t[e].length>0){var n=t[e];o=$.grep(r,function(t){return $.inArray(t.name,n)>-1})}else o=r;else o=r;s[e+"_nodes"]=o});var u=e.params.network_data.row_nodes,c=e.params.network_data.col_nodes,l=n(e.config,s);i(e,l),u.length>e.params.inst_nodes.row_nodes.length&&(e.params.inst_nodes.row_nodes=u),c.length>e.params.inst_nodes.col_nodes.length&&(e.params.inst_nodes.col_nodes=c)}},function(t,e,r){"use strict";var n=r(122),i=r(15),o=r(88),a=r(160);t.exports=function(t,e){null!=t.params.cat_update_callback&&t.params.cat_update_callback(this);var r=t.params.viz.cat_colors.col;a(e,t.params.network_data.row_nodes,!0),a(e,t.params.inst_nodes.row_nodes,!0),t.params=i(t.params,!1),n(t,!0),o(t),t.params.new_row_cats=e,t.params.viz.cat_colors.col=r}},function(t,e,r){"use strict";var n=r(122),i=r(15),o=r(88),a=r(160),s=r(176);t.exports=function(){var t=arguments.length<=0||void 0===arguments[0]||arguments[0],e=this,r=s(e),u=e.params.viz.cat_colors.col;if(a(r,e.params.network_data.row_nodes),a(r,e.params.inst_nodes.row_nodes),e.params.new_row_cats=r,e.params.viz.cat_colors.col=u,t){var c=!0;e.params=i(e.params,c),n(e,!0),o(e)}}},function(t,e){"use strict";t.exports=function(t){function e(t,e,i){r={},r.cat_title=t,r.cats=[],n={},n.cat_name=e,n.members=[],n.members.push(i),r.cats.push(n),p.push(r)}var r,n,i,o,a,s,u,c,l=t.config.network_data.row_nodes,f=": ",p=[],d=l[0],m=_.keys(d),h={};_.each(m,function(t){t.indexOf("cat-")>=0&&(s=d[t],c=parseInt(t.split("cat-")[1],10),u=s.indexOf(f)>=0?s.split(f)[0]:t,h[c]=u)});var v,g=_.keys(h).sort();return _.each(g,function(t){v={},v.cat_title=h[t],v.cats=[],p.push(v)}),_.each(l,function(t){var r=_.keys(t);_.each(r,function(r){if(r.indexOf("cat-")>-1){a=t[r],c=parseInt(r.split("cat-")[1],10);var s=r;a=t[r];var u=t[r],l=t.name;u.indexOf(f)>-1?(s=u.split(f)[0],a=u.split(f)[1]):(s=r,a=u),0===p.length?e(s,a,l):(i=!1,_.each(p,function(t){s===t.cat_title&&(i=!0,o=!1,_.each(t.cats,function(t){a===t.cat_name&&(o=!0,t.members.push(l))}),o===!1&&(n={},n.cat_name=a,n.members=[],n.members.push(l),t.cats.push(n)))}))}})}),p}},function(t,e,r){"use strict";var n=r(141),i=r(178);t.exports=function(t,e){var r=this,o={};o[t]=e,n(this,o),i(r,t,e)}},function(t,e,r){"use strict";var n=r(179);t.exports=function(t,e,r){var i,o,a=t.params;d3.select(a.root+" .slider_"+e).attr("current_state",r),_.each(_.keys(a.viz.possible_filters),function(r){if(i=e.indexOf("row")>-1?"row":e.indexOf("col")>-1?"col":"neither",o=r.indexOf("row")>-1?"row":r.indexOf("col")>-1?"col":"neither",e!=r&&"neither"!=i&&i==o){var s=n(a,r);t.slider_functions[r].value(0),d3.select(a.root+" .title_"+r).text(s.text+s.state),d3.select(a.root+" .slider_"+r).attr("current_state",s.state)}});var s=n(a,e);d3.select(a.root+" .title_"+e).text(s.text+r+s.suffix)}},function(t,e,r){"use strict";var n=r(5);t.exports=function(t,e){var r={},i={},o={};return r.state=n(t.viz.filter_data,e),o.top=e.split("_")[0],o.node=e.split("_")[1],o.measure=e.split("_")[2],"row"===o.node?i.node="rows":i.node="columns","N"===o.top&&(r.suffix=""),"pct"===o.top&&(r.suffix="%"),"sum"==o.measure?i.measure="sum":"var"==o.measure&&(i.measure="variance"),"sum"===o.measure&&(r.text="Top "+i.node+" "+i.measure+": "),"var"===o.measure&&(r.text="Top "+i.node+" "+i.measure+": "),_.keys(t.viz.possible_filters).indexOf("enr_score_type")>-1&&"col"===o.node&&(r.text="Top Enriched Terms: ",r.suffix=""),r}},function(t,e,r){"use strict";var n=r(181),i=r(182);t.exports=function(){var t=n(),e=this.params,r=i(e),o=new Blob([r],{type:"text/plain;charset=utf-8"});t(o,"clustergrammer.txt")}},function(t,e){"use strict";t.exports=function(){/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */
var t=t||navigator.msSaveBlob&&navigator.msSaveBlob.bind(navigator)||function(t){var e=t.document,r=function(){return t.URL||t.webkitURL||t},n=t.URL||t.webkitURL||t,i=e.createElementNS("http://www.w3.org/1999/xhtml","a"),o="download"in i,a=function(r){var n=e.createEvent("MouseEvents");n.initMouseEvent("click",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(n)},s=t.webkitRequestFileSystem,u=t.requestFileSystem||s||t.mozRequestFileSystem,c=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},l="application/octet-stream",f=0,p=[],d=function(){for(var t=p.length;t--;){var e=p[t];"string"==typeof e?n.revokeObjectURL(e):e.remove()}p.length=0},m=function(t,e,r){e=[].concat(e);for(var n=e.length;n--;){var i=t["on"+e[n]];if("function"==typeof i)try{i.call(t,r||t)}catch(o){c(o)}}},h=function(e,n){var c,d,h,v=this,g=e.type,y=!1,_=function(){var t=r().createObjectURL(e);return p.push(t),t},x=function(){m(v,"writestart progress write writeend".split(" "))},w=function(){!y&&c||(c=_(e)),d&&(d.location.href=c),v.readyState=v.DONE,x()},b=function(t){return function(){if(v.readyState!==v.DONE)return t.apply(this,arguments)}},N={create:!0,exclusive:!1};return v.readyState=v.INIT,n||(n="download"),o?(c=_(e),i.href=c,i.download=n,a(i),v.readyState=v.DONE,void x()):(t.chrome&&g&&g!==l&&(h=e.slice||e.webkitSlice,e=h.call(e,0,e.size,l),y=!0),s&&"download"!==n&&(n+=".download"),d=g===l||s?t:t.open(),u?(f+=e.size,void u(t.TEMPORARY,f,b(function(t){t.root.getDirectory("saved",N,b(function(t){var r=function(){t.getFile(n,N,b(function(t){t.createWriter(b(function(r){r.onwriteend=function(e){d.location.href=t.toURL(),p.push(t),v.readyState=v.DONE,m(v,"writeend",e)},r.onerror=function(){var t=r.error;t.code!==t.ABORT_ERR&&w()},"writestart progress write abort".split(" ").forEach(function(t){r["on"+t]=v["on"+t]}),r.write(e),v.abort=function(){r.abort(),v.readyState=v.DONE},v.readyState=v.WRITING}),w)}),w)};t.getFile(n,{create:!1},b(function(t){t.remove(),r()}),b(function(t){t.code===t.NOT_FOUND_ERR?r():w()}))}),w)}),w)):void w())},v=h.prototype,g=function(t,e){return new h(t,e)};return v.abort=function(){var t=this;t.readyState=t.DONE,m(t,"abort")},v.readyState=v.INIT=0,v.WRITING=1,v.DONE=2,v.error=v.onwritestart=v.onprogress=v.onwrite=v.onabort=v.onerror=v.onwriteend=null,t.addEventListener("unload",d,!1),g}(self);return t}},function(t,e,r){"use strict";var n=r(183);t.exports=function(t){var e,r=t.matrix,i={};_.each(["row","col"],function(n){var o;o="row"===n?"col":"row",e=t.inst_order[n],i[o]=r.orders[e+"_"+n]});for(var o="\t",a=t.network_data.row_nodes,s=t.network_data.col_nodes,u=0;u<i.col.length;u++){var c=i.col[u],l=s[c],f=n(t,l,"col");u<i.col.length-1?o=o+f+"\t":o+=f}var p;return o+="\n",_.each(i.row,function(e){p=r.matrix[e].row_data;var s=a[e],u=n(t,s,"row");o=o+u+"\t";for(var c=0;c<i.col.length;c++){var l=i.col[c];c<i.col.length-1?o=o+String(p[l].value)+"\t":o+=String(p[l].value)}o+="\n"}),o}},function(t,e){"use strict";t.exports=function(t,e,r){var n,i=e.name,o=t.viz.all_cats[r].length;if(o>0){i="('"+i+"'";for(var a=0;a<o;a++)n="cat-"+String(a),i=i+", '"+String(e[n])+"'";i+=")"}else i=String(i);return i}},function(t,e,r){"use strict";var n=r(185);t.exports=function(){function t(){d3.select(r.params.root+" .col_dendro_icons_container").style("display","none"),d3.select(r.params.root+" .row_dendro_icons_container").style("display","none");var t=c.extent(),o=t[0],a=t[1],s=o[0],u=a[0],l=o[1],f=a[1];if(s!=u&&l!=f){setTimeout(n,500,r);var p=e(s,u,l,f,o,a);r.filter_viz_using_names(p),d3.select(i.root+" .crop_button").style("color","#337ab7").classed("fa-crop",!1).classed("fa-undo",!0)}}function e(t,e,r,n,o,a){t>e&&(t=a[0],e=o[0]),r>n&&(r=a[1],n=o[1]),r-=i.viz.rect_height,t-=i.viz.rect_width;var s={};return s.row=[],s.col=[],_.each(i.matrix.matrix,function(t){var e=i.viz.y_scale(t.row_index);e>r&&e<n&&s.row.push(t.name)}),d3.selectAll(i.root+" .col_label_text").each(function(r){var n=d3.select(this).attr("transform"),i=Number(n.split(",")[0].split("(")[1]);i>t&&i<e&&s.col.push(r.name)}),s}var r=this,i=r.params,o=i.viz.clust.dim.width,a=i.viz.clust.dim.height,s=d3.scale.linear().domain([0,o]).range([0,o]),u=d3.scale.linear().domain([0,a]).range([0,a]);d3.select(i.root+" .clust_container").append("g").classed("brush_group",!0),r.params.is_cropping=!0;var c=d3.svg.brush().x(s).y(u).on("brushend",t);d3.select(i.root+" .brush_group").call(c),d3.selectAll(i.root+" .extent").style("opacity",.2).style("fill","black")}},function(t,e){"use strict";t.exports=function(t){d3.select(t.params.root+" .brush_group").transition().style("opacity",0).remove(),t.params.is_cropping=!1}},function(t,e,r){"use strict";var n=r(187);t.exports=function(t,e,r,i){var o=t,a=r-t,s=e-t,u=i+t-e-r,c=n(o,a,s,u);return c.toPrecision()}},function(t,e,r){"use strict";var n=r(188);t.exports=function(t,e,r,i){var o=new n(t+e,t),a=new n(r+i,r),s=new n(t+e+r+i,t+r);return o.times(a).dividedBy(s)}},function(t,e,r){"use strict";var n=r(189);t.exports=function(t,e){if(e>t)return new n(0);if(t===e)return new n(1);e>t-e&&(e=t-e);for(var r=new n(1),i=1;i<=e;i++)r=r.times(t--),r=r.dividedBy(i);return r}},function(t,e,r){var n,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};!function(o){"use strict";function a(t){function e(t,n){var i,o,a,s,u,c,l=this;if(!(l instanceof e))return H&&T(26,"constructor call without new",t),new e(t,n);if(null!=n&&G(n,2,64,R,"base")){if(n=0|n,c=t+"",10==n)return l=new e(t instanceof e?t:c),C(l,L+l.e+1,q);if((s="number"==typeof t)&&0*t!=0||!new RegExp("^-?"+(i="["+N.slice(0,n)+"]+")+"(?:\\."+i+")?$",n<37?"i":"").test(c))return I(l,c,s,n);s?(l.s=1/t<0?(c=c.slice(1),-1):1,H&&c.replace(/^0\.0*|\./,"").length>15&&T(R,b,t),s=!1):l.s=45===c.charCodeAt(0)?(c=c.slice(1),-1):1,c=r(c,10,n,l.s)}else{if(t instanceof e)return l.s=t.s,l.e=t.e,l.c=(t=t.c)?t.slice():t,void(R=0);if((s="number"==typeof t)&&0*t==0){if(l.s=1/t<0?(t=-t,-1):1,t===~~t){for(o=0,a=t;a>=10;a/=10,o++);return l.e=o,l.c=[t],void(R=0)}c=t+""}else{if(!g.test(c=t+""))return I(l,c,s);l.s=45===c.charCodeAt(0)?(c=c.slice(1),-1):1}}for((o=c.indexOf("."))>-1&&(c=c.replace(".","")),(a=c.search(/e/i))>0?(o<0&&(o=a),o+=+c.slice(a+1),c=c.substring(0,a)):o<0&&(o=c.length),a=0;48===c.charCodeAt(a);a++);for(u=c.length;48===c.charCodeAt(--u););if(c=c.slice(a,u+1))if(u=c.length,s&&H&&u>15&&(t>E||t!==_(t))&&T(R,b,l.s*t),o=o-a-1,o>$)l.c=l.e=null;else if(o<D)l.c=[l.e=0];else{if(l.e=o,l.c=[],a=(o+1)%A,o<0&&(a+=A),a<u){for(a&&l.c.push(+c.slice(0,a)),u-=A;a<u;)l.c.push(+c.slice(a,a+=A));c=c.slice(a),a=A-c.length}else a-=u;for(;a--;c+="0");l.c.push(+c)}else l.c=[l.e=0];R=0}function r(t,r,n,i){var o,a,s,c,l,f,d,h=t.indexOf("."),v=L,g=q;for(n<37&&(t=t.toLowerCase()),h>=0&&(s=W,W=0,t=t.replace(".",""),d=new e(n),l=d.pow(t.length-h),W=s,d.c=p(m(u(l.c),l.e),10,r),d.e=d.c.length),f=p(t,n,r),a=s=f.length;0==f[--s];f.pop());if(!f[0])return"0";if(h<0?--a:(l.c=f,l.e=a,l.s=i,l=B(l,d,v,g,r),f=l.c,c=l.r,a=l.e),o=a+v+1,h=f[o],s=r/2,c=c||o<0||null!=f[o+1],c=g<4?(null!=h||c)&&(0==g||g==(l.s<0?3:2)):h>s||h==s&&(4==g||c||6==g&&1&f[o-1]||g==(l.s<0?8:7)),o<1||!f[0])t=c?m("1",-v):"0";else{if(f.length=o,c)for(--r;++f[--o]>r;)f[o]=0,o||(++a,f.unshift(1));for(s=f.length;!f[--s];);for(h=0,t="";h<=s;t+=N.charAt(f[h++]));t=m(t,a)}return t}function n(t,r,n,i){var o,a,s,c,l;if(n=null!=n&&G(n,0,8,i,w)?0|n:q,!t.c)return t.toString();if(o=t.c[0],s=t.e,null==r)l=u(t.c),l=19==i||24==i&&s<=F?d(l,s):m(l,s);else if(t=C(new e(t),r,n),a=t.e,l=u(t.c),c=l.length,19==i||24==i&&(r<=a||a<=F)){for(;c<r;l+="0",c++);l=d(l,a)}else if(r-=s,l=m(l,a),a+1>c){if(--r>0)for(l+=".";r--;l+="0");}else if(r+=a-c,r>0)for(a+1==c&&(l+=".");r--;l+="0");return t.s<0&&o?"-"+l:l}function o(t,r){var n,i,o=0;for(f(t[0])&&(t=t[0]),n=new e(t[0]);++o<t.length;){if(i=new e(t[o]),!i.s){n=i;break}r.call(n,i)&&(n=i)}return n}function v(t,e,r,n,i){return(t<e||t>r||t!=h(t))&&T(n,(i||"decimal places")+(t<e||t>r?" out of range":" not an integer"),t),!0}function k(t,e,r){for(var n=1,i=e.length;!e[--i];e.pop());for(i=e[0];i>=10;i/=10,n++);return(r=n+r*A-1)>$?t.c=t.e=null:r<D?t.c=[t.e=0]:(t.e=r,t.c=e),t}function T(t,e,r){var n=new Error(["new BigNumber","cmp","config","div","divToInt","eq","gt","gte","lt","lte","minus","mod","plus","precision","random","round","shift","times","toDigits","toExponential","toFixed","toFormat","toFraction","pow","toPrecision","toString","BigNumber"][t]+"() "+e+": "+r);throw n.name="BigNumber Error",R=0,n}function C(t,e,r,n){var i,o,a,s,u,c,l,f=t.c,p=M;if(f){t:{for(i=1,s=f[0];s>=10;s/=10,i++);if(o=e-i,o<0)o+=A,a=e,u=f[c=0],l=u/p[i-a-1]%10|0;else if(c=y((o+1)/A),c>=f.length){if(!n)break t;for(;f.length<=c;f.push(0));u=l=0,i=1,o%=A,a=o-A+1}else{for(u=s=f[c],i=1;s>=10;s/=10,i++);o%=A,a=o-A+i,l=a<0?0:u/p[i-a-1]%10|0}if(n=n||e<0||null!=f[c+1]||(a<0?u:u%p[i-a-1]),n=r<4?(l||n)&&(0==r||r==(t.s<0?3:2)):l>5||5==l&&(4==r||n||6==r&&(o>0?a>0?u/p[i-a]:0:f[c-1])%10&1||r==(t.s<0?8:7)),e<1||!f[0])return f.length=0,n?(e-=t.e+1,f[0]=p[(A-e%A)%A],t.e=-e||0):f[0]=t.e=0,t;if(0==o?(f.length=c,s=1,c--):(f.length=c+1,s=p[A-o],f[c]=a>0?_(u/p[i-a]%p[a])*s:0),n)for(;;){if(0==c){for(o=1,a=f[0];a>=10;a/=10,o++);for(a=f[0]+=s,s=1;a>=10;a/=10,s++);o!=s&&(t.e++,f[0]==z&&(f[0]=1));break}if(f[c]+=s,f[c]!=z)break;f[c--]=0,s=1}for(o=f.length;0===f[--o];f.pop());}t.e>$?t.c=t.e=null:t.e<D&&(t.c=[t.e=0])}return t}var B,I,R=0,P=e.prototype,U=new e(1),L=20,q=4,F=-7,j=21,D=-1e7,$=1e7,H=!0,G=v,V=!1,Z=1,W=0,Y={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:" ",fractionGroupSize:0};return e.another=a,e.ROUND_UP=0,e.ROUND_DOWN=1,e.ROUND_CEIL=2,e.ROUND_FLOOR=3,e.ROUND_HALF_UP=4,e.ROUND_HALF_DOWN=5,e.ROUND_HALF_EVEN=6,e.ROUND_HALF_CEIL=7,e.ROUND_HALF_FLOOR=8,e.EUCLID=9,e.config=e.set=function(){var t,e,r=0,n={},o=arguments,a=o[0],s=a&&"object"==("undefined"==typeof a?"undefined":i(a))?function(){if(a.hasOwnProperty(e))return null!=(t=a[e])}:function(){if(o.length>r)return null!=(t=o[r++])};return s(e="DECIMAL_PLACES")&&G(t,0,S,2,e)&&(L=0|t),n[e]=L,s(e="ROUNDING_MODE")&&G(t,0,8,2,e)&&(q=0|t),n[e]=q,s(e="EXPONENTIAL_AT")&&(f(t)?G(t[0],-S,0,2,e)&&G(t[1],0,S,2,e)&&(F=0|t[0],j=0|t[1]):G(t,-S,S,2,e)&&(F=-(j=0|(t<0?-t:t)))),n[e]=[F,j],s(e="RANGE")&&(f(t)?G(t[0],-S,-1,2,e)&&G(t[1],1,S,2,e)&&(D=0|t[0],$=0|t[1]):G(t,-S,S,2,e)&&(0|t?D=-($=0|(t<0?-t:t)):H&&T(2,e+" cannot be zero",t))),n[e]=[D,$],s(e="ERRORS")&&(t===!!t||1===t||0===t?(R=0,G=(H=!!t)?v:l):H&&T(2,e+x,t)),n[e]=H,s(e="CRYPTO")&&(t===!0||t===!1||1===t||0===t?t?(t="undefined"==typeof crypto,!t&&crypto&&(crypto.getRandomValues||crypto.randomBytes)?V=!0:H?T(2,"crypto unavailable",t?void 0:crypto):V=!1):V=!1:H&&T(2,e+x,t)),n[e]=V,s(e="MODULO_MODE")&&G(t,0,9,2,e)&&(Z=0|t),n[e]=Z,s(e="POW_PRECISION")&&G(t,0,S,2,e)&&(W=0|t),n[e]=W,s(e="FORMAT")&&("object"==("undefined"==typeof t?"undefined":i(t))?Y=t:H&&T(2,e+" not an object",t)),n[e]=Y,n},e.max=function(){return o(arguments,P.lt)},e.min=function(){return o(arguments,P.gt)},e.random=function(){var t=9007199254740992,r=Math.random()*t&2097151?function(){return _(Math.random()*t)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)};return function(t){var n,i,o,a,s,u=0,c=[],l=new e(U);if(t=null!=t&&G(t,0,S,14)?0|t:L,a=y(t/A),V)if(crypto.getRandomValues){for(n=crypto.getRandomValues(new Uint32Array(a*=2));u<a;)s=131072*n[u]+(n[u+1]>>>11),s>=9e15?(i=crypto.getRandomValues(new Uint32Array(2)),n[u]=i[0],n[u+1]=i[1]):(c.push(s%1e14),u+=2);u=a/2}else if(crypto.randomBytes){for(n=crypto.randomBytes(a*=7);u<a;)s=281474976710656*(31&n[u])+1099511627776*n[u+1]+4294967296*n[u+2]+16777216*n[u+3]+(n[u+4]<<16)+(n[u+5]<<8)+n[u+6],s>=9e15?crypto.randomBytes(7).copy(n,u):(c.push(s%1e14),u+=7);u=a/7}else V=!1,H&&T(14,"crypto unavailable",crypto);if(!V)for(;u<a;)s=r(),s<9e15&&(c[u++]=s%1e14);for(a=c[--u],t%=A,a&&t&&(s=M[A-t],c[u]=_(a/s)*s);0===c[u];c.pop(),u--);if(u<0)c=[o=0];else{for(o=-1;0===c[0];c.shift(),o-=A);for(u=1,s=c[0];s>=10;s/=10,u++);u<A&&(o-=A-u)}return l.e=o,l.c=c,l}}(),B=function(){function t(t,e,r){var n,i,o,a,s=0,u=t.length,c=e%O,l=e/O|0;for(t=t.slice();u--;)o=t[u]%O,a=t[u]/O|0,n=l*o+a*c,i=c*o+n%O*O+s,s=(i/r|0)+(n/O|0)+l*a,t[u]=i%r;return s&&t.unshift(s),t}function r(t,e,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;i<r;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function n(t,e,r,n){for(var i=0;r--;)t[r]-=i,i=t[r]<e[r]?1:0,t[r]=i*n+t[r]-e[r];for(;!t[0]&&t.length>1;t.shift());}return function(i,o,a,u,c){var l,f,p,d,m,h,v,g,y,x,w,b,N,E,M,O,S,k=i.s==o.s?1:-1,T=i.c,B=o.c;if(!(T&&T[0]&&B&&B[0]))return new e(i.s&&o.s&&(T?!B||T[0]!=B[0]:B)?T&&0==T[0]||!B?0*k:k/0:NaN);for(g=new e(k),y=g.c=[],f=i.e-o.e,k=a+f+1,c||(c=z,f=s(i.e/A)-s(o.e/A),k=k/A|0),p=0;B[p]==(T[p]||0);p++);if(B[p]>(T[p]||0)&&f--,k<0)y.push(1),d=!0;else{for(E=T.length,O=B.length,p=0,k+=2,m=_(c/(B[0]+1)),m>1&&(B=t(B,m,c),T=t(T,m,c),O=B.length,E=T.length),N=O,x=T.slice(0,O),w=x.length;w<O;x[w++]=0);S=B.slice(),S.unshift(0),M=B[0],B[1]>=c/2&&M++;do{if(m=0,l=r(B,x,O,w),l<0){if(b=x[0],O!=w&&(b=b*c+(x[1]||0)),m=_(b/M),m>1)for(m>=c&&(m=c-1),h=t(B,m,c),v=h.length,w=x.length;1==r(h,x,v,w);)m--,n(h,O<v?S:B,v,c),v=h.length,l=1;else 0==m&&(l=m=1),h=B.slice(),v=h.length;if(v<w&&h.unshift(0),n(x,h,w,c),w=x.length,l==-1)for(;r(B,x,O,w)<1;)m++,n(x,O<w?S:B,w,c),w=x.length}else 0===l&&(m++,x=[0]);y[p++]=m,x[0]?x[w++]=T[N]||0:(x=[T[N]],w=1)}while((N++<E||null!=x[0])&&k--);d=null!=x[0],y[0]||y.shift()}if(c==z){for(p=1,k=y[0];k>=10;k/=10,p++);C(g,a+(g.e=p+f*A-1)+1,u,d)}else g.e=f,g.r=+d;return g}}(),I=function(){var t=/^(-?)0([xbo])(?=\w[\w.]*$)/i,r=/^([^.]+)\.$/,n=/^\.([^.]+)$/,i=/^-?(Infinity|NaN)$/,o=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(a,s,u,c){var l,f=u?s:s.replace(o,"");if(i.test(f))a.s=isNaN(f)?null:f<0?-1:1;else{if(!u&&(f=f.replace(t,function(t,e,r){return l="x"==(r=r.toLowerCase())?16:"b"==r?2:8,c&&c!=l?t:e}),c&&(l=c,f=f.replace(r,"$1").replace(n,"0.$1")),s!=f))return new e(f,l);H&&T(R,"not a"+(c?" base "+c:"")+" number",s),a.s=null}a.c=a.e=null,R=0}}(),P.absoluteValue=P.abs=function(){var t=new e(this);return t.s<0&&(t.s=1),t},P.ceil=function(){return C(new e(this),this.e+1,2)},P.comparedTo=P.cmp=function(t,r){return R=1,c(this,new e(t,r))},P.decimalPlaces=P.dp=function(){var t,e,r=this.c;if(!r)return null;if(t=((e=r.length-1)-s(this.e/A))*A,e=r[e])for(;e%10==0;e/=10,t--);return t<0&&(t=0),t},P.dividedBy=P.div=function(t,r){return R=3,B(this,new e(t,r),L,q)},P.dividedToIntegerBy=P.divToInt=function(t,r){return R=4,B(this,new e(t,r),0,1)},P.equals=P.eq=function(t,r){return R=5,0===c(this,new e(t,r))},P.floor=function(){return C(new e(this),this.e+1,3)},P.greaterThan=P.gt=function(t,r){return R=6,c(this,new e(t,r))>0},P.greaterThanOrEqualTo=P.gte=function(t,r){return R=7,1===(r=c(this,new e(t,r)))||0===r},P.isFinite=function(){return!!this.c},P.isInteger=P.isInt=function(){return!!this.c&&s(this.e/A)>this.c.length-2},P.isNaN=function(){return!this.s},P.isNegative=P.isNeg=function(){return this.s<0},P.isZero=function(){return!!this.c&&0==this.c[0]},P.lessThan=P.lt=function(t,r){return R=8,c(this,new e(t,r))<0},P.lessThanOrEqualTo=P.lte=function(t,r){return R=9,(r=c(this,new e(t,r)))===-1||0===r},P.minus=P.sub=function(t,r){var n,i,o,a,u=this,c=u.s;if(R=10,t=new e(t,r),r=t.s,!c||!r)return new e(NaN);if(c!=r)return t.s=-r,u.plus(t);var l=u.e/A,f=t.e/A,p=u.c,d=t.c;if(!l||!f){if(!p||!d)return p?(t.s=-r,t):new e(d?u:NaN);if(!p[0]||!d[0])return d[0]?(t.s=-r,t):new e(p[0]?u:3==q?-0:0)}if(l=s(l),f=s(f),p=p.slice(),c=l-f){for((a=c<0)?(c=-c,o=p):(f=l,o=d),o.reverse(),r=c;r--;o.push(0));o.reverse()}else for(i=(a=(c=p.length)<(r=d.length))?c:r,c=r=0;r<i;r++)if(p[r]!=d[r]){a=p[r]<d[r];break}if(a&&(o=p,p=d,d=o,t.s=-t.s),r=(i=d.length)-(n=p.length),r>0)for(;r--;p[n++]=0);for(r=z-1;i>c;){if(p[--i]<d[i]){for(n=i;n&&!p[--n];p[n]=r);--p[n],p[i]+=z}p[i]-=d[i]}for(;0==p[0];p.shift(),--f);return p[0]?k(t,p,f):(t.s=3==q?-1:1,t.c=[t.e=0],t)},P.modulo=P.mod=function(t,r){var n,i,o=this;return R=11,t=new e(t,r),!o.c||!t.s||t.c&&!t.c[0]?new e(NaN):!t.c||o.c&&!o.c[0]?new e(o):(9==Z?(i=t.s,t.s=1,n=B(o,t,0,3),t.s=i,n.s*=i):n=B(o,t,0,Z),o.minus(n.times(t)))},P.negated=P.neg=function(){var t=new e(this);return t.s=-t.s||null,t},P.plus=P.add=function(t,r){var n,i=this,o=i.s;if(R=12,t=new e(t,r),r=t.s,!o||!r)return new e(NaN);if(o!=r)return t.s=-r,i.minus(t);var a=i.e/A,u=t.e/A,c=i.c,l=t.c;if(!a||!u){if(!c||!l)return new e(o/0);if(!c[0]||!l[0])return l[0]?t:new e(c[0]?i:0*o)}if(a=s(a),u=s(u),c=c.slice(),o=a-u){for(o>0?(u=a,n=l):(o=-o,n=c),n.reverse();o--;n.push(0));n.reverse()}for(o=c.length,r=l.length,o-r<0&&(n=l,l=c,c=n,r=o),o=0;r;)o=(c[--r]=c[r]+l[r]+o)/z|0,c[r]=z===c[r]?0:c[r]%z;return o&&(c.unshift(o),++u),k(t,c,u)},P.precision=P.sd=function(t){var e,r,n=this,i=n.c;if(null!=t&&t!==!!t&&1!==t&&0!==t&&(H&&T(13,"argument"+x,t),t!=!!t&&(t=null)),!i)return null;if(r=i.length-1,e=r*A+1,r=i[r]){for(;r%10==0;r/=10,e--);for(r=i[0];r>=10;r/=10,e++);}return t&&n.e+1>e&&(e=n.e+1),e},P.round=function(t,r){var n=new e(this);return(null==t||G(t,0,S,15))&&C(n,~~t+this.e+1,null!=r&&G(r,0,8,15,w)?0|r:q),n},P.shift=function(t){var r=this;return G(t,-E,E,16,"argument")?r.times("1e"+h(t)):new e(r.c&&r.c[0]&&(t<-E||t>E)?r.s*(t<0?0:1/0):r)},P.squareRoot=P.sqrt=function(){var t,r,n,i,o,a=this,c=a.c,l=a.s,f=a.e,p=L+4,d=new e("0.5");if(1!==l||!c||!c[0])return new e(!l||l<0&&(!c||c[0])?NaN:c?a:1/0);if(l=Math.sqrt(+a),0==l||l==1/0?(r=u(c),(r.length+f)%2==0&&(r+="0"),l=Math.sqrt(r),f=s((f+1)/2)-(f<0||f%2),l==1/0?r="1e"+f:(r=l.toExponential(),r=r.slice(0,r.indexOf("e")+1)+f),n=new e(r)):n=new e(l+""),n.c[0])for(f=n.e,l=f+p,l<3&&(l=0);;)if(o=n,n=d.times(o.plus(B(a,o,p,1))),u(o.c).slice(0,l)===(r=u(n.c)).slice(0,l)){if(n.e<f&&--l,r=r.slice(l-3,l+1),"9999"!=r&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(C(n,n.e+L+2,1),t=!n.times(n).eq(a));break}if(!i&&(C(o,o.e+L+2,0),o.times(o).eq(a))){n=o;break}p+=4,l+=4,i=1}return C(n,n.e+L+1,q,t)},P.times=P.mul=function(t,r){var n,i,o,a,u,c,l,f,p,d,m,h,v,g,y,_=this,x=_.c,w=(R=17,t=new e(t,r)).c;if(!(x&&w&&x[0]&&w[0]))return!_.s||!t.s||x&&!x[0]&&!w||w&&!w[0]&&!x?t.c=t.e=t.s=null:(t.s*=_.s,x&&w?(t.c=[0],t.e=0):t.c=t.e=null),t;for(i=s(_.e/A)+s(t.e/A),t.s*=_.s,l=x.length,d=w.length,l<d&&(v=x,x=w,w=v,o=l,l=d,d=o),o=l+d,v=[];o--;v.push(0));for(g=z,y=O,o=d;--o>=0;){for(n=0,m=w[o]%y,h=w[o]/y|0,u=l,a=o+u;a>o;)f=x[--u]%y,p=x[u]/y|0,c=h*f+p*m,f=m*f+c%y*y+v[a]+n,n=(f/g|0)+(c/y|0)+h*p,v[a--]=f%g;v[a]=n}return n?++i:v.shift(),k(t,v,i)},P.toDigits=function(t,r){var n=new e(this);return t=null!=t&&G(t,1,S,18,"precision")?0|t:null,r=null!=r&&G(r,0,8,18,w)?0|r:q,t?C(n,t,r):n},P.toExponential=function(t,e){return n(this,null!=t&&G(t,0,S,19)?~~t+1:null,e,19)},P.toFixed=function(t,e){return n(this,null!=t&&G(t,0,S,20)?~~t+this.e+1:null,e,20)},P.toFormat=function(t,e){var r=n(this,null!=t&&G(t,0,S,21)?~~t+this.e+1:null,e,21);if(this.c){var i,o=r.split("."),a=+Y.groupSize,s=+Y.secondaryGroupSize,u=Y.groupSeparator,c=o[0],l=o[1],f=this.s<0,p=f?c.slice(1):c,d=p.length;if(s&&(i=a,a=s,s=i,d-=i),a>0&&d>0){for(i=d%a||a,c=p.substr(0,i);i<d;i+=a)c+=u+p.substr(i,a);s>0&&(c+=u+p.slice(i)),f&&(c="-"+c)}r=l?c+Y.decimalSeparator+((s=+Y.fractionGroupSize)?l.replace(new RegExp("\\d{"+s+"}\\B","g"),"$&"+Y.fractionGroupSeparator):l):c}return r},P.toFraction=function(t){var r,n,i,o,a,s,c,l,f,p=H,d=this,m=d.c,h=new e(U),v=n=new e(U),g=c=new e(U);if(null!=t&&(H=!1,s=new e(t),H=p,(p=s.isInt())&&!s.lt(U)||(H&&T(22,"max denominator "+(p?"out of range":"not an integer"),t),t=!p&&s.c&&C(s,s.e+1,1).gte(U)?s:null)),!m)return d.toString();for(f=u(m),o=h.e=f.length-d.e-1,h.c[0]=M[(a=o%A)<0?A+a:a],t=!t||s.cmp(h)>0?o>0?h:v:s,a=$,$=1/0,s=new e(f),c.c[0]=0;l=B(s,h,0,1),i=n.plus(l.times(g)),1!=i.cmp(t);)n=g,g=i,v=c.plus(l.times(i=v)),c=i,h=s.minus(l.times(i=h)),s=i;return i=B(t.minus(n),g,0,1),c=c.plus(i.times(v)),n=n.plus(i.times(g)),c.s=v.s=d.s,o*=2,r=B(v,g,o,q).minus(d).abs().cmp(B(c,n,o,q).minus(d).abs())<1?[v.toString(),g.toString()]:[c.toString(),n.toString()],$=a,r},P.toNumber=function(){return+this},P.toPower=P.pow=function(t,r){var n,i,o,a=_(t<0?-t:+t),s=this;if(null!=r&&(R=23,r=new e(r)),!G(t,-E,E,23,"exponent")&&(!isFinite(t)||a>E&&(t/=0)||parseFloat(t)!=t&&!(t=NaN))||0==t)return n=Math.pow(+s,t),new e(r?n%r:n);for(r?t>1&&s.gt(U)&&s.isInt()&&r.gt(U)&&r.isInt()?s=s.mod(r):(o=r,r=null):W&&(n=y(W/A+2)),i=new e(U);;){if(a%2){if(i=i.times(s),!i.c)break;n?i.c.length>n&&(i.c.length=n):r&&(i=i.mod(r))}if(a=_(a/2),!a)break;s=s.times(s),n?s.c&&s.c.length>n&&(s.c.length=n):r&&(s=s.mod(r))}return r?i:(t<0&&(i=U.div(i)),o?i.mod(o):n?C(i,W,q):i)},P.toPrecision=function(t,e){return n(this,null!=t&&G(t,1,S,24,"precision")?0|t:null,e,24)},P.toString=function(t){var e,n=this,i=n.s,o=n.e;return null===o?i?(e="Infinity",i<0&&(e="-"+e)):e="NaN":(e=u(n.c),e=null!=t&&G(t,2,64,25,"base")?r(m(e,o),0|t,10,i):o<=F||o>=j?d(e,o):m(e,o),i<0&&n.c[0]&&(e="-"+e)),e},P.truncated=P.trunc=function(){return C(new e(this),this.e+1,1)},P.valueOf=P.toJSON=function(){var t,e=this,r=e.e;return null===r?e.toString():(t=u(e.c),t=r<=F||r>=j?d(t,r):m(t,r),e.s<0?"-"+t:t)},P.isBigNumber=!0,null!=t&&e.config(t),e}function s(t){var e=0|t;return t>0||t===e?e:e-1}function u(t){for(var e,r,n=1,i=t.length,o=t[0]+"";n<i;){for(e=t[n++]+"",r=A-e.length;r--;e="0"+e);o+=e}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function c(t,e){var r,n,i=t.c,o=e.c,a=t.s,s=e.s,u=t.e,c=e.e;if(!a||!s)return null;if(r=i&&!i[0],n=o&&!o[0],r||n)return r?n?0:-s:a;if(a!=s)return a;if(r=a<0,n=u==c,!i||!o)return n?0:!i^r?1:-1;if(!n)return u>c^r?1:-1;for(s=(u=i.length)<(c=o.length)?u:c,a=0;a<s;a++)if(i[a]!=o[a])return i[a]>o[a]^r?1:-1;return u==c?0:u>c^r?1:-1}function l(t,e,r){return(t=h(t))>=e&&t<=r}function f(t){return"[object Array]"==Object.prototype.toString.call(t)}function p(t,e,r){for(var n,i,o=[0],a=0,s=t.length;a<s;){for(i=o.length;i--;o[i]*=e);for(o[n=0]+=N.indexOf(t.charAt(a++));n<o.length;n++)o[n]>r-1&&(null==o[n+1]&&(o[n+1]=0),o[n+1]+=o[n]/r|0,o[n]%=r)}return o.reverse()}function d(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function m(t,e){var r,n;if(e<0){for(n="0.";++e;n+="0");t=n+t}else if(r=t.length,++e>r){for(n="0",e-=r;--e;n+="0");t+=n}else e<r&&(t=t.slice(0,e)+"."+t.slice(e));return t}function h(t){return t=parseFloat(t),t<0?y(t):_(t)}var v,g=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,y=Math.ceil,_=Math.floor,x=" not a boolean or binary digit",w="rounding mode",b="number type has more than 15 significant digits",N="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",z=1e14,A=14,E=9007199254740991,M=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],O=1e7,S=1e9;v=a(),v["default"]=v.BigNumber=v,n=function(){return v}.call(e,r,e,t),!(void 0!==n&&(t.exports=n))}(void 0)},function(t,e,r){"use strict";function n(t){var e=i.create(t);return e.create=n,e["import"](r(202)),e}var i=r(191);t.exports=n()},function(t,e,r){"use strict";t.exports=r(192)},function(t,e,r){"use strict";var n=r(193).isFactory,i=r(194),o=r(197),a=r(199),s=r(201);e.create=function(t){function e(t){if(!n(t))throw new Error("Factory object with properties `type`, `name`, and `factory` expected");var i,o=r.indexOf(t);return o===-1?(i=t.math===!0?t.factory(c.type,l,e,c.typed,c):t.factory(c.type,l,e,c.typed),r.push(t),u.push(i)):i=u[o],i}if("function"!=typeof Object.create)throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var r=[],u=[],c=o.mixin({});c.type={},c.expression={transform:{},mathWithTransform:{}},c.typed=i.create(c.type);var l={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};return c["import"]=e(a),c.config=e(s),c.expression.mathWithTransform.config=c.config,t&&c.config(t),c}},function(t,e){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e.clone=function n(t){var i="undefined"==typeof t?"undefined":r(t);if("number"===i||"string"===i||"boolean"===i||null===t||void 0===t)return t;if("function"==typeof t.clone)return t.clone();if(Array.isArray(t))return t.map(function(t){return n(t)});if(t instanceof Number)return new Number(t.valueOf());if(t instanceof String)return new String(t.valueOf());if(t instanceof Boolean)return new Boolean(t.valueOf());if(t instanceof Date)return new Date(t.valueOf());if(t&&t.isBigNumber===!0)return t;if(t instanceof RegExp)throw new TypeError("Cannot clone "+t);return e.map(t,n)},e.map=function(t,r){var n={};for(var i in t)e.hasOwnProperty(t,i)&&(n[i]=r(t[i]));return n},e.extend=function(t,r){for(var n in r)e.hasOwnProperty(r,n)&&(t[n]=r[n]);return t},e.deepExtend=function i(t,r){if(Array.isArray(r))throw new TypeError("Arrays are not supported by deepExtend");for(var n in r)if(e.hasOwnProperty(r,n))if(r[n]&&r[n].constructor===Object)void 0===t[n]&&(t[n]={}),t[n].constructor===Object?i(t[n],r[n]):t[n]=r[n];else{if(Array.isArray(r[n]))throw new TypeError("Arrays are not supported by deepExtend");t[n]=r[n]}return t},e.deepEqual=function(t,n){var i,o,a;if(Array.isArray(t)){if(!Array.isArray(n))return!1;if(t.length!=n.length)return!1;for(o=0,a=t.length;o<a;o++)if(!e.deepEqual(t[o],n[o]))return!1;return!0}if(t instanceof Object){if(Array.isArray(n)||!(n instanceof Object))return!1;for(i in t)if(!e.deepEqual(t[i],n[i]))return!1;for(i in n)if(!e.deepEqual(t[i],n[i]))return!1;return!0}return("undefined"==typeof t?"undefined":r(t))===("undefined"==typeof n?"undefined":r(n))&&t==n},e.canDefineProperty=function(){try{if(Object.defineProperty)return Object.defineProperty({},"x",{get:function(){}}),!0}catch(t){}return!1},e.lazy=function(t,r,n){if(e.canDefineProperty()){var i,o=!0;Object.defineProperty(t,r,{get:function(){return o&&(i=n(),o=!1),i},set:function(t){i=t,o=!1},configurable:!0,enumerable:!0})}else t[r]=n()},e.traverse=function(t,e){var r=t;if(e)for(var n=e.split("."),i=0;i<n.length;i++){var o=n[i];o in r||(r[o]={}),r=r[o]}return r},e.hasOwnProperty=function(t,e){return t&&Object.hasOwnProperty.call(t,e)},e.isFactory=function(t){return t&&"function"==typeof t.factory}},function(t,e,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},i=r(195),o=r(196).digits,a=function(){return a=i.create,i};e.create=function(t){var e=a();return e.types=[{name:"number",test:function(t){return"number"==typeof t}},{name:"Complex",test:function(t){return t&&t.isComplex}},{name:"BigNumber",test:function(t){return t&&t.isBigNumber}},{name:"Fraction",test:function(t){return t&&t.isFraction}},{name:"Unit",test:function(t){return t&&t.isUnit}},{name:"string",test:function(t){return"string"==typeof t}},{name:"Array",test:Array.isArray},{name:"Matrix",test:function(t){return t&&t.isMatrix}},{name:"DenseMatrix",test:function(t){return t&&t.isDenseMatrix}},{name:"SparseMatrix",test:function(t){return t&&t.isSparseMatrix}},{name:"Range",test:function(t){return t&&t.isRange}},{name:"Index",test:function(t){return t&&t.isIndex}},{name:"boolean",test:function(t){return"boolean"==typeof t}},{name:"ResultSet",test:function(t){return t&&t.isResultSet}},{name:"Help",test:function(t){return t&&t.isHelp}},{name:"function",test:function(t){return"function"==typeof t}},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:function(t){return"object"===("undefined"==typeof t?"undefined":n(t))}},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}},{name:"OperatorNode",test:function(t){return t&&t.isOperatorNode}},{name:"ConstantNode",test:function(t){return t&&t.isConstantNode}},{name:"SymbolNode",test:function(t){return t&&t.isSymbolNode}},{name:"ParenthesisNode",test:function(t){return t&&t.isParenthesisNode}},{name:"FunctionNode",test:function(t){return t&&t.isFunctionNode}},{name:"FunctionAssignmentNode",test:function(t){return t&&t.isFunctionAssignmentNode}},{name:"ArrayNode",test:function(t){return t&&t.isArrayNode}},{name:"AssignmentNode",test:function(t){return t&&t.isAssignmentNode}},{name:"BlockNode",test:function(t){return t&&t.isBlockNode}},{name:"ConditionalNode",test:function(t){return t&&t.isConditionalNode}},{name:"IndexNode",test:function(t){return t&&t.isIndexNode}},{name:"RangeNode",test:function(t){return t&&t.isRangeNode}},{name:"UpdateNode",test:function(t){return t&&t.isUpdateNode}},{name:"Node",test:function(t){return t&&t.isNode}}],e.conversions=[{from:"number",to:"BigNumber",convert:function(e){if(o(e)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+e+"). Use function bignumber(x) to convert to BigNumber.");return new t.BigNumber(e)}},{from:"number",to:"Complex",convert:function(e){return new t.Complex(e,0)}},{from:"number",to:"string",convert:function(t){return t+""}},{from:"BigNumber",to:"Complex",convert:function(e){return new t.Complex(e.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(t){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(e){return new t.Complex(e.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(e){var r=new t.Fraction(e);if(r.valueOf()!==e)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+e+"). Use function fraction(x) to convert to Fraction.");return new t.Fraction(e)}},{from:"string",to:"number",convert:function(t){var e=Number(t);if(isNaN(e))throw new Error('Cannot convert "'+t+'" to a number');return e}},{from:"string",to:"BigNumber",convert:function(e){try{return new t.BigNumber(e)}catch(r){throw new Error('Cannot convert "'+e+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(e){try{return new t.Fraction(e)}catch(r){throw new Error('Cannot convert "'+e+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(e){try{return new t.Complex(e)}catch(r){throw new Error('Cannot convert "'+e+'" to Complex')}}},{from:"boolean",to:"number",convert:function(t){return+t}},{from:"boolean",to:"BigNumber",convert:function(e){return new t.BigNumber((+e))}},{from:"boolean",to:"Fraction",convert:function(e){return new t.Fraction((+e))}},{from:"boolean",to:"string",convert:function(t){return+t}},{from:"null",to:"number",convert:function(){return 0}},{from:"null",to:"string",convert:function(){return"null"}},{from:"null",to:"BigNumber",convert:function(){return new t.BigNumber(0)}},{from:"null",to:"Fraction",convert:function(){return new t.Fraction(0)}},{from:"Array",to:"Matrix",convert:function(e){return new t.DenseMatrix(e)}},{from:"Matrix",to:"Array",convert:function(t){return t.valueOf()}}],e}},function(t,e,r){var n,i,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};!function(r,a){i=[],n=a,o="function"==typeof n?n.apply(e,i):n,!(void 0!==o&&(t.exports=o))}(void 0,function(){function t(){function e(t){for(var e,r=0;r<A.types.length;r++){var n=A.types[r];if(n.name===t){e=n.test;break}}if(!e){var i;for(r=0;r<A.types.length;r++)if(n=A.types[r],n.name.toLowerCase()==t.toLowerCase()){i=n.name;break}throw new Error('Unknown type "'+t+'"'+(i?'. Did you mean "'+i+'"?':""))}return e}function r(t){for(var e="",r=0;r<t.length;r++){var n=t[r];if(n.signatures&&""!=n.name)if(""==e)e=n.name;else if(e!=n.name){var i=new Error("Function names do not match (expected: "+e+", actual: "+n.name+")");throw i.data={actual:n.name,expected:e},i}}return e}function n(t,e,r,n,i){var o,a=v(n),s=i?i.split(","):null,u=t||"unnamed",c=s&&g(s,"any"),l={
fn:t,index:r,actual:n,expected:s};o=s?e>r&&!c?"Unexpected type of argument in function "+u+" (expected: "+s.join(" or ")+", actual: "+a+", index: "+r+")":"Too few arguments in function "+u+" (expected: "+s.join(" or ")+", index: "+r+")":"Too many arguments in function "+u+" (expected: "+r+", actual: "+e+")";var f=new TypeError(o);return f.data=l,f}function i(t){this.name=t||"refs",this.categories={}}function o(t,e){if("string"==typeof t){var r=t.trim(),n="..."===r.substr(0,3);if(n&&(r=r.substr(3)),""===r)this.types=["any"];else{this.types=r.split("|");for(var i=0;i<this.types.length;i++)this.types[i]=this.types[i].trim()}}else{if(!Array.isArray(t)){if(t instanceof o)return t.clone();throw new Error("String or Array expected")}this.types=t}this.conversions=[],this.varArgs=n||e||!1,this.anyType=this.types.indexOf("any")!==-1}function s(t,e){var r;if("string"==typeof t)r=""!==t?t.split(","):[];else{if(!Array.isArray(t))throw new Error("string or Array expected");r=t}this.params=new Array(r.length),this.anyType=!1,this.varArgs=!1;for(var n=0;n<r.length;n++){var i=new o(r[n]);if(this.params[n]=i,i.anyType&&(this.anyType=!0),n===r.length-1)this.varArgs=i.varArgs;else if(i.varArgs)throw new SyntaxError('Unexpected variable arguments operator "..."')}this.fn=e}function u(t,e,r,n){this.path=t||[],this.param=t[t.length-1]||null,this.signature=e||null,this.childs=r||[],this.fallThrough=n||!1}function c(t){var e,r,n={},i=[];for(var o in t)if(t.hasOwnProperty(o)){var a=t[o];if(e=new s(o,a),e.ignore())continue;var u=e.expand();for(r=0;r<u.length;r++){var c=u[r],l=c.toString(),f=n[l];if(f){var p=s.compare(c,f);if(p<0)n[l]=c;else if(0===p)throw new Error('Signature "'+l+'" is defined twice')}else n[l]=c}}for(l in n)n.hasOwnProperty(l)&&i.push(n[l]);for(i.sort(function(t,e){return s.compare(t,e)}),r=0;r<i.length;r++)if(e=i[r],e.varArgs)for(var d=e.params.length-1,m=e.params[d],h=0;h<m.types.length;){if(m.conversions[h])for(var v=m.types[h],y=0;y<i.length;y++){var _=i[y],x=_.params[d];if(_!==e&&x&&g(x.types,v)&&!x.conversions[d]){m.types.splice(h,1),m.conversions.splice(h,1),h--;break}}h++}return i}function l(t){for(var e=[],r=0;r<t.length;r++)t[r].anyType&&e.push(t[r]);return e}function f(t){for(var e={},r=0;r<t.length;r++){var n=t[r];if(n.fn&&!n.hasConversions()){var i=n.params.join(",");e[i]=n.fn}}return e}function p(t,e,r){var n,i,a,s=e.length,c=[];for(n=0;n<t.length;n++)i=t[n],i.params.length!==s||a||(a=i),void 0!=i.params[s]&&c.push(i);c.sort(function(t,e){return o.compare(t.params[s],e.params[s])});var l=[];for(n=0;n<c.length;n++){i=c[n];var f=i.params[s],d=l.filter(function(t){return t.param.overlapping(f)})[0];if(d){if(d.param.varArgs)throw new Error('Conflicting types "'+d.param+'" and "'+f+'"');d.signatures.push(i)}else l.push({param:f,signatures:[i]})}var m=[];for(n=0;n<r.length;n++)r[n].paramsStartWith(e)&&m.push(r[n]);var h=!1;for(n=0;n<m.length;n++)if(!g(t,m[n])){h=!0;break}var v=new Array(l.length);for(n=0;n<l.length;n++){var y=l[n];v[n]=p(y.signatures,e.concat(y.param),m)}return new u(e,a,v,h)}function d(t){for(var e=[],r=0;r<t;r++)e[r]="arg"+r;return e}function m(t,e){var r=new i,o=c(e);if(0==o.length)throw new Error("No signatures provided");var a=l(o),s=p(o,[],a),u=[],m=t||"",v=d(h(o));u.push("function "+m+"("+v.join(", ")+") {"),u.push('  "use strict";'),u.push("  var name = '"+m+"';"),u.push(s.toCode(r,"  ",!1)),u.push("}");var g=[r.toCode(),"return "+u.join("\n")].join("\n"),y=new Function(r.name,"createError",g),_=y(r,n);return _.signatures=f(o),_}function h(t){for(var e=0,r=0;r<t.length;r++){var n=t[r].params.length;n>e&&(e=n)}return e}function v(t){for(var e,r=0;r<A.types.length;r++){var n=A.types[r];if("Object"===n.name)e=n;else if(n.test(t))return n.name}return e&&e.test(t)?e.name:"unknown"}function g(t,e){return t.indexOf(e)!==-1}function y(t){return t[t.length-1]}function _(t,e){if(!t.signatures)throw new TypeError("Function is no typed-function");var r;if("string"==typeof e){r=e.split(",");for(var n=0;n<r.length;n++)r[n]=r[n].trim()}else{if(!Array.isArray(e))throw new TypeError("String array or a comma separated string expected");r=e}var i=r.join(","),o=t.signatures[i];if(o)return o;throw new TypeError("Signature not found (signature: "+(t.name||"unnamed")+"("+r.join(", ")+"))")}function x(t,e){var r=v(t);if(e===r)return t;for(var n=0;n<A.conversions.length;n++){var i=A.conversions[n];if(i.from===r&&i.to===e)return i.convert(t)}throw new Error("Cannot convert from "+r+" to "+e)}i.prototype.add=function(t,e){var r=e||"fn";this.categories[r]||(this.categories[r]=[]);var n=this.categories[r].indexOf(t);return n==-1&&(n=this.categories[r].length,this.categories[r].push(t)),r+n},i.prototype.toCode=function(){var t=[],e=this.name+".categories",r=this.categories;for(var n in r)if(r.hasOwnProperty(n))for(var i=r[n],o=0;o<i.length;o++)t.push("var "+n+o+" = "+e+"['"+n+"']["+o+"];");return t.join("\n")},o.compare=function(t,e){if(t.anyType)return 1;if(e.anyType)return-1;if(g(t.types,"Object"))return 1;if(g(e.types,"Object"))return-1;if(t.hasConversions()){if(e.hasConversions()){var r,n,i;for(r=0;r<t.conversions.length;r++)if(void 0!==t.conversions[r]){n=t.conversions[r];break}for(r=0;r<e.conversions.length;r++)if(void 0!==e.conversions[r]){i=e.conversions[r];break}return A.conversions.indexOf(n)-A.conversions.indexOf(i)}return 1}if(e.hasConversions())return-1;var o,a;for(r=0;r<A.types.length;r++)if(A.types[r].name===t.types[0]){o=r;break}for(r=0;r<A.types.length;r++)if(A.types[r].name===e.types[0]){a=r;break}return o-a},o.prototype.overlapping=function(t){for(var e=0;e<this.types.length;e++)if(g(t.types,this.types[e]))return!0;return!1},o.prototype.matches=function(t){return this.anyType||t.anyType||this.overlapping(t)},o.prototype.clone=function(){var t=new o(this.types.slice(),this.varArgs);return t.conversions=this.conversions.slice(),t},o.prototype.hasConversions=function(){return this.conversions.length>0},o.prototype.contains=function(t){for(var e=0;e<this.types.length;e++)if(t[this.types[e]])return!0;return!1},o.prototype.toString=function(t){for(var e=[],r={},n=0;n<this.types.length;n++){var i=this.conversions[n],o=t&&i?i.to:this.types[n];o in r||(r[o]=!0,e.push(o))}return(this.varArgs?"...":"")+e.join("|")},s.prototype.clone=function(){return new s(this.params.slice(),this.fn)},s.prototype.expand=function(){function t(r,n){if(n.length<r.params.length){var i,a,u,c=r.params[n.length];if(c.varArgs){for(a=c.clone(),i=0;i<A.conversions.length;i++)if(u=A.conversions[i],!g(c.types,u.from)&&g(c.types,u.to)){var l=a.types.length;a.types[l]=u.from,a.conversions[l]=u}t(r,n.concat(a))}else{for(i=0;i<c.types.length;i++)t(r,n.concat(new o(c.types[i])));for(i=0;i<A.conversions.length;i++)u=A.conversions[i],!g(c.types,u.from)&&g(c.types,u.to)&&(a=new o(u.from),a.conversions[0]=u,t(r,n.concat(a)))}}else e.push(new s(n,r.fn))}var e=[];return t(this,[]),e},s.compare=function(t,e){if(t.params.length>e.params.length)return 1;if(t.params.length<e.params.length)return-1;var r,n=t.params.length,i=0,a=0;for(r=0;r<n;r++)t.params[r].hasConversions()&&i++,e.params[r].hasConversions()&&a++;if(i>a)return 1;if(i<a)return-1;for(r=0;r<t.params.length;r++){var s=o.compare(t.params[r],e.params[r]);if(0!==s)return s}return 0},s.prototype.hasConversions=function(){for(var t=0;t<this.params.length;t++)if(this.params[t].hasConversions())return!0;return!1},s.prototype.ignore=function(){for(var t={},e=0;e<A.ignore.length;e++)t[A.ignore[e]]=!0;for(e=0;e<this.params.length;e++)if(this.params[e].contains(t))return!0;return!1},s.prototype.paramsStartWith=function(t){if(0===t.length)return!0;for(var e=y(this.params),r=y(t),n=0;n<t.length;n++){var i=this.params[n]||(e.varArgs?e:null),o=t[n]||(r.varArgs?r:null);if(!i||!o||!i.matches(o))return!1}return!0},s.prototype.toCode=function(t,e){for(var r=[],n=new Array(this.params.length),i=0;i<this.params.length;i++){var o=this.params[i],a=o.conversions[0];o.varArgs?n[i]="varArgs":a?n[i]=t.add(a.convert,"convert")+"(arg"+i+")":n[i]="arg"+i}var s=this.fn?t.add(this.fn,"signature"):void 0;return s?e+"return "+s+"("+n.join(", ")+"); // signature: "+this.params.join(", "):r.join("\n")},s.prototype.toString=function(){return this.params.join(", ")},u.prototype.toCode=function(t,r){var n=[];if(this.param){var i=this.path.length-1,o=this.param.conversions[0],a="// type: "+(o?o.from+" (convert to "+o.to+")":this.param);if(this.param.varArgs)if(this.param.anyType)n.push(r+"if (arguments.length > "+i+") {"),n.push(r+"  var varArgs = [];"),n.push(r+"  for (var i = "+i+"; i < arguments.length; i++) {"),n.push(r+"    varArgs.push(arguments[i]);"),n.push(r+"  }"),n.push(this.signature.toCode(t,r+"  ")),n.push(r+"}");else{for(var s=function(r,n){for(var i=[],o=0;o<r.length;o++)i[o]=t.add(e(r[o]),"test")+"("+n+")";return i.join(" || ")}.bind(this),u=this.param.types,c=[],l=0;l<u.length;l++)void 0===this.param.conversions[l]&&c.push(u[l]);n.push(r+"if ("+s(u,"arg"+i)+") { "+a),n.push(r+"  var varArgs = [arg"+i+"];"),n.push(r+"  for (var i = "+(i+1)+"; i < arguments.length; i++) {"),n.push(r+"    if ("+s(c,"arguments[i]")+") {"),n.push(r+"      varArgs.push(arguments[i]);");for(var l=0;l<u.length;l++){var f=this.param.conversions[l];if(f){var p=t.add(e(u[l]),"test"),d=t.add(f.convert,"convert");n.push(r+"    }"),n.push(r+"    else if ("+p+"(arguments[i])) {"),n.push(r+"      varArgs.push("+d+"(arguments[i]));")}}n.push(r+"    } else {"),n.push(r+"      throw createError(name, arguments.length, i, arguments[i], '"+c.join(",")+"');"),n.push(r+"    }"),n.push(r+"  }"),n.push(this.signature.toCode(t,r+"  ")),n.push(r+"}")}else if(this.param.anyType)n.push(r+"// type: any"),n.push(this._innerCode(t,r));else{var m=this.param.types[0],p="any"!==m?t.add(e(m),"test"):null;n.push(r+"if ("+p+"(arg"+i+")) { "+a),n.push(this._innerCode(t,r+"  ")),n.push(r+"}")}}else n.push(this._innerCode(t,r));return n.join("\n")},u.prototype._innerCode=function(t,e){var r,n=[];for(this.signature&&(n.push(e+"if (arguments.length === "+this.path.length+") {"),n.push(this.signature.toCode(t,e+"  ")),n.push(e+"}")),r=0;r<this.childs.length;r++)n.push(this.childs[r].toCode(t,e));if(!this.fallThrough||this.param&&this.param.anyType){var i=this._exceptions(t,e);i&&n.push(i)}return n.join("\n")},u.prototype._exceptions=function(t,e){var r=this.path.length;if(0===this.childs.length)return[e+"if (arguments.length > "+r+") {",e+"  throw createError(name, arguments.length, "+r+", arguments["+r+"]);",e+"}"].join("\n");for(var n={},i=[],o=0;o<this.childs.length;o++){var a=this.childs[o];if(a.param)for(var s=0;s<a.param.types.length;s++){var u=a.param.types[s];u in n||a.param.conversions[s]||(n[u]=!0,i.push(u))}}return e+"throw createError(name, arguments.length, "+r+", arguments["+r+"], '"+i.join(",")+"');"};var w=[{name:"number",test:function(t){return"number"==typeof t}},{name:"string",test:function(t){return"string"==typeof t}},{name:"boolean",test:function(t){return"boolean"==typeof t}},{name:"Function",test:function(t){return"function"==typeof t}},{name:"Array",test:Array.isArray},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:function(t){return"object"===("undefined"==typeof t?"undefined":a(t))}},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}}],b={},N=[],z=[],A={config:b,types:w,conversions:N,ignore:z};return A=m("typed",{Object:function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);var i=r(e);return m(i,t)},"string, Object":m,"...Function":function(t){for(var e,n=r(t),i={},o=0;o<t.length;o++){var s=t[o];if("object"!==a(s.signatures))throw e=new TypeError("Function is no typed-function (index: "+o+")"),e.data={index:o},e;for(var u in s.signatures)if(s.signatures.hasOwnProperty(u))if(i.hasOwnProperty(u)){if(s.signatures[u]!==i[u])throw e=new Error('Signature "'+u+'" is defined twice'),e.data={signature:u},e}else i[u]=s.signatures[u]}return m(n,i)}}),A.config=b,A.types=w,A.conversions=N,A.ignore=z,A.create=t,A.find=_,A.convert=x,A.addType=function(t){if(!t||"string"!=typeof t.name||"function"!=typeof t.test)throw new TypeError("Object with properties {name: string, test: function} expected");A.types.push(t)},A.addConversion=function(t){if(!t||"string"!=typeof t.from||"string"!=typeof t.to||"function"!=typeof t.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");A.conversions.push(t)},A}return t()})},function(t,e){"use strict";function r(t){for(var e=[],r=0;r<t;r++)e.push(0);return e}e.isNumber=function(t){return"number"==typeof t},e.isInteger=function(t){return!!isFinite(t)&&t==Math.round(t)},e.sign=Math.sign||function(t){return t>0?1:t<0?-1:0},e.format=function(t,r){if("function"==typeof r)return r(t);if(t===1/0)return"Infinity";if(t===-(1/0))return"-Infinity";if(isNaN(t))return"NaN";var n="auto",i=void 0;switch(r&&(r.notation&&(n=r.notation),e.isNumber(r)?i=r:r.precision&&(i=r.precision)),n){case"fixed":return e.toFixed(t,i);case"exponential":return e.toExponential(t,i);case"engineering":return e.toEngineering(t,i);case"auto":return e.toPrecision(t,i,r&&r.exponential).replace(/((\.\d*?)(0+))($|e)/,function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", or "fixed".')}},e.splitNumber=function(t){var e=String(t).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var r=e[1],n=e[2],i=parseFloat(e[4]||"0"),o=n.indexOf(".");i+=o!==-1?o-1:n.length-1;var a=n.replace(".","").replace(/^0*/,function(t){return i-=t.length,""}).replace(/0*$/,"").split("").map(function(t){return parseInt(t)});return 0===a.length&&(a.push(0),i++),{sign:r,coefficients:a,exponent:i}},e.toEngineering=function(t,n){if(isNaN(t)||!isFinite(t))return String(t);var i=e.roundDigits(e.splitNumber(t),n),o=i.exponent,a=i.coefficients,s=o%3===0?o:o<0?o-3-o%3:o-o%3,u=o>=0?o:Math.abs(s);a.length-1<u&&(a=a.concat(r(u-(a.length-1))));for(var c=Math.abs(o-s),l=1;--c>=0;)l++;var f=a.slice(l).join(""),p=f.match(/[1-9]/)?"."+f:"",d=a.slice(0,l).join("")+p+"e"+(o>=0?"+":"")+s.toString();return i.sign+d},e.toFixed=function(t,n){if(isNaN(t)||!isFinite(t))return String(t);var i=e.splitNumber(t),o=e.roundDigits(i,i.exponent+1+(n||0)),a=o.coefficients,s=o.exponent+1,u=s+(n||0);return a.length<u&&(a=a.concat(r(u-a.length))),s<0&&(a=r(-s+1).concat(a),s=1),n&&a.splice(s,0,0===s?"0.":"."),o.sign+a.join("")},e.toExponential=function(t,n){if(isNaN(t)||!isFinite(t))return String(t);var i=e.splitNumber(t),o=n?e.roundDigits(i,n):i,a=o.coefficients,s=o.exponent;a.length<n&&(a=a.concat(r(n-a.length)));var u=a.shift();return o.sign+u+(a.length>0?"."+a.join(""):"")+"e"+(s>=0?"+":"")+s},e.toPrecision=function(t,n,i){if(isNaN(t)||!isFinite(t))return String(t);var o=i&&void 0!==i.lower?i.lower:.001,a=i&&void 0!==i.upper?i.upper:1e5,s=e.splitNumber(t),u=Math.abs(Math.pow(10,s.exponent));if(u<o||u>=a)return e.toExponential(t,n);var c=n?e.roundDigits(s,n):s,l=c.coefficients,f=c.exponent;l.length<n&&(l=l.concat(r(n-l.length))),l=l.concat(r(f-l.length+1+(l.length<n?n-l.length:0))),l=r(-f).concat(l);var p=f>0?f:0;return p<l.length-1&&l.splice(p+1,0,"."),c.sign+l.join("")},e.roundDigits=function(t,e){for(var r={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},n=r.coefficients;e<=0;)n.unshift(0),r.exponent++,e++;if(n.length>e){var i=n.splice(e,n.length-e);if(i[0]>=5){var o=e-1;for(n[o]++;10===n[o];)n.pop(),0===o&&(n.unshift(0),r.exponent++,o++),o--,n[o]++}}return r},e.digits=function(t){return t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length},e.DBL_EPSILON=Number.EPSILON||2.220446049250313e-16,e.nearlyEqual=function(t,r,n){if(null==n)return t==r;if(t==r)return!0;if(isNaN(t)||isNaN(r))return!1;if(isFinite(t)&&isFinite(r)){var i=Math.abs(t-r);return i<e.DBL_EPSILON||i<=Math.max(Math.abs(t),Math.abs(r))*n}return!1}},function(t,e,r){"use strict";var n=r(198);e.mixin=function(t){var e=new n;return t.on=e.on.bind(e),t.off=e.off.bind(e),t.once=e.once.bind(e),t.emit=e.emit.bind(e),t}},function(t,e){"use strict";function r(){}r.prototype={on:function(t,e,r){var n=this.e||(this.e={});return(n[t]||(n[t]=[])).push({fn:e,ctx:r}),this},once:function(t,e,r){function n(){i.off(t,n),e.apply(r,arguments)}var i=this;return n._=e,this.on(t,n,r)},emit:function(t){var e=[].slice.call(arguments,1),r=((this.e||(this.e={}))[t]||[]).slice(),n=0,i=r.length;for(n;n<i;n++)r[n].fn.apply(r[n].ctx,e);return this},off:function(t,e){var r=this.e||(this.e={}),n=r[t],i=[];if(n&&e)for(var o=0,a=n.length;o<a;o++)n[o].fn!==e&&n[o].fn._!==e&&i.push(n[o]);return i.length?r[t]=i:delete r[t],this}},t.exports=r},function(t,e,r){"use strict";function n(t,e,r,n,c){function l(t,e){var r=arguments.length;if(1!==r&&2!==r)throw new u("import",r,1,2);if(e||(e={}),a(t))m(t,e);else if(Array.isArray(t))t.forEach(function(t){l(t,e)});else if("object"===("undefined"==typeof t?"undefined":i(t))){for(var n in t)if(t.hasOwnProperty(n)){var o=t[n];h(o)?f(n,o,e):a(t)?m(t,e):l(o,e)}}else if(!e.silent)throw new TypeError("Factory, Object, or Array expected")}function f(t,e,r){if(r.wrap&&"function"==typeof e&&(e=d(e)),v(c[t])&&v(e))return e=r.override?n(t,e.signatures):n(c[t],e),c[t]=e,p(t,e),void c.emit("import",t,function(){return e});if(void 0===c[t]||r.override)return c[t]=e,p(t,e),void c.emit("import",t,function(){return e});if(!r.silent)throw new Error('Cannot import "'+t+'": already exists')}function p(t,e){e&&"function"==typeof e.transform?(c.expression.transform[t]=e.transform,g(t)&&(c.expression.mathWithTransform[t]=e.transform)):(delete c.expression.transform[t],g(t)&&(c.expression.mathWithTransform[t]=e))}function d(t){var e=function(){for(var e=[],r=0,n=arguments.length;r<n;r++){var i=arguments[r];e[r]=i&&i.valueOf()}return t.apply(c,e)};return t.transform&&(e.transform=t.transform),e}function m(t,e){if("string"==typeof t.name){var i=t.name,a=i in c.expression.transform,u=t.path?s(c,t.path):c,l=u.hasOwnProperty(i)?u[i]:void 0,f=function(){var o=r(t);if(o&&"function"==typeof o.transform)throw new Error('Transforms cannot be attached to factory functions. Please create a separate function for it with exports.path="expression.transform"');if(v(l)&&v(o))return e.override||(o=n(l,o)),o;if(void 0===l||e.override)return o;if(!e.silent)throw new Error('Cannot import "'+i+'": already exists')};t.lazy!==!1?(o(u,i,f),a||("expression.transform"===t.path||y(t))&&o(c.expression.mathWithTransform,i,f)):(u[i]=f(),a||("expression.transform"===t.path||y(t))&&(c.expression.mathWithTransform[i]=f())),c.emit("import",i,f,t.path)}else r(t)}function h(t){return"function"==typeof t||"number"==typeof t||"string"==typeof t||"boolean"==typeof t||null===t||t&&t.isUnit===!0||t&&t.isComplex===!0||t&&t.isBigNumber===!0||t&&t.isFraction===!0||t&&t.isMatrix===!0||t&&Array.isArray(t)===!0}function v(t){return"function"==typeof t&&"object"===i(t.signatures)}function g(t){return!_.hasOwnProperty(t)}function y(t){return void 0===t.path&&!_.hasOwnProperty(t.name)}var _={expression:!0,type:!0,docs:!0,error:!0,json:!0,chain:!0};return l}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},o=r(193).lazy,a=r(193).isFactory,s=r(193).traverse,u=r(200);e.math=!0,e.name="import",e.factory=n,e.lazy=!0},function(t,e){"use strict";function r(t,e,n,i){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=e,this.min=n,this.max=i,this.message="Wrong number of arguments in function "+t+" ("+e+" provided, "+n+(void 0!=i?"-"+i:"")+" expected)",this.stack=(new Error).stack}r.prototype=new Error,r.prototype.constructor=Error,r.prototype.name="ArgumentsError",r.prototype.isArgumentsError=!0,t.exports=r},function(t,e,r){"use strict";function n(t,e,r,n,i){function o(t){if(t){var r=s.map(e,s.clone);a(t,"matrix",u),a(t,"number",c),s.deepExtend(e,t);var n=s.map(e,s.clone),o=s.map(t,s.clone);return i.emit("config",n,r,o),n}return s.map(e,s.clone)}var u=["Matrix","Array"],c=["number","BigNumber","Fraction"];return o.MATRIX=u,o.NUMBER=c,o}function i(t,e){return t.indexOf(e)!==-1}function o(t,e){return t.map(function(t){return t.toLowerCase()}).indexOf(e.toLowerCase())}function a(t,e,r){if(void 0!==t[e]&&!i(r,t[e])){var n=o(r,t[e]);n!==-1?(console.warn('Warning: Wrong casing for configuration option "'+e+'", should be "'+r[n]+'" instead of "'+t[e]+'".'),t[e]=r[n]):console.warn('Warning: Unknown value "'+t[e]+'" for configuration option "'+e+'". Available options: '+r.map(JSON.stringify).join(", ")+".")}}var s=r(193);e.name="config",e.math=!0,e.factory=n},function(t,e,r){"use strict";t.exports=[r(203),r(288),r(290),r(543),r(735),r(737)]},function(t,e,r){"use strict";t.exports=[r(204),r(209),r(210),r(215),r(222),r(226),r(260),r(261),r(263),r(264)]},function(t,e,r){"use strict";t.exports=[r(205),r(207)]},function(t,e,r){"use strict";function n(t,e,r,n,o){var a=i.clone({precision:e.precision});return a.prototype.type="BigNumber",a.prototype.isBigNumber=!0,a.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},a.fromJSON=function(t){return new a(t.value)},o.on("config",function(t,e){t.precision!==e.precision&&a.config({precision:t.precision})}),a}var i=r(206);e.name="BigNumber",e.path="type",e.factory=n,e.math=!0},function(t,e,r){var n,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};!function(o){"use strict";function a(t){var e,r,n,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)n=t[e]+"",r=Rt-n.length,r&&(o+=g(r)),o+=n;a=t[e],n=a+"",r=Rt-n.length,r&&(o+=g(r))}else if(0===a)return"0";for(;a%10===0;)a/=10;return o+a}function s(t,e,r){if(t!==~~t||t<e||t>r)throw Error(At+t)}function u(t,e,r,n){var i,o,a,s;for(o=t[0];o>=10;o/=10)--e;return--e<0?(e+=Rt,i=0):(i=Math.ceil((e+1)/Rt),e%=Rt),o=St(10,Rt-e),s=t[i]%o|0,null==n?e<3?(0==e?s=s/100|0:1==e&&(s=s/10|0),a=r<4&&99999==s||r>3&&49999==s||5e4==s||0==s):a=(r<4&&s+1==o||r>3&&s+1==o/2)&&(t[i+1]/o/100|0)==St(10,e-2)-1||(s==o/2||0==s)&&0==(t[i+1]/o/100|0):e<4?(0==e?s=s/1e3|0:1==e?s=s/100|0:2==e&&(s=s/10|0),a=(n||r<4)&&9999==s||!n&&r>3&&4999==s):a=((n||r<4)&&s+1==o||!n&&r>3&&s+1==o/2)&&(t[i+1]/o/1e3|0)==St(10,e-3)-1,a}function c(t,e,r){for(var n,i,o=[0],a=0,s=t.length;a<s;){for(i=o.length;i--;)o[i]*=e;for(o[0]+=_t.indexOf(t.charAt(a++)),n=0;n<o.length;n++)o[n]>r-1&&(void 0===o[n+1]&&(o[n+1]=0),o[n+1]+=o[n]/r|0,o[n]%=r)}return o.reverse()}function l(t,e){var r,n,i=e.d.length;i<32?(r=Math.ceil(i/3),n=Math.pow(4,-r).toString()):(r=16,n="2.3283064365386962890625e-10"),t.precision+=r,e=M(t,1,e.times(n),new t(1));for(var o=r;o--;){var a=e.times(e);e=a.times(a).minus(a).times(8).plus(1)}return t.precision-=r,e}function f(t,e,r,n){var i,o,a,s,u,c,l,f,p,d=t.constructor;t:if(null!=e){if(f=t.d,!f)return t;for(i=1,s=f[0];s>=10;s/=10)i++;if(o=e-i,o<0)o+=Rt,a=e,l=f[p=0],u=l/St(10,i-a-1)%10|0;else if(p=Math.ceil((o+1)/Rt),s=f.length,p>=s){if(!n)break t;for(;s++<=p;)f.push(0);l=u=0,i=1,o%=Rt,a=o-Rt+1}else{for(l=s=f[p],i=1;s>=10;s/=10)i++;o%=Rt,a=o-Rt+i,u=a<0?0:l/St(10,i-a-1)%10|0}if(n=n||e<0||void 0!==f[p+1]||(a<0?l:l%St(10,i-a-1)),c=r<4?(u||n)&&(0==r||r==(t.s<0?3:2)):u>5||5==u&&(4==r||n||6==r&&(o>0?a>0?l/St(10,i-a):0:f[p-1])%10&1||r==(t.s<0?8:7)),e<1||!f[0])return f.length=0,c?(e-=t.e+1,f[0]=St(10,(Rt-e%Rt)%Rt),t.e=-e||0):f[0]=t.e=0,t;if(0==o?(f.length=p,s=1,p--):(f.length=p+1,s=St(10,Rt-o),f[p]=a>0?(l/St(10,i-a)%St(10,a)|0)*s:0),c)for(;;){if(0==p){for(o=1,a=f[0];a>=10;a/=10)o++;for(a=f[0]+=s,s=1;a>=10;a/=10)s++;o!=s&&(t.e++,f[0]==It&&(f[0]=1));break}if(f[p]+=s,f[p]!=It)break;f[p--]=0,s=1}for(o=f.length;0===f[--o];)f.pop()}return Nt&&(t.e>d.maxE?(t.d=null,t.e=NaN):t.e<d.minE&&(t.e=0,t.d=[0])),t}function p(t,e,r){if(!t.isFinite())return N(t);var n,i=t.e,o=a(t.d),s=o.length;return e?(r&&(n=r-s)>0?o=o.charAt(0)+"."+o.slice(1)+g(n):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(t.e<0?"e":"e+")+t.e):i<0?(o="0."+g(-i-1)+o,r&&(n=r-s)>0&&(o+=g(n))):i>=s?(o+=g(i+1-s),r&&(n=r-i-1)>0&&(o=o+"."+g(n))):((n=i+1)<s&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(o+="."),o+=g(n))),o}function d(t,e){var r=t[0];for(e*=Rt;r>=10;r/=10)e++;return e}function m(t,e,r){if(e>Ut)throw Nt=!0,r&&(t.precision=r),Error(Et);return f(new t(xt),e,1,!0)}function h(t,e,r){if(e>Lt)throw Error(Et);return f(new t(wt),e,r,!0)}function v(t){var e=t.length-1,r=e*Rt+1;if(e=t[e]){for(;e%10==0;e/=10)r--;for(e=t[0];e>=10;e/=10)r++}return r}function g(t){for(var e="";t--;)e+="0";return e}function y(t,e,r,n){var i,o=new t(1),a=Math.ceil(n/Rt+4);for(Nt=!1;;){if(r%2&&(o=o.times(e),k(o.d,a)&&(i=!0)),r=Ot(r/2),0===r){r=o.d.length-1,i&&0===o.d[r]&&++o.d[r];break}e=e.times(e),k(e.d,a)}return Nt=!0,o}function _(t){return 1&t.d[t.d.length-1]}function x(t,e,r){for(var n,i=new t(e[0]),o=0;++o<e.length;){if(n=new t(e[o]),!n.s){i=n;break}i[r](n)&&(i=n)}return i}function w(t,e){var r,n,i,o,s,c,l,p=0,d=0,m=0,h=t.constructor,v=h.rounding,g=h.precision;if(!t.d||!t.d[0]||t.e>17)return new h(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(null==e?(Nt=!1,l=g):l=e,c=new h(.03125);t.e>-2;)t=t.times(c),m+=5;for(n=Math.log(St(2,m))/Math.LN10*2+5|0,l+=n,r=o=s=new h(1),h.precision=l;;){if(o=f(o.times(t),l,1),r=r.times(++d),c=s.plus(Ft(o,r,l,1)),a(c.d).slice(0,l)===a(s.d).slice(0,l)){for(i=m;i--;)s=f(s.times(s),l,1);if(null!=e)return h.precision=g,s;if(!(p<3&&u(s.d,l-n,v,p)))return f(s,h.precision=g,v,Nt=!0);h.precision=l+=10,r=o=c=new h(1),d=0,p++}s=c}}function b(t,e){var r,n,i,o,s,c,l,p,d,h,v,g=1,y=10,_=t,x=_.d,w=_.constructor,N=w.rounding,z=w.precision;if(_.s<0||!x||!x[0]||!_.e&&1==x[0]&&1==x.length)return new w(x&&!x[0]?-1/0:1!=_.s?NaN:x?0:_);if(null==e?(Nt=!1,d=z):d=e,w.precision=d+=y,r=a(x),n=r.charAt(0),!(Math.abs(o=_.e)<15e14))return p=m(w,d+2,z).times(o+""),_=b(new w(n+"."+r.slice(1)),d-y).plus(p),w.precision=z,null==e?f(_,z,N,Nt=!0):_;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)_=_.times(t),r=a(_.d),n=r.charAt(0),g++;for(o=_.e,n>1?(_=new w("0."+r),o++):_=new w(n+"."+r.slice(1)),h=_,l=s=_=Ft(_.minus(1),_.plus(1),d,1),v=f(_.times(_),d,1),i=3;;){if(s=f(s.times(v),d,1),p=l.plus(Ft(s,new w(i),d,1)),a(p.d).slice(0,d)===a(l.d).slice(0,d)){if(l=l.times(2),0!==o&&(l=l.plus(m(w,d+2,z).times(o+""))),l=Ft(l,new w(g),d,1),null!=e)return w.precision=z,l;if(!u(l.d,d-y,N,c))return f(l,w.precision=z,N,Nt=!0);w.precision=d+=y,p=s=_=Ft(h.minus(1),h.plus(1),d,1),v=f(_.times(_),d,1),i=c=1}l=p,i+=2}}function N(t){return String(t.s*t.s/0)}function z(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;48===e.charCodeAt(n);n++);for(i=e.length;48===e.charCodeAt(i-1);--i);if(e=e.slice(n,i)){if(i-=n,t.e=r=r-n-1,t.d=[],n=(r+1)%Rt,r<0&&(n+=Rt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Rt;n<i;)t.d.push(+e.slice(n,n+=Rt));e=e.slice(n),n=Rt-e.length}else n-=i;for(;n--;)e+="0";t.d.push(+e),Nt&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function A(t,e){var r,n,i,o,a,s,u,l,f;if("Infinity"===e||"NaN"===e)return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(Tt.test(e))r=16,e=e.toLowerCase();else if(kt.test(e))r=2;else{if(!Ct.test(e))throw Error(At+e);r=8}for(o=e.search(/p/i),o>0?(u=+e.slice(o+1),e=e.substring(2,o)):e=e.slice(2),o=e.indexOf("."),a=o>=0,n=t.constructor,a&&(e=e.replace(".",""),s=e.length,o=s-o,i=y(n,new n(r),o,2*o)),l=c(e,r,It),f=l.length-1,o=f;0===l[o];--o)l.pop();return o<0?new n(0*t.s):(t.e=d(l,f),t.d=l,Nt=!1,a&&(t=Ft(t,i,4*s)),u&&(t=t.times(Math.abs(u)<54?Math.pow(2,u):bt.pow(2,u))),Nt=!0,t)}function E(t,e){var r,n=e.d.length;if(n<3)return M(t,2,e,e);r=1.4*Math.sqrt(n),r=r>16?16:0|r,e=e.times(Math.pow(5,-r)),e=M(t,2,e,e);for(var i,o=new t(5),a=new t(16),s=new t(20);r--;)i=e.times(e),e=e.times(o.plus(i.times(a.times(i).minus(s))));return e}function M(t,e,r,n,i){var o,a,s,u,c=1,l=t.precision,f=Math.ceil(l/Rt);for(Nt=!1,u=r.times(r),s=new t(n);;){if(a=Ft(s.times(u),new t(e++*e++),l,1),s=i?n.plus(a):n.minus(a),n=Ft(a.times(u),new t(e++*e++),l,1),a=s.plus(n),void 0!==a.d[f]){for(o=f;a.d[o]===s.d[o]&&o--;);if(o==-1)break}o=s,s=n,n=a,a=o,c++}return Nt=!0,a.d.length=f+1,a}function O(t,e){var r,n=e.s<0,i=h(t,t.precision,1),o=i.times(.5);if(e=e.abs(),e.lte(o))return vt=n?4:1,e;if(r=e.divToInt(i),r.isZero())vt=n?3:2;else{if(e=e.minus(r.times(i)),e.lte(o))return vt=_(r)?n?2:3:n?4:1,e;vt=_(r)?n?1:4:n?3:2}return e.minus(i).abs()}function S(t,e,r,n){var i,o,a,u,l,f,d,m,h,v=t.constructor,g=void 0!==r;if(g?(s(r,1,yt),void 0===n?n=v.rounding:s(n,0,8)):(r=v.precision,n=v.rounding),t.isFinite()){for(d=p(t),a=d.indexOf("."),g?(i=2,16==e?r=4*r-3:8==e&&(r=3*r-2)):i=e,a>=0&&(d=d.replace(".",""),h=new v(1),h.e=d.length-a,h.d=c(p(h),10,i),h.e=h.d.length),m=c(d,10,i),o=l=m.length;0==m[--l];)m.pop();if(m[0]){if(a<0?o--:(t=new v(t),t.d=m,t.e=o,t=Ft(t,h,r,n,0,i),m=t.d,o=t.e,f=ht),a=m[r],u=i/2,f=f||void 0!==m[r+1],f=n<4?(void 0!==a||f)&&(0===n||n===(t.s<0?3:2)):a>u||a===u&&(4===n||f||6===n&&1&m[r-1]||n===(t.s<0?8:7)),m.length=r,f)for(;++m[--r]>i-1;)m[r]=0,r||(++o,m.unshift(1));for(l=m.length;!m[l-1];--l);for(a=0,d="";a<l;a++)d+=_t.charAt(m[a]);if(g){if(l>1)if(16==e||8==e){for(a=16==e?4:3,--l;l%a;l++)d+="0";for(m=c(d,i,e),l=m.length;!m[l-1];--l);for(a=1,d="1.";a<l;a++)d+=_t.charAt(m[a])}else d=d.charAt(0)+"."+d.slice(1);d=d+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)d="0"+d;d="0."+d}else if(++o>l)for(o-=l;o--;)d+="0";else o<l&&(d=d.slice(0,o)+"."+d.slice(o))}else d=g?"0p+0":"0";d=(16==e?"0x":2==e?"0b":8==e?"0o":"")+d}else d=N(t);return t.s<0?"-"+d:d}function k(t,e){if(t.length>e)return t.length=e,!0}function T(t){return new this(t).abs()}function C(t){return new this(t).acos()}function B(t){return new this(t).acosh()}function I(t,e){return new this(t).plus(e)}function R(t){return new this(t).asin()}function P(t){return new this(t).asinh()}function U(t){return new this(t).atan()}function L(t){return new this(t).atanh()}function q(t,e){t=new this(t),e=new this(e);var r,n=this.precision,i=this.rounding,o=n+4;return t.s&&e.s?t.d||e.d?!e.d||t.isZero()?(r=e.s<0?h(this,n,i):new this(0),r.s=t.s):!t.d||e.isZero()?(r=h(this,o,1).times(.5),r.s=t.s):e.s<0?(this.precision=o,this.rounding=1,r=this.atan(Ft(t,e,o,1)),e=h(this,o,1),this.precision=n,this.rounding=i,r=t.s<0?r.minus(e):r.plus(e)):r=this.atan(Ft(t,e,o,1)):(r=h(this,o,1).times(e.s>0?.25:.75),r.s=t.s):r=new this(NaN),r}function F(t){return new this(t).cbrt()}function j(t){return f(t=new this(t),t.e+1,2)}function D(t){if(!t||"object"!==("undefined"==typeof t?"undefined":i(t)))throw Error(zt+"Object expected");var e,r,n,o=["precision",1,yt,"rounding",0,8,"toExpNeg",-gt,0,"toExpPos",0,gt,"maxE",0,gt,"minE",-gt,0,"modulo",0,9];for(e=0;e<o.length;e+=3)if(void 0!==(n=t[r=o[e]])){if(!(Ot(n)===n&&n>=o[e+1]&&n<=o[e+2]))throw Error(At+r+": "+n);this[r]=n}if(void 0!==(n=t[r="crypto"])){if(n!==!0&&n!==!1&&0!==n&&1!==n)throw Error(At+r+": "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(Mt);this[r]=!0}else this[r]=!1}return this}function $(t){return new this(t).cos()}function H(t){return new this(t).cosh()}function G(t){function e(t){var r,n,o,a=this;if(!(a instanceof e))return new e(t);if(a.constructor=e,t instanceof e)return a.s=t.s,a.e=t.e,void(a.d=(t=t.d)?t.slice():t);if(o="undefined"==typeof t?"undefined":i(t),"number"===o){if(0===t)return a.s=1/t<0?-1:1,a.e=0,void(a.d=[0]);if(t<0?(t=-t,a.s=-1):a.s=1,t===~~t&&t<1e7){for(r=0,n=t;n>=10;n/=10)r++;return a.e=r,void(a.d=[t])}return 0*t!==0?(t||(a.s=NaN),a.e=NaN,void(a.d=null)):z(a,t.toString())}if("string"!==o)throw Error(At+t);return 45===t.charCodeAt(0)?(t=t.slice(1),a.s=-1):a.s=1,Bt.test(t)?z(a,t):A(a,t)}var r,n,o;if(e.prototype=qt,e.ROUND_UP=0,e.ROUND_DOWN=1,e.ROUND_CEIL=2,e.ROUND_FLOOR=3,
e.ROUND_HALF_UP=4,e.ROUND_HALF_DOWN=5,e.ROUND_HALF_EVEN=6,e.ROUND_HALF_CEIL=7,e.ROUND_HALF_FLOOR=8,e.EUCLID=9,e.config=e.set=D,e.clone=G,e.abs=T,e.acos=C,e.acosh=B,e.add=I,e.asin=R,e.asinh=P,e.atan=U,e.atanh=L,e.atan2=q,e.cbrt=F,e.ceil=j,e.cos=$,e.cosh=H,e.div=V,e.exp=Z,e.floor=W,e.hypot=Y,e.ln=X,e.log=J,e.log10=K,e.log2=Q,e.max=tt,e.min=et,e.mod=rt,e.mul=nt,e.pow=it,e.random=ot,e.round=at,e.sign=st,e.sin=ut,e.sinh=ct,e.sqrt=lt,e.sub=ft,e.tan=pt,e.tanh=dt,e.trunc=mt,void 0===t&&(t={}),t)for(o=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<o.length;)t.hasOwnProperty(n=o[r++])||(t[n]=this[n]);return e.config(t),e}function V(t,e){return new this(t).div(e)}function Z(t){return new this(t).exp()}function W(t){return f(t=new this(t),t.e+1,3)}function Y(){var t,e,r=new this(0);for(Nt=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)r.d&&(r=r.plus(e.times(e)));else{if(e.s)return Nt=!0,new this(1/0);r=e}return Nt=!0,r.sqrt()}function X(t){return new this(t).ln()}function J(t,e){return new this(t).log(e)}function Q(t){return new this(t).log(2)}function K(t){return new this(t).log(10)}function tt(){return x(this,arguments,"lt")}function et(){return x(this,arguments,"gt")}function rt(t,e){return new this(t).mod(e)}function nt(t,e){return new this(t).mul(e)}function it(t,e){return new this(t).pow(e)}function ot(t){var e,r,n,i,o=0,a=new this(1),u=[];if(void 0===t?t=this.precision:s(t,1,yt),n=Math.ceil(t/Rt),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));o<n;)i=e[o],i>=429e7?e[o]=crypto.getRandomValues(new Uint32Array(1))[0]:u[o++]=i%1e7;else{if(!crypto.randomBytes)throw Error(Mt);for(e=crypto.randomBytes(n*=4);o<n;)i=e[o]+(e[o+1]<<8)+(e[o+2]<<16)+((127&e[o+3])<<24),i>=214e7?crypto.randomBytes(4).copy(e,o):(u.push(i%1e7),o+=4);o=n/4}else for(;o<n;)u[o++]=1e7*Math.random()|0;for(n=u[--o],t%=Rt,n&&t&&(i=St(10,Rt-t),u[o]=(n/i|0)*i);0===u[o];o--)u.pop();if(o<0)r=0,u=[0];else{for(r=-1;0===u[0];r-=Rt)u.shift();for(n=1,i=u[0];i>=10;i/=10)n++;n<Rt&&(r-=Rt-n)}return a.e=r,a.d=u,a}function at(t){return f(t=new this(t),t.e+1,this.rounding)}function st(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function ut(t){return new this(t).sin()}function ct(t){return new this(t).sinh()}function lt(t){return new this(t).sqrt()}function ft(t,e){return new this(t).sub(e)}function pt(t){return new this(t).tan()}function dt(t){return new this(t).tanh()}function mt(t){return f(t=new this(t),t.e+1,1)}var ht,vt,gt=9e15,yt=1e9,_t="0123456789abcdef",xt="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",wt="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",bt={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-gt,maxE:gt,crypto:!1},Nt=!0,zt="[DecimalError] ",At=zt+"Invalid argument: ",Et=zt+"Precision limit exceeded",Mt=zt+"crypto unavailable",Ot=Math.floor,St=Math.pow,kt=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Tt=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Ct=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Bt=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,It=1e7,Rt=7,Pt=9007199254740991,Ut=xt.length-1,Lt=wt.length-1,qt={};qt.absoluteValue=qt.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),f(t)},qt.ceil=function(){return f(new this.constructor(this),this.e+1,2)},qt.comparedTo=qt.cmp=function(t){var e,r,n,i,o=this,a=o.d,s=(t=new o.constructor(t)).d,u=o.s,c=t.s;if(!a||!s)return u&&c?u!==c?u:a===s?0:!a^u<0?1:-1:NaN;if(!a[0]||!s[0])return a[0]?u:s[0]?-c:0;if(u!==c)return u;if(o.e!==t.e)return o.e>t.e^u<0?1:-1;for(n=a.length,i=s.length,e=0,r=n<i?n:i;e<r;++e)if(a[e]!==s[e])return a[e]>s[e]^u<0?1:-1;return n===i?0:n>i^u<0?1:-1},qt.cosine=qt.cos=function(){var t,e,r=this,n=r.constructor;return r.d?r.d[0]?(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+Rt,n.rounding=1,r=l(n,O(n,r)),n.precision=t,n.rounding=e,f(2==vt||3==vt?r.neg():r,t,e,!0)):new n(1):new n(NaN)},qt.cubeRoot=qt.cbrt=function(){var t,e,r,n,i,o,s,u,c,l,p=this,d=p.constructor;if(!p.isFinite()||p.isZero())return new d(p);for(Nt=!1,o=p.s*Math.pow(p.s*p,1/3),o&&Math.abs(o)!=1/0?n=new d(o.toString()):(r=a(p.d),t=p.e,(o=(t-r.length+1)%3)&&(r+=1==o||o==-2?"0":"00"),o=Math.pow(r,1/3),t=Ot((t+1)/3)-(t%3==(t<0?-1:2)),o==1/0?r="5e"+t:(r=o.toExponential(),r=r.slice(0,r.indexOf("e")+1)+t),n=new d(r),n.s=p.s),s=(t=d.precision)+3;;)if(u=n,c=u.times(u).times(u),l=c.plus(p),n=Ft(l.plus(p).times(u),l.plus(c),s+2,1),a(u.d).slice(0,s)===(r=a(n.d)).slice(0,s)){if(r=r.slice(s-3,s+1),"9999"!=r&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(f(n,t+1,1),e=!n.times(n).times(n).eq(p));break}if(!i&&(f(u,t+1,0),u.times(u).times(u).eq(p))){n=u;break}s+=4,i=1}return Nt=!0,f(n,t,d.rounding,e)},qt.decimalPlaces=qt.dp=function(){var t,e=this.d,r=NaN;if(e){if(t=e.length-1,r=(t-Ot(this.e/Rt))*Rt,t=e[t])for(;t%10==0;t/=10)r--;r<0&&(r=0)}return r},qt.dividedBy=qt.div=function(t){return Ft(this,new this.constructor(t))},qt.dividedToIntegerBy=qt.divToInt=function(t){var e=this,r=e.constructor;return f(Ft(e,new r(t),0,1,1),r.precision,r.rounding)},qt.equals=qt.eq=function(t){return 0===this.cmp(t)},qt.floor=function(){return f(new this.constructor(this),this.e+1,3)},qt.greaterThan=qt.gt=function(t){return this.cmp(t)>0},qt.greaterThanOrEqualTo=qt.gte=function(t){var e=this.cmp(t);return 1==e||0===e},qt.hyperbolicCosine=qt.cosh=function(){var t,e,r,n,i,o=this,a=o.constructor,s=new a(1);if(!o.isFinite())return new a(o.s?1/0:NaN);if(o.isZero())return s;r=a.precision,n=a.rounding,a.precision=r+Math.max(o.e,o.sd())+4,a.rounding=1,i=o.d.length,i<32?(t=Math.ceil(i/3),e=Math.pow(4,-t).toString()):(t=16,e="2.3283064365386962890625e-10"),o=M(a,1,o.times(e),new a(1),!0);for(var u,c=t,l=new a(8);c--;)u=o.times(o),o=s.minus(u.times(l.minus(u.times(l))));return f(o,a.precision=r,a.rounding=n,!0)},qt.hyperbolicSine=qt.sinh=function(){var t,e,r,n,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(e=o.precision,r=o.rounding,o.precision=e+Math.max(i.e,i.sd())+4,o.rounding=1,n=i.d.length,n<3)i=M(o,2,i,i,!0);else{t=1.4*Math.sqrt(n),t=t>16?16:0|t,i=i.times(Math.pow(5,-t)),i=M(o,2,i,i,!0);for(var a,s=new o(5),u=new o(16),c=new o(20);t--;)a=i.times(i),i=i.times(s.plus(a.times(u.times(a).plus(c))))}return o.precision=e,o.rounding=r,f(i,e,r,!0)},qt.hyperbolicTangent=qt.tanh=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+7,n.rounding=1,Ft(r.sinh(),r.cosh(),n.precision=t,n.rounding=e)):new n(r.s)},qt.inverseCosine=qt.acos=function(){var t,e=this,r=e.constructor,n=e.abs().cmp(1),i=r.precision,o=r.rounding;return n!==-1?0===n?e.isNeg()?h(r,i,o):new r(0):new r(NaN):e.isZero()?h(r,i+4,o).times(.5):(r.precision=i+6,r.rounding=1,e=e.asin(),t=h(r,i+4,o).times(.5),r.precision=i,r.rounding=o,t.minus(e))},qt.inverseHyperbolicCosine=qt.acosh=function(){var t,e,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(t=n.precision,e=n.rounding,n.precision=t+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,Nt=!1,r=r.times(r).minus(1).sqrt().plus(r),Nt=!0,n.precision=t,n.rounding=e,r.ln()):new n(r)},qt.inverseHyperbolicSine=qt.asinh=function(){var t,e,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,Nt=!1,r=r.times(r).plus(1).sqrt().plus(r),Nt=!0,n.precision=t,n.rounding=e,r.ln())},qt.inverseHyperbolicTangent=qt.atanh=function(){var t,e,r,n,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=o.precision,e=o.rounding,n=i.sd(),Math.max(n,t)<2*-i.e-1?f(new o(i),t,e,!0):(o.precision=r=n-i.e,i=Ft(i.plus(1),new o(1).minus(i),r+t,1),o.precision=t+4,o.rounding=1,i=i.ln(),o.precision=t,o.rounding=e,i.times(.5))):new o(NaN)},qt.inverseSine=qt.asin=function(){var t,e,r,n,i=this,o=i.constructor;return i.isZero()?new o(i):(e=i.abs().cmp(1),r=o.precision,n=o.rounding,e!==-1?0===e?(t=h(o,r+4,n).times(.5),t.s=i.s,t):new o(NaN):(o.precision=r+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=r,o.rounding=n,i.times(2)))},qt.inverseTangent=qt.atan=function(){var t,e,r,n,i,o,a,s,u,c=this,l=c.constructor,p=l.precision,d=l.rounding;if(c.isFinite()){if(c.isZero())return new l(c);if(c.abs().eq(1)&&p+4<=Lt)return a=h(l,p+4,d).times(.25),a.s=c.s,a}else{if(!c.s)return new l(NaN);if(p+4<=Lt)return a=h(l,p+4,d).times(.5),a.s=c.s,a}for(l.precision=s=p+10,l.rounding=1,r=Math.min(28,s/Rt+2|0),t=r;t;--t)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(Nt=!1,e=Math.ceil(s/Rt),n=1,u=c.times(c),a=new l(c),i=c;t!==-1;)if(i=i.times(u),o=a.minus(i.div(n+=2)),i=i.times(u),a=o.plus(i.div(n+=2)),void 0!==a.d[e])for(t=e;a.d[t]===o.d[t]&&t--;);return r&&(a=a.times(2<<r-1)),Nt=!0,f(a,l.precision=p,l.rounding=d,!0)},qt.isFinite=function(){return!!this.d},qt.isInteger=qt.isInt=function(){return!!this.d&&Ot(this.e/Rt)>this.d.length-2},qt.isNaN=function(){return!this.s},qt.isNegative=qt.isNeg=function(){return this.s<0},qt.isPositive=qt.isPos=function(){return this.s>0},qt.isZero=function(){return!!this.d&&0===this.d[0]},qt.lessThan=qt.lt=function(t){return this.cmp(t)<0},qt.lessThanOrEqualTo=qt.lte=function(t){return this.cmp(t)<1},qt.logarithm=qt.log=function(t){var e,r,n,i,o,s,c,l,p=this,d=p.constructor,h=d.precision,v=d.rounding,g=5;if(null==t)t=new d(10),e=!0;else{if(t=new d(t),r=t.d,t.s<0||!r||!r[0]||t.eq(1))return new d(NaN);e=t.eq(10)}if(r=p.d,p.s<0||!r||!r[0]||p.eq(1))return new d(r&&!r[0]?-1/0:1!=p.s?NaN:r?0:1/0);if(e)if(r.length>1)o=!0;else{for(i=r[0];i%10===0;)i/=10;o=1!==i}if(Nt=!1,c=h+g,s=b(p,c),n=e?m(d,c+10):b(t,c),l=Ft(s,n,c,1),u(l.d,i=h,v))do if(c+=10,s=b(p,c),n=e?m(d,c+10):b(t,c),l=Ft(s,n,c,1),!o){+a(l.d).slice(i+1,i+15)+1==1e14&&(l=f(l,h+1,0));break}while(u(l.d,i+=10,v));return Nt=!0,f(l,h,v)},qt.minus=qt.sub=function(t){var e,r,n,i,o,a,s,u,c,l,p,m,h=this,v=h.constructor;if(t=new v(t),!h.d||!t.d)return h.s&&t.s?h.d?t.s=-t.s:t=new v(t.d||h.s!==t.s?h:NaN):t=new v(NaN),t;if(h.s!=t.s)return t.s=-t.s,h.plus(t);if(c=h.d,m=t.d,s=v.precision,u=v.rounding,!c[0]||!m[0]){if(m[0])t.s=-t.s;else{if(!c[0])return new v(3===u?-0:0);t=new v(h)}return Nt?f(t,s,u):t}if(r=Ot(t.e/Rt),l=Ot(h.e/Rt),c=c.slice(),o=l-r){for(p=o<0,p?(e=c,o=-o,a=m.length):(e=m,r=l,a=c.length),n=Math.max(Math.ceil(s/Rt),a)+2,o>n&&(o=n,e.length=1),e.reverse(),n=o;n--;)e.push(0);e.reverse()}else{for(n=c.length,a=m.length,p=n<a,p&&(a=n),n=0;n<a;n++)if(c[n]!=m[n]){p=c[n]<m[n];break}o=0}for(p&&(e=c,c=m,m=e,t.s=-t.s),a=c.length,n=m.length-a;n>0;--n)c[a++]=0;for(n=m.length;n>o;){if(c[--n]<m[n]){for(i=n;i&&0===c[--i];)c[i]=It-1;--c[i],c[n]+=It}c[n]-=m[n]}for(;0===c[--a];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=d(c,r),Nt?f(t,s,u):t):new v(3===u?-0:0)},qt.modulo=qt.mod=function(t){var e,r=this,n=r.constructor;return t=new n(t),!r.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||r.d&&!r.d[0]?f(new n(r),n.precision,n.rounding):(Nt=!1,9==n.modulo?(e=Ft(r,t.abs(),0,3,1),e.s*=t.s):e=Ft(r,t,0,n.modulo,1),e=e.times(t),Nt=!0,r.minus(e))},qt.naturalExponential=qt.exp=function(){return w(this)},qt.naturalLogarithm=qt.ln=function(){return b(this)},qt.negated=qt.neg=function(){var t=new this.constructor(this);return t.s=-t.s,f(t)},qt.plus=qt.add=function(t){var e,r,n,i,o,a,s,u,c,l,p=this,m=p.constructor;if(t=new m(t),!p.d||!t.d)return p.s&&t.s?p.d||(t=new m(t.d||p.s===t.s?p:NaN)):t=new m(NaN),t;if(p.s!=t.s)return t.s=-t.s,p.minus(t);if(c=p.d,l=t.d,s=m.precision,u=m.rounding,!c[0]||!l[0])return l[0]||(t=new m(p)),Nt?f(t,s,u):t;if(o=Ot(p.e/Rt),n=Ot(t.e/Rt),c=c.slice(),i=o-n){for(i<0?(r=c,i=-i,a=l.length):(r=l,n=o,a=c.length),o=Math.ceil(s/Rt),a=o>a?o+1:a+1,i>a&&(i=a,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(a=c.length,i=l.length,a-i<0&&(i=a,r=l,l=c,c=r),e=0;i;)e=(c[--i]=c[i]+l[i]+e)/It|0,c[i]%=It;for(e&&(c.unshift(e),++n),a=c.length;0==c[--a];)c.pop();return t.d=c,t.e=d(c,n),Nt?f(t,s,u):t},qt.precision=qt.sd=function(t){var e,r=this;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(At+t);return r.d?(e=v(r.d),t&&r.e+1>e&&(e=r.e+1)):e=NaN,e},qt.round=function(){var t=this,e=t.constructor;return f(new e(t),t.e+1,e.rounding)},qt.sine=qt.sin=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+Rt,n.rounding=1,r=E(n,O(n,r)),n.precision=t,n.rounding=e,f(vt>2?r.neg():r,t,e,!0)):new n(NaN)},qt.squareRoot=qt.sqrt=function(){var t,e,r,n,i,o,s=this,u=s.d,c=s.e,l=s.s,p=s.constructor;if(1!==l||!u||!u[0])return new p(!l||l<0&&(!u||u[0])?NaN:u?s:1/0);for(Nt=!1,l=Math.sqrt(+s),0==l||l==1/0?(e=a(u),(e.length+c)%2==0&&(e+="0"),l=Math.sqrt(e),c=Ot((c+1)/2)-(c<0||c%2),l==1/0?e="1e"+c:(e=l.toExponential(),e=e.slice(0,e.indexOf("e")+1)+c),n=new p(e)):n=new p(l.toString()),r=(c=p.precision)+3;;)if(o=n,n=o.plus(Ft(s,o,r+2,1)).times(.5),a(o.d).slice(0,r)===(e=a(n.d)).slice(0,r)){if(e=e.slice(r-3,r+1),"9999"!=e&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(f(n,c+1,1),t=!n.times(n).eq(s));break}if(!i&&(f(o,c+1,0),o.times(o).eq(s))){n=o;break}r+=4,i=1}return Nt=!0,f(n,c,p.rounding,t)},qt.tangent=qt.tan=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+10,n.rounding=1,r=r.sin(),r.s=1,r=Ft(r,new n(1).minus(r.times(r)).sqrt(),t+10,0),n.precision=t,n.rounding=e,f(2==vt||4==vt?r.neg():r,t,e,!0)):new n(NaN)},qt.times=qt.mul=function(t){var e,r,n,i,o,a,s,u,c,l=this,p=l.constructor,m=l.d,h=(t=new p(t)).d;if(t.s*=l.s,!(m&&m[0]&&h&&h[0]))return new p(!t.s||m&&!m[0]&&!h||h&&!h[0]&&!m?NaN:m&&h?0*t.s:t.s/0);for(r=Ot(l.e/Rt)+Ot(t.e/Rt),u=m.length,c=h.length,u<c&&(o=m,m=h,h=o,a=u,u=c,c=a),o=[],a=u+c,n=a;n--;)o.push(0);for(n=c;--n>=0;){for(e=0,i=u+n;i>n;)s=o[i]+h[n]*m[i-n-1]+e,o[i--]=s%It|0,e=s/It|0;o[i]=(o[i]+e)%It|0}for(;!o[--a];)o.pop();return e?++r:o.shift(),t.d=o,t.e=d(o,r),Nt?f(t,p.precision,p.rounding):t},qt.toBinary=function(t,e){return S(this,2,t,e)},qt.toDecimalPlaces=qt.toDP=function(t,e){var r=this,n=r.constructor;return r=new n(r),void 0===t?r:(s(t,0,yt),void 0===e?e=n.rounding:s(e,0,8),f(r,t+r.e+1,e))},qt.toExponential=function(t,e){var r,n=this,i=n.constructor;return void 0===t?r=p(n,!0):(s(t,0,yt),void 0===e?e=i.rounding:s(e,0,8),n=f(new i(n),t+1,e),r=p(n,!0,t+1)),n.isNeg()&&!n.isZero()?"-"+r:r},qt.toFixed=function(t,e){var r,n,i=this,o=i.constructor;return void 0===t?r=p(i):(s(t,0,yt),void 0===e?e=o.rounding:s(e,0,8),n=f(new o(i),t+i.e+1,e),r=p(n,!1,t+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r},qt.toFraction=function(t){var e,r,n,i,o,s,u,c,l,f,p,d,m=this,h=m.d,g=m.constructor;if(!h)return new g(m);if(l=r=new g(1),n=c=new g(0),e=new g(n),o=e.e=v(h)-m.e-1,s=o%Rt,e.d[0]=St(10,s<0?Rt+s:s),null==t)t=o>0?e:l;else{if(u=new g(t),!u.isInt()||u.lt(l))throw Error(At+u);t=u.gt(e)?o>0?e:l:u}for(Nt=!1,u=new g(a(h)),f=g.precision,g.precision=o=h.length*Rt*2;p=Ft(u,e,0,1,1),i=r.plus(p.times(n)),1!=i.cmp(t);)r=n,n=i,i=l,l=c.plus(p.times(i)),c=i,i=e,e=u.minus(p.times(i)),u=i;return i=Ft(t.minus(r),n,0,1,1),c=c.plus(i.times(l)),r=r.plus(i.times(n)),c.s=l.s=m.s,d=Ft(l,n,o,1).minus(m).abs().cmp(Ft(c,r,o,1).minus(m).abs())<1?[l,n]:[c,r],g.precision=f,Nt=!0,d},qt.toHexadecimal=qt.toHex=function(t,e){return S(this,16,t,e)},qt.toNearest=function(t,e){var r=this,n=r.constructor;if(r=new n(r),null==t){if(!r.d)return r;t=new n(1),e=n.rounding}else{if(t=new n(t),void 0!==e&&s(e,0,8),!r.d)return t.s?r:t;if(!t.d)return t.s&&(t.s=r.s),t}return t.d[0]?(Nt=!1,e<4&&(e=[4,5,7,8][e]),r=Ft(r,t,0,e,1).times(t),Nt=!0,f(r)):(t.s=r.s,r=t),r},qt.toNumber=function(){return+this},qt.toOctal=function(t,e){return S(this,8,t,e)},qt.toPower=qt.pow=function(t){var e,r,n,i,o,s,c=this,l=c.constructor,p=+(t=new l(t));if(!(c.d&&t.d&&c.d[0]&&t.d[0]))return new l(St(+c,p));if(c=new l(c),c.eq(1))return c;if(n=l.precision,o=l.rounding,t.eq(1))return f(c,n,o);if(e=Ot(t.e/Rt),e>=t.d.length-1&&(r=p<0?-p:p)<=Pt)return i=y(l,c,r,n),t.s<0?new l(1).div(i):f(i,n,o);if(s=c.s,s<0){if(e<t.d.length-1)return new l(NaN);if(0==(1&t.d[e])&&(s=1),0==c.e&&1==c.d[0]&&1==c.d.length)return c.s=s,c}return r=St(+c,p),e=0!=r&&isFinite(r)?new l(r+"").e:Ot(p*(Math.log("0."+a(c.d))/Math.LN10+c.e+1)),e>l.maxE+1||e<l.minE-1?new l(e>0?s/0:0):(Nt=!1,l.rounding=c.s=1,r=Math.min(12,(e+"").length),i=w(t.times(b(c,n+r)),n),i.d&&(i=f(i,n+5,1),u(i.d,n,o)&&(e=n+10,i=f(w(t.times(b(c,e+r)),e),e+5,1),+a(i.d).slice(n+1,n+15)+1==1e14&&(i=f(i,n+1,0)))),i.s=s,Nt=!0,l.rounding=o,f(i,n,o))},qt.toPrecision=function(t,e){var r,n=this,i=n.constructor;return void 0===t?r=p(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(s(t,1,yt),void 0===e?e=i.rounding:s(e,0,8),n=f(new i(n),t,e),r=p(n,t<=n.e||n.e<=i.toExpNeg,t)),n.isNeg()&&!n.isZero()?"-"+r:r},qt.toSignificantDigits=qt.toSD=function(t,e){var r=this,n=r.constructor;return void 0===t?(t=n.precision,e=n.rounding):(s(t,1,yt),void 0===e?e=n.rounding:s(e,0,8)),f(new n(r),t,e)},qt.toString=function(){var t=this,e=t.constructor,r=p(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+r:r},qt.truncated=qt.trunc=function(){return f(new this.constructor(this),this.e+1,1)},qt.valueOf=qt.toJSON=function(){var t=this,e=t.constructor,r=p(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+r:r};var Ft=function(){function t(t,e,r){var n,i=0,o=t.length;for(t=t.slice();o--;)n=t[o]*e+i,t[o]=n%r|0,i=n/r|0;return i&&t.unshift(i),t}function e(t,e,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;i<r;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function r(t,e,r,n){for(var i=0;r--;)t[r]-=i,i=t[r]<e[r]?1:0,t[r]=i*n+t[r]-e[r];for(;!t[0]&&t.length>1;)t.shift()}return function(n,i,o,a,s,u){var c,l,p,d,m,h,v,g,y,_,x,w,b,N,z,A,E,M,O,S,k=n.constructor,T=n.s==i.s?1:-1,C=n.d,B=i.d;if(!(C&&C[0]&&B&&B[0]))return new k(n.s&&i.s&&(C?!B||C[0]!=B[0]:B)?C&&0==C[0]||!B?0*T:T/0:NaN);for(u?(m=1,l=n.e-i.e):(u=It,m=Rt,l=Ot(n.e/m)-Ot(i.e/m)),O=B.length,E=C.length,y=new k(T),_=y.d=[],p=0;B[p]==(C[p]||0);p++);if(B[p]>(C[p]||0)&&l--,null==o?(N=o=k.precision,a=k.rounding):N=s?o+(n.e-i.e)+1:o,N<0)_.push(1),h=!0;else{if(N=N/m+2|0,p=0,1==O){for(d=0,B=B[0],N++;(p<E||d)&&N--;p++)z=d*u+(C[p]||0),_[p]=z/B|0,d=z%B|0;h=d||p<E}else{for(d=u/(B[0]+1)|0,d>1&&(B=t(B,d,u),C=t(C,d,u),O=B.length,E=C.length),A=O,x=C.slice(0,O),w=x.length;w<O;)x[w++]=0;S=B.slice(),S.unshift(0),M=B[0],B[1]>=u/2&&++M;do d=0,c=e(B,x,O,w),c<0?(b=x[0],O!=w&&(b=b*u+(x[1]||0)),d=b/M|0,d>1?(d>=u&&(d=u-1),v=t(B,d,u),g=v.length,w=x.length,c=e(v,x,g,w),1==c&&(d--,r(v,O<g?S:B,g,u))):(0==d&&(c=d=1),v=B.slice()),g=v.length,g<w&&v.unshift(0),r(x,v,w,u),c==-1&&(w=x.length,c=e(B,x,O,w),c<1&&(d++,r(x,O<w?S:B,w,u))),w=x.length):0===c&&(d++,x=[0]),_[p++]=d,c&&x[0]?x[w++]=C[A]||0:(x=[C[A]],w=1);while((A++<E||void 0!==x[0])&&N--);h=void 0!==x[0]}_[0]||_.shift()}if(1==m)y.e=l,ht=h;else{for(p=1,d=_[0];d>=10;d/=10)p++;y.e=p+l*m-1,f(y,s?o+y.e+1:o,a,h)}return y}}();bt=G(bt),xt=new bt(xt),wt=new bt(wt),n=function(){return bt}.call(e,r,e,t),!(void 0!==n&&(t.exports=n))}(void 0)},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("bignumber",{"":function(){return new t.BigNumber(0)},number:function(e){return new t.BigNumber(e+"")},string:function(e){return new t.BigNumber(e)},BigNumber:function(t){return t},Fraction:function(e){return new t.BigNumber(e.n).div(e.d)},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={0:"0",1:"\\left(${args[0]}\\right)"},o}var i=r(208);e.name="bignumber",e.factory=n},function(t,e){"use strict";t.exports=function r(t,e,n){return t&&"function"==typeof t.map?t.map(function(t){return r(t,e,n)}):e(t)}},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("bool",{"":function(){return!1},"boolean":function(t){return t},number:function(t){return!!t},BigNumber:function(t){return!t.isZero()},string:function(t){var e=t.toLowerCase();if("true"===e)return!0;if("false"===e)return!1;var r=Number(t);if(""!=t&&!isNaN(r))return!!r;throw new Error('Cannot convert "'+t+'" to a boolean')},"Array | Matrix":function(t){return i(t,o)}});return o}var i=r(208);e.name="boolean",e.factory=n},function(t,e,r){"use strict";t.exports=[r(211),r(214)]},function(t,e,r){"use strict";function n(t,e,r,n,a){function s(t){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");t&&t.isChain?this.value=t.value:this.value=t}function u(t,e){"function"==typeof e&&(s.prototype[t]=l(e))}function c(t,e){o(s.prototype,t,function(){var t=e();if("function"==typeof t)return l(t)})}function l(t){return function(){for(var e=[this.value],r=0;r<arguments.length;r++)e[r+1]=arguments[r];return new s(t.apply(t,e))}}return s.prototype.type="Chain",s.prototype.isChain=!0,s.prototype.done=function(){return this.value},s.prototype.valueOf=function(){return this.value},s.prototype.toString=function(){return i(this.value)},s.createProxy=function(t,e){if("string"==typeof t)u(t,e);else for(var r in t)t.hasOwnProperty(r)&&u(r,t[r])},s.createProxy(a),a.on("import",function(t,e,r){void 0===r&&c(t,e)}),s}var i=r(212).format,o=r(193).lazy;e.name="Chain",e.path="type",e.factory=n,e.math=!0,e.lazy=!1},function(t,e,r){"use strict";function n(t,r){if(Array.isArray(t)){for(var i="[",o=t.length,a=0;a<o;a++)0!=a&&(i+=", "),i+=n(t[a],r);return i+="]"}return e.format(t,r)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},o=r(196).format,a=r(213).format;e.isString=function(t){return"string"==typeof t},e.endsWith=function(t,e){var r=t.length-e.length,n=t.length;return t.substring(r,n)===e},e.format=function(t,r){if("number"==typeof t)return o(t,r);if(t&&t.isBigNumber===!0)return a(t,r);if(t&&t.isFraction===!0)return r&&"decimal"===r.fraction?t.toString():t.s*t.n+"/"+t.d;if(Array.isArray(t))return n(t,r);if(e.isString(t))return'"'+t+'"';if("function"==typeof t)return t.syntax?String(t.syntax):"function";if(t&&"object"===("undefined"==typeof t?"undefined":i(t))){if("function"==typeof t.format)return t.format(r);if(t&&t.toString()!=={}.toString())return t.toString();var s=[];for(var u in t)t.hasOwnProperty(u)&&s.push('"'+u+'": '+e.format(t[u],r));return"{"+s.join(", ")+"}"}return String(t)},e.stringify=function(t){for(var e=String(t),r="",n=0;n<e.length;){var i=e.charAt(n);"\\"===i?(r+=i,n++,i=e.charAt(n),""!==i&&'"\\/bfnrtu'.indexOf(i)!==-1||(r+="\\"),r+=i):r+='"'===i?'\\"':i,n++}return'"'+r+'"'},e.escape=function(t){var e=String(t);return e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}},function(t,e){"use strict";e.format=function(t,r){if("function"==typeof r)return r(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var n="auto",i=void 0;switch(void 0!==r&&(r.notation&&(n=r.notation),"number"==typeof r?i=r:r.precision&&(i=r.precision)),n){case"fixed":return e.toFixed(t,i);case"exponential":return e.toExponential(t,i);case"auto":var o=.001,a=1e5;r&&r.exponential&&(void 0!==r.exponential.lower&&(o=r.exponential.lower),void 0!==r.exponential.upper&&(a=r.exponential.upper));({toExpNeg:t.constructor.toExpNeg,toExpPos:t.constructor.toExpPos});if(t.constructor.config({toExpNeg:Math.round(Math.log(o)/Math.LN10),toExpPos:Math.round(Math.log(a)/Math.LN10)}),t.isZero())return"0";var s,u=t.abs();return s=u.gte(o)&&u.lt(a)?t.toSignificantDigits(i).toFixed():e.toExponential(t,i),s.replace(/((\.\d*?)(0+))($|e)/,function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", or "fixed".')}},e.toExponential=function(t,e){return void 0!==e?t.toExponential(e-1):t.toExponential()},e.toFixed=function(t,e){return t.toFixed(e||0)}},function(t,e){"use strict";function r(t,e,r,n){return n("chain",{"":function(){return new t.Chain},any:function(e){return new t.Chain(e)}})}e.name="chain",e.factory=r},function(t,e,r){"use strict";t.exports=[r(216),r(220)]},function(t,e,r){"use strict";function n(t,e,r,n,u){return o.prototype.type="Complex",o.prototype.isComplex=!0,o.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},o.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},o.prototype.format=function(t){var e="",r=this.im,n=this.re,i=a(this.re,t),o=a(this.im,t),u=s(t)?t:t?t.precision:null;if(null!==u){var c=Math.pow(10,-u);Math.abs(n/r)<c&&(n=0),Math.abs(r/n)<c&&(r=0)}return e=0==r?i:0==n?1==r?"i":r==-1?"-i":o+"i":r<0?r==-1?i+" - i":i+" - "+o.substring(1)+"i":1==r?i+" + i":i+" + "+o+"i"},o.fromPolar=function(t){switch(arguments.length){case 1:var e=arguments[0];if("object"===("undefined"==typeof e?"undefined":i(e)))return o(e);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var r=arguments[0],n=arguments[1];if(s(r)){if(n&&n.isUnit&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),s(n))return new o({r:r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},o.prototype.valueOf=o.prototype.toString,o.fromJSON=function(t){return new o(t)},o.EPSILON=e.epsilon,u.on("config",function(t,e){t.epsilon!==e.epsilon&&(o.EPSILON=t.epsilon)}),o.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},o}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},o=r(217),a=r(196).format,s=r(196).isNumber;e.name="Complex",e.path="type",e.factory=n,e.math=!0},function(t,e,r){var n,i;(function(t){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};/**
	 * @license Complex.js v2.0.3 11/02/2016
	 *
	 * Copyright (c) 2016, Robert Eisele (robert@xarg.org)
	 * Dual licensed under the MIT or GPL Version 2 licenses.
	 **/
!function(a){function s(t,e){var r=Math.abs(t),n=Math.abs(e);return 0===t?Math.log(n):0===e?Math.log(r):r<3e3&&n<3e3?.5*Math.log(t*t+e*e):Math.log(t/Math.cos(Math.atan2(e,t)))}function u(t,e){return this instanceof u?(m(t,e),this.re=c.re,void(this.im=c.im)):new u(t,e)}var c={re:0,im:0},l=function(t){return.5*(Math.exp(t)+Math.exp(-t))},f=function(t){return.5*(Math.exp(t)-Math.exp(-t))},p=function(t,e){var r=Math.abs(t),n=Math.abs(e);return r<3e3&&n<3e3?Math.sqrt(r*r+n*n):(r<n?(r=n,n=t/e):n=e/t,r*Math.sqrt(1+n*n))},d=function(){throw SyntaxError("Invalid Param")},m=function(t,e){if(void 0===t||null===t)c.re=c.im=0;else if(void 0!==e)c.re=t,c.im=e;else switch("undefined"==typeof t?"undefined":o(t)){case"object":"im"in t&&"re"in t?(c.re=t.re,c.im=t.im):"abs"in t&&"arg"in t?(c.re=t.abs*Math.cos(t.arg),c.im=t.abs*Math.sin(t.arg)):"r"in t&&"phi"in t?(c.re=t.r*Math.cos(t.phi),c.im=t.r*Math.sin(t.phi)):2===t.length?(c.re=t[0],c.im=t[1]):d();break;case"string":c.im=c.re=0;var r=t.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),n=1,i=0;null===r&&d();for(var a=0;a<r.length;a++){var s=r[a];" "===s||"\t"===s||"\n"===s||("+"===s?n++:"-"===s?i++:"i"===s||"I"===s?(n+i===0&&d()," "===r[a+1]||isNaN(r[a+1])?c.im+=parseFloat((i%2?"-":"")+"1"):(c.im+=parseFloat((i%2?"-":"")+r[a+1]),a++),n=i=0):((n+i===0||isNaN(s))&&d(),"i"===r[a+1]||"I"===r[a+1]?(c.im+=parseFloat((i%2?"-":"")+s),a++):c.re+=parseFloat((i%2?"-":"")+s),n=i=0))}n+i>0&&d();break;case"number":c.im=0,c.re=t;break;default:d()}isNaN(c.re)||isNaN(c.im)};u.prototype={re:0,im:0,sign:function(){var t=this.abs();return new u(this.re/t,this.im/t)},add:function(t,e){return m(t,e),new u(this.re+c.re,this.im+c.im)},sub:function(t,e){return m(t,e),new u(this.re-c.re,this.im-c.im)},mul:function(t,e){return m(t,e),0===c.im&&0===this.im?new u(this.re*c.re,0):new u(this.re*c.re-this.im*c.im,this.re*c.im+this.im*c.re)},div:function(t,e){m(t,e),t=this.re,e=this.im;var r,n,i=c.re,o=c.im;return 0===o?0===i?new u(0!==t?t/0:0,0!==e?e/0:0):new u(t/i,e/i):Math.abs(i)<Math.abs(o)?(n=i/o,r=i*n+o,new u((t*n+e)/r,(e*n-t)/r)):(n=o/i,r=o*n+i,new u((t+e*n)/r,(e-t*n)/r))},pow:function(t,e){if(m(t,e),t=this.re,e=this.im,0===t&&0===e)return u.ZERO;if(0===c.im){if(0===e&&t>=0)return new u(Math.pow(t,c.re),0);if(0===t)switch((c.re%4+4)%4){case 0:return new u(Math.pow(e,c.re),0);case 1:return new u(0,Math.pow(e,c.re));case 2:return new u((-Math.pow(e,c.re)),0);case 3:return new u(0,(-Math.pow(e,c.re)))}}var r=Math.atan2(e,t),n=s(t,e);return t=Math.exp(c.re*n-c.im*r),e=c.im*n+c.re*r,new u(t*Math.cos(e),t*Math.sin(e))},sqrt:function(){var t,e,r=this.re,n=this.im,i=this.abs();if(r>=0){if(0===n)return new u(Math.sqrt(r),0);t=.5*Math.sqrt(2*(i+r))}else t=Math.abs(n)/Math.sqrt(2*(i-r));return e=r<=0?.5*Math.sqrt(2*(i-r)):Math.abs(n)/Math.sqrt(2*(i+r)),new u(t,n<0?-e:e)},exp:function(){var t=Math.exp(this.re);return 0===this.im,new u(t*Math.cos(this.im),t*Math.sin(this.im))},log:function(){var t=this.re,e=this.im;return new u(s(t,e),Math.atan2(e,t))},abs:function(){return p(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var t=this.re,e=this.im;return new u(Math.sin(t)*l(e),Math.cos(t)*f(e))},cos:function(){var t=this.re,e=this.im;return new u(Math.cos(t)*l(e),-Math.sin(t)*f(e))},tan:function(){var t=2*this.re,e=2*this.im,r=Math.cos(t)+l(e);return new u(Math.sin(t)/r,f(e)/r)},cot:function(){var t=2*this.re,e=2*this.im,r=Math.cos(t)-l(e);return new u(-Math.sin(t)/r,f(e)/r)},sec:function(){var t=this.re,e=this.im,r=.5*l(2*e)+.5*Math.cos(2*t);return new u(Math.cos(t)*l(e)/r,Math.sin(t)*f(e)/r)},csc:function(){var t=this.re,e=this.im,r=.5*l(2*e)-.5*Math.cos(2*t);return new u(Math.sin(t)*l(e)/r,-Math.cos(t)*f(e)/r)},asin:function(){var t=this.re,e=this.im,r=new u(e*e-t*t+1,-2*t*e).sqrt(),n=new u(r.re-e,r.im+t).log();return new u(n.im,(-n.re))},acos:function(){var t=this.re,e=this.im,r=new u(e*e-t*t+1,-2*t*e).sqrt(),n=new u(r.re-e,r.im+t).log();return new u(Math.PI/2-n.im,n.re)},atan:function(){var t=this.re,e=this.im;if(0===t){if(1===e)return new u(0,1/0);if(e===-1)return new u(0,(-(1/0)))}var r=t*t+(1-e)*(1-e),n=new u((1-e*e-t*t)/r,-2*t/r).log();return new u(-.5*n.im,.5*n.re)},acot:function(){var t=this.re,e=this.im;if(0===e)return new u(Math.atan2(1,t),0);var r=t*t+e*e;return 0!==r?new u(t/r,-e/r).atan():new u(0!==t?t/0:0,0!==e?-e/0:0).atan()},asec:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new u(0,1/0);var r=t*t+e*e;return 0!==r?new u(t/r,-e/r).acos():new u(0!==t?t/0:0,0!==e?-e/0:0).acos()},acsc:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new u(Math.PI/2,1/0);var r=t*t+e*e;return 0!==r?new u(t/r,-e/r).asin():new u(0!==t?t/0:0,0!==e?-e/0:0).asin()},sinh:function(){var t=this.re,e=this.im;return new u(f(t)*Math.cos(e),l(t)*Math.sin(e))},cosh:function(){var t=this.re,e=this.im;return new u(l(t)*Math.cos(e),f(t)*Math.sin(e))},tanh:function(){var t=2*this.re,e=2*this.im,r=l(t)+Math.cos(e);return new u(f(t)/r,Math.sin(e)/r)},coth:function(){var t=2*this.re,e=2*this.im,r=l(t)-Math.cos(e);return new u(f(t)/r,-Math.sin(e)/r)},csch:function(){var t=this.re,e=this.im,r=Math.cos(2*e)-l(2*t);return new u(-2*f(t)*Math.cos(e)/r,2*l(t)*Math.sin(e)/r)},sech:function(){var t=this.re,e=this.im,r=Math.cos(2*e)+l(2*t);return new u(2*l(t)*Math.cos(e)/r,-2*f(t)*Math.sin(e)/r)},asinh:function(){var t=this.im;this.im=-this.re,this.re=t;var e=this.asin();return this.re=-this.im,this.im=t,t=e.re,e.re=-e.im,e.im=t,e},acosh:function(){var t,e=this.acos();return e.im<=0?(t=e.re,e.re=-e.im,e.im=t):(t=e.im,e.im=-e.re,e.re=t),e},atanh:function(){var t=this.re,e=this.im,r=t>1&&0===e,n=1-t,i=1+t,o=n*n+e*e,a=0!==o?new u((i*n-e*e)/o,(e*n+i*e)/o):new u(t!==-1?t/0:0,0!==e?e/0:0),c=a.re;return a.re=s(a.re,a.im)/2,a.im=Math.atan2(a.im,c)/2,r&&(a.im=-a.im),a},acoth:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new u(0,Math.PI/2);var r=t*t+e*e;return 0!==r?new u(t/r,-e/r).atanh():new u(0!==t?t/0:0,0!==e?-e/0:0).atanh()},acsch:function(){var t=this.re,e=this.im;if(0===e)return new u(0!==t?Math.log(t+Math.sqrt(t*t+1)):1/0,0);var r=t*t+e*e;return 0!==r?new u(t/r,-e/r).asinh():new u(0!==t?t/0:0,0!==e?-e/0:0).asinh()},asech:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new u(1/0,0);var r=t*t+e*e;return 0!==r?new u(t/r,-e/r).acosh():new u(0!==t?t/0:0,0!==e?-e/0:0).acosh()},inverse:function(){var t=this.re,e=this.im,r=t*t+e*e;return new u(0!==t?t/r:0,0!==e?-e/r:0)},conjugate:function(){return new u(this.re,(-this.im))},neg:function(){return new u((-this.re),(-this.im))},ceil:function(t){return t=Math.pow(10,t||0),new u(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new u(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new u(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(t,e){return m(t,e),Math.abs(c.re-this.re)<=u.EPSILON&&Math.abs(c.im-this.im)<=u.EPSILON},clone:function(){return new u(this.re,this.im)},toString:function(){var t=this.re,e=this.im,r="";return isNaN(t)||isNaN(e)?"NaN":(0!==t&&(r+=t),0!==e&&(0!==t?r+=e<0?" - ":" + ":e<0&&(r+="-"),e=Math.abs(e),1!==e&&(r+=e),r+="i"),r?r:"0")},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){return isNaN(this.re)||isNaN(this.im)}),isFinite:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){return isFinite(this.re)&&isFinite(this.im)})},u.ZERO=new u(0,0),u.ONE=new u(1,0),u.I=new u(0,1),u.PI=new u(Math.PI,0),u.E=new u(Math.E,0),u.EPSILON=1e-16,r(219).amd?(n=[],i=function(){return u}.apply(e,n),!(void 0!==i&&(t.exports=i))):"object"===o(e)?t.exports=u:a.Complex=u}(void 0)}).call(e,r(218)(t))},function(t,e){"use strict";t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e,r){"use strict";function n(t,e,n,o){var a=r(221),s=o("complex",{"":function(){return t.Complex.ZERO},number:function(e){return new t.Complex(e,0)},"number, number":function(e,r){return new t.Complex(e,r)},"BigNumber, BigNumber":function(e,r){return new t.Complex(e.toNumber(),r.toNumber())},Complex:function(t){return t.clone()},string:function(e){return t.Complex(e)},Object:function(e){if("re"in e&&"im"in e)return new t.Complex(e.re,e.im);if("r"in e&&"phi"in e)return new t.Complex(e);throw new Error("Expected object with either properties re and im, or properties r and phi.")},"Array | Matrix":function(t){return i(t,s)}});return s.toTex={0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+"+a.symbols.i+"\\cdot\\left(${args[1]}\\right)\\right)"},s}var i=r(208);e.name="complex",e.factory=n},function(t,e){"use strict";e.symbols={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega","true":"\\mathrm{True}","false":"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},e.operators={transpose:"^\\top",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},e.defaultTemplate="\\mathrm{${name}}\\left(${args}\\right)";var r={deg:"^\\circ"};e.toSymbol=function(t,n){if(n="undefined"!=typeof n&&n)return r.hasOwnProperty(t)?r[t]:"\\mathrm{"+t+"}";if(e.symbols.hasOwnProperty(t))return e.symbols[t];if(t.indexOf("_")!==-1){var i=t.indexOf("_");return e.toSymbol(t.substring(0,i))+"_{"+e.toSymbol(t.substring(i+1))+"}"}return t}},function(t,e,r){"use strict";t.exports=[r(223),r(225)]},function(t,e,r){"use strict";function n(t,e,r,n){return i}var i=r(224);i.prototype.type="Fraction",i.prototype.isFraction=!0,i.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},i.fromJSON=function(t){return new i(t)},e.name="Fraction",e.path="type",e.factory=n},function(t,e,r){var n,i;(function(t){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};/**
	 * @license Fraction.js v4.0.2 09/09/2015
	 * http://www.xarg.org/2014/03/rational-numbers-in-javascript/
	 *
	 * Copyright (c) 2015, Robert Eisele (robert@xarg.org)
	 * Dual licensed under the MIT or GPL Version 2 licenses.
	 **/
!function(a){function s(t){var e=function(){var e=Error.apply(this,arguments);e.name=this.name=t,this.stack=e.stack,this.message=e.message},r=function(){};return r.prototype=Error.prototype,e.prototype=new r,e}function u(t,e){return isNaN(t=parseInt(t,10))&&c(),t*e}function c(){throw new m}function l(t,e){return this instanceof l?(h(t,e),t=l.REDUCE?_(p.d,p.n):1,this.s=p.s,this.n=p.n/t,void(this.d=p.d/t)):new l(t,e)}var f=2e3,p={s:1,n:0,d:1},d=l.DivisionByZero=s("DivisionByZero"),m=l.InvalidParameter=s("InvalidParameter"),h=function(t,e){var r,n=0,i=1,a=1,s=0,l=0,f=0,m=1,h=1,v=0,g=1,y=1,_=1,x=1e7;if(void 0===t||null===t);else if(void 0!==e)n=t,i=e,a=n*i;else switch("undefined"==typeof t?"undefined":o(t)){case"object":"d"in t&&"n"in t?(n=t.n,i=t.d,"s"in t&&(n*=t.s)):0 in t?(n=t[0],1 in t&&(i=t[1])):c(),a=n*i;break;case"number":if(t<0&&(a=t,t=-t),t%1===0)n=t;else if(t>0){for(t>=1&&(h=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)),t/=h);g<=x&&_<=x;){if(r=(v+y)/(g+_),t===r){g+_<=x?(n=v+y,i=g+_):_>g?(n=y,i=_):(n=v,i=g);break}t>r?(v+=y,g+=_):(y+=v,_+=g),g>x?(n=y,i=_):(n=v,i=g)}n*=h}else(isNaN(t)||isNaN(e))&&(i=n=NaN);break;case"string":if(g=t.match(/\d+|./g),"-"===g[v]?(a=-1,v++):"+"===g[v]&&v++,g.length===v+1?l=u(g[v++],a):"."===g[v+1]||"."===g[v]?("."!==g[v]&&(s=u(g[v++],a)),v++,(v+1===g.length||"("===g[v+1]&&")"===g[v+3]||"'"===g[v+1]&&"'"===g[v+3])&&(l=u(g[v],a),m=Math.pow(10,g[v].length),v++),("("===g[v]&&")"===g[v+2]||"'"===g[v]&&"'"===g[v+2])&&(f=u(g[v+1],a),h=Math.pow(10,g[v+1].length)-1,v+=3)):"/"===g[v+1]||":"===g[v+1]?(l=u(g[v],a),m=u(g[v+2],1),v+=3):"/"===g[v+3]&&" "===g[v+1]&&(s=u(g[v],a),l=u(g[v+2],a),m=u(g[v+4],1),v+=5),g.length<=v){i=m*h,a=n=f+i*s+h*l;break}default:c()}if(0===i)throw new d;p.s=a<0?-1:1,p.n=Math.abs(n),p.d=Math.abs(i)},v=function(t,e,r){for(var n=1;e>0;t=t*t%r,e>>=1)1&e&&(n=n*t%r);return n},g=function(t,e){for(;e%2===0;e/=2);for(;e%5===0;e/=5);if(1===e)return 0;for(var r=10%e,n=1;1!==r;n++)if(r=10*r%e,n>f)return 0;return n},y=function(t,e,r){for(var n=1,i=v(10,r,e),o=0;o<300;o++){if(n===i)return o;n=10*n%e,i=10*i%e}return 0},_=function(t,e){if(!t)return e;if(!e)return t;for(;;){if(t%=e,!t)return e;if(e%=t,!e)return t}};l.REDUCE=1,l.prototype={s:1,n:0,d:1,abs:function(){return new l(this.n,this.d)},neg:function(){return new l(-this.s*this.n,this.d)},add:function(t,e){return h(t,e),new l(this.s*this.n*p.d+p.s*this.d*p.n,this.d*p.d)},sub:function(t,e){return h(t,e),new l(this.s*this.n*p.d-p.s*this.d*p.n,this.d*p.d)},mul:function(t,e){return h(t,e),new l(this.s*p.s*this.n*p.n,this.d*p.d)},div:function(t,e){return h(t,e),new l(this.s*p.s*this.n*p.d,this.d*p.n)},clone:function(){return new l(this)},mod:function(t,e){return isNaN(this.n)||isNaN(this.d)?new l(NaN):void 0===t?new l(this.s*this.n%this.d,1):(h(t,e),0===p.n&&0===this.d&&l(0,0),new l(this.s*p.d*this.n%(p.n*this.d),p.d*this.d))},gcd:function(t,e){return h(t,e),new l(_(p.n,this.n),p.d*this.d/_(p.d,this.d))},lcm:function(t,e){return h(t,e),0===p.n&&0===this.n?new l:new l(p.n*this.n/_(p.n,this.n),_(p.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new l(NaN):new l(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new l(NaN):new l(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new l(NaN):new l(Math.round(t*this.s*this.n/this.d),t)},inverse:function(){return new l(this.s*this.d,this.n)},pow:function(t){return t<0?new l(Math.pow(this.s*this.d,-t),Math.pow(this.n,-t)):new l(Math.pow(this.s*this.n,t),Math.pow(this.d,t))},equals:function(t,e){return h(t,e),this.s*this.n*p.d===p.s*p.n*this.d},compare:function(t,e){h(t,e);var r=this.s*this.n*p.d-p.s*p.n*this.d;return(0<r)-(r<0)},divisible:function(t,e){return h(t,e),!(!(p.n*this.d)||this.n*p.d%(p.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var e,r="",n=this.n,i=this.d;return this.s<0&&(r+="-"),1===i?r+=n:(t&&(e=Math.floor(n/i))>0&&(r+=e,r+=" ",n%=i),r+=n,r+="/",r+=i),r},toLatex:function(t){var e,r="",n=this.n,i=this.d;return this.s<0&&(r+="-"),1===i?r+=n:(t&&(e=Math.floor(n/i))>0&&(r+=e,n%=i),r+="\\frac{",r+=n,r+="}{",r+=i,r+="}"),r},toContinued:function(){var t,e=this.n,r=this.d,n=[];do n.push(Math.floor(e/r)),t=e%r,e=r,r=t;while(1!==e);return n},toString:function(){var t,e=this.n,r=this.d;if(isNaN(e)||isNaN(r))return"NaN";l.REDUCE||(t=_(e,r),e/=t,r/=t);var n=15,i=g(e,r),o=y(e,r,i),a=this.s===-1?"-":"";if(a+=e/r|0,e%=r,e*=10,e&&(a+="."),i){for(var s=o;s--;)a+=e/r|0,e%=r,e*=10;a+="(";for(var s=i;s--;)a+=e/r|0,e%=r,e*=10;a+=")"}else for(var s=n;e&&s--;)a+=e/r|0,e%=r,e*=10;return a}},r(219).amd?(n=[],i=function(){return l}.apply(e,n),!(void 0!==i&&(t.exports=i))):"object"===o(e)?t.exports=l:a.Fraction=l}(void 0)}).call(e,r(218)(t))},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("fraction",{number:function(e){if(!isFinite(e)||isNaN(e))throw new Error(e+" cannot be represented as a fraction");return new t.Fraction(e)},string:function(e){return new t.Fraction(e)},"number, number":function(e,r){return new t.Fraction(e,r)},BigNumber:function(e){return new t.Fraction(e.toString())},Fraction:function(t){return t},Object:function(e){return new t.Fraction(e)},"Array | Matrix":function(t){return i(t,o)}});return o}var i=r(208);e.name="fraction",e.factory=n},function(t,e,r){"use strict";t.exports=[r(227),r(235),r(237),r(240),r(249),r(255),r(256),r(257),r(258),r(242),r(259)]},function(t,e,r){"use strict";function n(t,e,r,n){function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator")}return i.prototype.type="Matrix",i.prototype.isMatrix=!0,i.storage=function(t){if(!a(t))throw new TypeError("format must be a string value");var e=i._storage[t];if(!e)throw new SyntaxError("Unsupported matrix storage format: "+t);return e},i._storage={},i.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},i.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},i.prototype.create=function(t,e){throw new Error("Cannot invoke create on a Matrix interface")},i.prototype.subset=function(t,e,r){throw new Error("Cannot invoke subset on a Matrix interface")},i.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},i.prototype.set=function(t,e,r){throw new Error("Cannot invoke set on a Matrix interface")},i.prototype.resize=function(t,e){throw new Error("Cannot invoke resize on a Matrix interface")},i.prototype.reshape=function(t,e){throw new Error("Cannot invoke reshape on a Matrix interface")},i.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},i.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},i.prototype.map=function(t,e){throw new Error("Cannot invoke map on a Matrix interface")},i.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},i.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},i.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},i.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},i.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},i}var i=r(228),o=i.string,a=o.isString;e.name="Matrix",e.path="type",e.factory=n},function(t,e,r){"use strict";e.array=r(229),e["boolean"]=r(233),e["function"]=r(234),e.number=r(196),e.object=r(193),e.string=r(212),e.types=r(230),e.emitter=r(197)},function(t,e,r){"use strict";function n(t,e,r){var i,o=t.length;if(o!=e[r])throw new l(o,e[r]);if(r<e.length-1){var a=r+1;for(i=0;i<o;i++){var s=t[i];if(!Array.isArray(s))throw new l(e.length-1,e.length,"<");n(t[i],e,a)}}else for(i=0;i<o;i++)if(Array.isArray(t[i]))throw new l(e.length+1,e.length,">")}function i(t,r,n,o){var a,s,u=t.length,c=r[n],l=Math.min(u,c);if(t.length=c,n<r.length-1){var f=n+1;for(a=0;a<l;a++)s=t[a],Array.isArray(s)||(s=[s],t[a]=s),i(s,r,f,o);for(a=l;a<c;a++)s=[],t[a]=s,i(s,r,f,o)}else{for(a=0;a<l;a++)for(;Array.isArray(t[a]);)t[a]=t[a][0];if(o!==e.UNINITIALIZED)for(a=l;a<c;a++)t[a]=o}}function o(t,e){var r,n=[];if(0===e.length){if(0===t.length)throw new l(null,null,"!=");return t.shift()}for(r=0;r<e[0];r+=1)n.push(o(t,e.slice(1)));return n}function a(t,e,r){var n,i;if(r<e){var o=r+1;for(n=0,i=t.length;n<i;n++)t[n]=a(t[n],e,o)}else for(;Array.isArray(t);)t=t[0];return t}function s(t,e,r){var n,i;if(Array.isArray(t)){var o=r+1;for(n=0,i=t.length;n<i;n++)t[n]=s(t[n],e,o)}else for(var a=r;a<e;a++)t=[t];return t}var u=r(196),c=r(212),l=(r(193),r(230),r(231)),f=r(232);e.size=function(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e},e.validate=function(t,e){var r=0==e.length;if(r){if(Array.isArray(t))throw new l(t.length,0)}else n(t,e,0)},e.validateIndex=function(t,e){if(!u.isNumber(t)||!u.isInteger(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||"number"==typeof e&&t>=e)throw new f(t,e)},e.UNINITIALIZED={},e.resize=function(t,e,r){if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Error("Resizing to scalar is not supported");e.forEach(function(t){if(!u.isNumber(t)||!u.isInteger(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+c.format(e)+")")});var n=void 0!==r?r:0;return i(t,e,0,n),t},e.reshape=function(t,r){var n,i=e.flatten(t),a=function(t){return t.reduce(function(t,e){return t*e})};if(!Array.isArray(t)||!Array.isArray(r))throw new TypeError("Array expected");if(0===r.length)throw new l(0,a(e.size(t)),"!=");try{n=o(i,r)}catch(s){if(s instanceof l)throw new l(a(r),a(e.size(t)),"!=");throw s}if(i.length>0)throw new l(a(r),a(e.size(t)),"!=");return n},e.squeeze=function(t,r){for(var n=r||e.size(t);Array.isArray(t)&&1===t.length;)t=t[0],n.shift();for(var i=n.length;1===n[i-1];)i--;return i<n.length&&(t=a(t,i,0),n.length=i),t},e.unsqueeze=function(t,r,n,i){var o=i||e.size(t);if(n)for(var a=0;a<n;a++)t=[t],o.unshift(1);for(t=s(t,r,0);o.length<r;)o.push(1);return t},e.flatten=function(t){if(!Array.isArray(t))return t;var e=[];return t.forEach(function r(t){Array.isArray(t)?t.forEach(r):e.push(t)}),e},e.map=function(t,e){return Array.prototype.map.call(t,e)},e.forEach=function(t,e){Array.prototype.forEach.call(t,e)},e.filter=function(t,r){if(1!==e.size(t).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,r)},e.filterRegExp=function(t,r){if(1!==e.size(t).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,function(t){return r.test(t)})},e.join=function(t,e){return Array.prototype.join.call(t,e)},e.identify=function(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(0===t.length)return t;var e=[],r=0;e[0]={value:t[0],identifier:0};for(var n=1;n<t.length;n++)t[n]===t[n-1]?r++:r=0,e.push({value:t[n],identifier:r});return e},e.generalize=function(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(0===t.length)return t;for(var e=[],r=0;r<t.length;r++)e.push(t[r].value);return e},e.isArray=Array.isArray},function(t,e){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e.type=function(t){var e="undefined"==typeof t?"undefined":r(t);return"object"===e?null===t?"null":Array.isArray(t)?"Array":t instanceof Date?"Date":t instanceof RegExp?"RegExp":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":"Object":"function"===e?"Function":e}},function(t,e){"use strict";function r(t,e,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=(new Error).stack}r.prototype=new RangeError,r.prototype.constructor=RangeError,r.prototype.name="DimensionError",r.prototype.isDimensionError=!0,t.exports=r},function(t,e){"use strict";function r(t,e,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=n),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}r.prototype=new RangeError,r.prototype.constructor=RangeError,r.prototype.name="IndexError",r.prototype.isIndexError=!0,t.exports=r},function(t,e){"use strict";e.isBoolean=function(t){return"boolean"==typeof t}},function(t,e){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e.memoize=function(t,e){return function n(){"object"!==r(n.cache)&&(n.cache={});for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var a=e?e(i):JSON.stringify(i);return a in n.cache?n.cache[a]:n.cache[a]=t.apply(t,i)}},e.maxArgumentCount=function(t){return Object.keys(t.signatures||{}).reduce(function(t,e){var r=(e.match(/,/g)||[]).length+1;return Math.max(t,r)},-1)},e.callWithRightArgumentCount=function(t,e,r){return Object.keys(t.signatures||{}).reduce(function(t,e){var r=(e.match(/,/g)||[]).length+1;return Math.max(t,r)},-1)}},function(t,e,r){"use strict";function n(t,e,n,c){function h(t,e){if(!(this instanceof h))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!d(e))throw new Error("Invalid datatype: "+e);if(t&&t.isMatrix===!0)"DenseMatrix"===t.type?(this._data=u.clone(t._data),this._size=u.clone(t._size),this._datatype=e||t._datatype):(this._data=t.toArray(),this._size=t.size(),this._datatype=e||t._datatype);else if(t&&l(t.data)&&l(t.size))this._data=t.data,this._size=t.size,this._datatype=e||t.datatype;else if(l(t))this._data=w(t),this._size=s.size(this._data),s.validate(this._data,this._size),this._datatype=e;else{if(t)throw new TypeError("Unsupported type of data ("+i.types.type(t)+")");this._data=[],this._size=[0],this._datatype=e}}function v(t,e){if(!e||e.isIndex!==!0)throw new TypeError("Invalid index");var r=e.isScalar();if(r)return t.get(e.min());var n=e.size();if(n.length!=t._size.length)throw new o(n.length,t._size.length);for(var i=e.min(),a=e.max(),s=0,u=t._size.length;s<u;s++)m(i[s],t._size[s]),m(a[s],t._size[s]);return new h(g(t._data,e,n.length,0),t._datatype)}function g(t,e,r,n){var i=n===r-1,o=e.dimension(n);return i?o.map(function(e){return m(e,t.length),t[e]}).valueOf():o.map(function(i){m(i,t.length);var o=t[i];return g(o,e,r,n+1)}).valueOf()}function y(t,e,r,n){if(!e||e.isIndex!==!0)throw new TypeError("Invalid index");var i,a=e.size(),c=e.isScalar();if(r&&r.isMatrix===!0?(i=r.size(),r=r.valueOf()):i=s.size(r),c){if(0!==i.length)throw new TypeError("Scalar expected");t.set(e.min(),r,n)}else{if(a.length<t._size.length)throw new o(a.length,t._size.length,"<");if(i.length<a.length){for(var l=0,f=0;1===a[l]&&1===i[l];)l++;for(;1===a[l];)f++,l++;r=s.unsqueeze(r,a.length,f,i)}if(!u.deepEqual(a,i))throw new o(a,i,">");var p=e.max().map(function(t){return t+1});x(t,p,n);var d=a.length,m=0;_(t._data,e,r,d,m)}return t}function _(t,e,r,n,i){var o=i===n-1,a=e.dimension(i);o?a.forEach(function(e,n){m(e),t[e]=r[n[0]]}):a.forEach(function(o,a){m(o),_(t[o],e,r[a[0]],n,i+1)})}function x(t,e,r){for(var n=t._size.slice(0),i=!1;n.length<e.length;)n.push(0),i=!0;for(var o=0,a=e.length;o<a;o++)e[o]>n[o]&&(n[o]=e[o],i=!0);i&&N(t,n,r)}function w(t){for(var e=0,r=t.length;e<r;e++){var n=t[e];l(n)?t[e]=w(n):n&&n.isMatrix===!0&&(t[e]=w(n.valueOf()))}return t}var b=n(r(227));h.prototype=new b,h.prototype.type="DenseMatrix",h.prototype.isDenseMatrix=!0,h.prototype.storage=function(){return"dense"},h.prototype.datatype=function(){return this._datatype},h.prototype.create=function(t,e){return new h(t,e)},h.prototype.subset=function(t,e,r){switch(arguments.length){case 1:return v(this,t);case 2:case 3:return y(this,t,e,r);default:throw new SyntaxError("Wrong number of arguments")}},h.prototype.get=function(t){if(!l(t))throw new TypeError("Array expected");if(t.length!=this._size.length)throw new o(t.length,this._size.length);for(var e=0;e<t.length;e++)m(t[e],this._size[e]);for(var r=this._data,n=0,i=t.length;n<i;n++){var a=t[n];m(a,r.length),r=r[a]}return r},h.prototype.set=function(t,e,r){if(!l(t))throw new TypeError("Array expected");if(t.length<this._size.length)throw new o(t.length,this._size.length,"<");var n,i,a,s=t.map(function(t){return t+1});x(this,s,r);var u=this._data;for(n=0,i=t.length-1;n<i;n++)a=t[n],m(a,u.length),u=u[a];return a=t[t.length-1],m(a,u.length),u[a]=e,this},h.prototype.resize=function(t,e,r){if(!l(t))throw new TypeError("Array expected");var n=r?this.clone():this;return N(n,t,e)};var N=function(t,e,r){if(0===e.length){for(var n=t._data;l(n);)n=n[0];return n}return t._size=e.slice(0),t._data=s.resize(t._data,t._size,r),t};return h.prototype.reshape=function(t,e){var r=e?this.clone():this;return r._data=s.reshape(r._data,t),r._size=t.slice(0),r},h.prototype.clone=function(){var t=new h({data:u.clone(this._data),size:u.clone(this._size),datatype:this._datatype});return t},h.prototype.size=function(){return this._size.slice(0)},h.prototype.map=function(t){var e=this,r=function n(r,i){return l(r)?r.map(function(t,e){return n(t,i.concat(e))}):t(r,i,e)};return new h({data:r(this._data,[]),size:u.clone(this._size),datatype:this._datatype})},h.prototype.forEach=function(t){var e=this,r=function n(r,i){l(r)?r.forEach(function(t,e){n(t,i.concat(e))}):t(r,i,e)};r(this._data,[])},h.prototype.toArray=function(){return u.clone(this._data)},h.prototype.valueOf=function(){return this._data},h.prototype.format=function(t){return a.format(this._data,t)},h.prototype.toString=function(){return a.format(this._data)},h.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},h.prototype.diagonal=function(t){if(t){if(t.isBigNumber===!0&&(t=t.toNumber()),!f(t)||!p(t))throw new TypeError("The parameter k must be an integer number")}else t=0;for(var e=t>0?t:0,r=t<0?-t:0,n=this._size[0],i=this._size[1],o=Math.min(n-r,i-e),a=[],s=0;s<o;s++)a[s]=this._data[s+r][s+e];return new h({data:a,size:[o],datatype:this._datatype})},h.diagonal=function(e,r,n,i,o){if(!l(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map(function(t){if(t&&t.isBigNumber===!0&&(t=t.toNumber()),!f(t)||!p(t)||t<1)throw new Error("Size values must be positive integers");return t}),n){if(n&&n.isBigNumber===!0&&(n=n.toNumber()),!f(n)||!p(n))throw new TypeError("The parameter k must be an integer number")}else n=0;i&&d(o)&&(i=c.convert(i,o));var a,u=n>0?n:0,m=n<0?-n:0,v=e[0],g=e[1],y=Math.min(v-m,g-u);if(l(r)){if(r.length!==y)throw new Error("Invalid value array length");a=function(t){return r[t]}}else if(r&&r.isMatrix===!0){var _=r.size();if(1!==_.length||_[0]!==y)throw new Error("Invalid matrix length");a=function(t){return r.get([t])}}else a=function(){return r};i||(i=a(0)&&a(0).isBigNumber===!0?new t.BigNumber(0):0);var x=[];if(e.length>0){x=s.resize(x,e,i);for(var w=0;w<y;w++)x[w+m][w+u]=a(w)}return new h({data:x,size:[v,g]})},h.fromJSON=function(t){return new h(t)},h.prototype.swapRows=function(t,e){if(!(f(t)&&p(t)&&f(e)&&p(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return m(t,this._size[0]),m(e,this._size[0]),h._swapRows(t,e,this._data),this},h._swapRows=function(t,e,r){var n=r[t];r[t]=r[e],r[e]=n},t.Matrix._storage.dense=h,t.Matrix._storage["default"]=h,h}var i=r(228),o=r(231),a=(r(236).getSafeProperty,r(236).setSafeProperty,i.string),s=i.array,u=i.object,c=i.number,l=Array.isArray,f=c.isNumber,p=c.isInteger,d=a.isString,m=s.validateIndex;e.name="DenseMatrix",e.path="type",e.factory=n,e.lazy=!1},function(t,e,r){"use strict";function n(t,e){if(u(t)&&o(t,e))return t[e];if("function"==typeof t[e]&&s(t,e))throw new Error('Cannot access method "'+e+'" as a property');throw new Error('No access to property "'+e+'"')}function i(t,e,r){if(u(t)&&o(t,e))return t[e]=r;throw new Error('No access to property "'+e+'"')}function o(t,e){return!(!t||"object"!==("undefined"==typeof t?"undefined":c(t)))&&(!!l(f,e)||!(e in Object.prototype)&&!(e in Function.prototype))}function a(t,e){if(!s(t,e))throw new Error('No access to method "'+e+'"')}function s(t,e){return!(!t||"function"!=typeof t[e])&&(!(l(t,e)&&t.__proto__&&e in t.__proto__)&&(!!l(p,e)||!(e in Object.prototype)&&!(e in Function.prototype)))}function u(t){return"object"===("undefined"==typeof t?"undefined":c(t))&&t&&t.constructor===Object}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},l=r(193).hasOwnProperty,f={length:!0},p={toString:!0,valueOf:!0,toLocaleString:!0};e.getSafeProperty=n,e.setSafeProperty=i,e.isSafeProperty=o,e.validateSafeMethod=a,e.isSafeMethod=s,e.isPlainObject=u},function(t,e,r){"use strict";function n(t,e,n,h){function v(t,e){if(!(this instanceof v))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!d(e))throw new Error("Invalid datatype: "+e);if(t&&t.isMatrix===!0)_(this,t,e);else if(t&&l(t.index)&&l(t.ptr)&&l(t.size))this._values=t.values,this._index=t.index,this._ptr=t.ptr,this._size=t.size,this._datatype=e||t.datatype;else if(l(t))x(this,t,e);else{if(t)throw new TypeError("Unsupported type of data ("+i.types.type(t)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=e}}var g=n(r(227)),y=n(r(238)),_=function(t,e,r){"SparseMatrix"===e.type?(t._values=e._values?s.clone(e._values):void 0,t._index=s.clone(e._index),t._ptr=s.clone(e._ptr),t._size=s.clone(e._size),t._datatype=r||e._datatype):x(t,e.valueOf(),r||e._datatype)},x=function(t,e,r){t._values=[],t._index=[],t._ptr=[],t._datatype=r;var n=e.length,i=0,o=y,a=0;if(d(r)&&(o=h.find(y,[r,r])||y,a=h.convert(0,r)),n>0){var s=0;do{t._ptr.push(t._index.length);for(var u=0;u<n;u++){var c=e[u];if(l(c)){if(0===s&&i<c.length&&(i=c.length),s<c.length){var f=c[s];o(f,a)||(t._values.push(f),t._index.push(u))}}else 0===s&&i<1&&(i=1),o(c,a)||(t._values.push(c),t._index.push(u))}s++}while(s<i)}t._ptr.push(t._index.length),t._size=[n,i]};v.prototype=new g,v.prototype.type="SparseMatrix",v.prototype.isSparseMatrix=!0,v.prototype.storage=function(){return"sparse"},v.prototype.datatype=function(){return this._datatype},v.prototype.create=function(t,e){return new v(t,e)},v.prototype.density=function(){var t=this._size[0],e=this._size[1];return 0!==t&&0!==e?this._index.length/(t*e):0},v.prototype.subset=function(t,e,r){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return w(this,t);case 2:case 3:return b(this,t,e,r);default:throw new SyntaxError("Wrong number of arguments")}};var w=function(t,e){if(!e||e.isIndex!==!0)throw new TypeError("Invalid index");var r=e.isScalar();if(r)return t.get(e.min());var n=e.size();if(n.length!=t._size.length)throw new o(n.length,t._size.length);var i,a,s,u,c=e.min(),l=e.max();for(i=0,a=t._size.length;i<a;i++)m(c[i],t._size[i]),m(l[i],t._size[i]);var f=t._values,p=t._index,d=t._ptr,h=e.dimension(0),g=e.dimension(1),y=[],_=[];h.forEach(function(t,e){_[t]=e[0],y[t]=!0});var x=f?[]:void 0,w=[],b=[];return g.forEach(function(t){for(b.push(w.length),s=d[t],u=d[t+1];s<u;s++)i=p[s],y[i]===!0&&(w.push(_[i]),x&&x.push(f[s]))}),b.push(w.length),new v({values:x,index:w,ptr:b,size:n,datatype:t._datatype})},b=function(t,e,r,n){if(!e||e.isIndex!==!0)throw new TypeError("Invalid index");var i,u=e.size(),c=e.isScalar();if(r&&r.isMatrix===!0?(i=r.size(),r=r.toArray()):i=a.size(r),c){if(0!==i.length)throw new TypeError("Scalar expected");t.set(e.min(),r,n)}else{if(1!==u.length&&2!==u.length)throw new o(u.length,t._size.length,"<");if(i.length<u.length){for(var l=0,f=0;1===u[l]&&1===i[l];)l++;for(;1===u[l];)f++,l++;r=a.unsqueeze(r,u.length,f,i)}if(!s.deepEqual(u,i))throw new o(u,i,">");for(var p=e.min()[0],d=e.min()[1],m=i[0],h=i[1],v=0;v<m;v++)for(var g=0;g<h;g++){var y=r[v][g];t.set([v+p,g+d],y,n)}}return t};v.prototype.get=function(t){if(!l(t))throw new TypeError("Array expected");if(t.length!=this._size.length)throw new o(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var e=t[0],r=t[1];m(e,this._size[0]),m(r,this._size[1]);var n=N(e,this._ptr[r],this._ptr[r+1],this._index);return n<this._ptr[r+1]&&this._index[n]===e?this._values[n]:0},v.prototype.set=function(t,e,r){if(!l(t))throw new TypeError("Array expected");if(t.length!=this._size.length)throw new o(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var n=t[0],i=t[1],a=this._size[0],s=this._size[1],u=y,c=0;d(this._datatype)&&(u=h.find(y,[this._datatype,this._datatype])||y,c=h.convert(0,this._datatype)),(n>a-1||i>s-1)&&(E(this,Math.max(n+1,a),Math.max(i+1,s),r),a=this._size[0],s=this._size[1]),m(n,a),m(i,s);var f=N(n,this._ptr[i],this._ptr[i+1],this._index);return f<this._ptr[i+1]&&this._index[f]===n?u(e,c)?z(f,i,this._values,this._index,this._ptr):this._values[f]=e:A(f,n,i,e,this._values,this._index,this._ptr),this};var N=function(t,e,r,n){if(r-e===0)return r;for(var i=e;i<r;i++)if(n[i]===t)return i;return e},z=function(t,e,r,n,i){r.splice(t,1),n.splice(t,1);for(var o=e+1;o<i.length;o++)i[o]--},A=function(t,e,r,n,i,o,a){i.splice(t,0,n),o.splice(t,0,e);for(var s=r+1;s<a.length;s++)a[s]++};v.prototype.resize=function(t,e,r){if(!l(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");t.forEach(function(e){if(!c.isNumber(e)||!c.isInteger(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+u.format(t)+")")});var n=r?this.clone():this;return E(n,t[0],t[1],e)};var E=function(t,e,r,n){var i=n||0,o=y,a=0;d(t._datatype)&&(o=h.find(y,[t._datatype,t._datatype])||y,a=h.convert(0,t._datatype),i=h.convert(i,t._datatype));var s,u,c,l=!o(i,a),f=t._size[0],p=t._size[1];if(r>p){for(u=p;u<r;u++)if(t._ptr[u]=t._values.length,l)for(s=0;s<f;s++)t._values.push(i),t._index.push(s);t._ptr[r]=t._values.length}else r<p&&(t._ptr.splice(r+1,p-r),t._values.splice(t._ptr[r],t._values.length),t._index.splice(t._ptr[r],t._index.length));if(p=r,e>f){if(l){var m=0;for(u=0;u<p;u++){t._ptr[u]=t._ptr[u]+m,c=t._ptr[u+1]+m;var v=0;for(s=f;s<e;s++,v++)t._values.splice(c+v,0,i),t._index.splice(c+v,0,s),m++}t._ptr[p]=t._values.length}}else if(e<f){var g=0;for(u=0;u<p;u++){t._ptr[u]=t._ptr[u]-g;var _=t._ptr[u],x=t._ptr[u+1]-g;for(c=_;c<x;c++)s=t._index[c],s>e-1&&(t._values.splice(c,1),t._index.splice(c,1),g++)}t._ptr[u]=t._values.length}return t._size[0]=e,t._size[1]=r,t};v.prototype.reshape=function(t,e){if(!l(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");if(t.forEach(function(e){if(!c.isNumber(e)||!c.isInteger(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+u.format(t)+")")}),this._size[0]*this._size[1]!==t[0]*t[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var r=e?this.clone():this;if(this._size[0]===t[0]&&this._size[1]===t[1])return r;for(var n=[],i=0;i<r._ptr.length;i++)for(var o=0;o<r._ptr[i+1]-r._ptr[i];o++)n.push(i);for(var a=r._values.slice(),s=r._index.slice(),i=0;i<r._index.length;i++){var f=s[i],p=n[i],d=f*r._size[1]+p;n[i]=d%t[1],s[i]=Math.floor(d/t[1])}r._values.length=0,r._index.length=0,r._ptr.length=t[1]+1,r._size=t.slice();for(var i=0;i<r._ptr.length;i++)r._ptr[i]=0;for(var m=0;m<a.length;m++){var i=s[m],o=n[m],h=a[m],v=N(i,r._ptr[o],r._ptr[o+1],r._index);A(v,i,o,h,r._values,r._index,r._ptr)}return r},v.prototype.clone=function(){var t=new v({values:this._values?s.clone(this._values):void 0,index:s.clone(this._index),ptr:s.clone(this._ptr),size:s.clone(this._size),datatype:this._datatype});return t},v.prototype.size=function(){return this._size.slice(0)},v.prototype.map=function(t,e){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var r=this,n=this._size[0],i=this._size[1],o=function(e,n,i){return t(e,[n,i],r)};return M(this,0,n-1,0,i-1,o,e)};var M=function(t,e,r,n,i,o,a){var s=[],u=[],c=[],l=y,f=0;d(t._datatype)&&(l=h.find(y,[t._datatype,t._datatype])||y,f=h.convert(0,t._datatype));for(var p=function(t,e,r){t=o(t,e,r),l(t,f)||(s.push(t),u.push(e))},m=n;m<=i;m++){c.push(s.length);for(var g=t._ptr[m],_=t._ptr[m+1],x=e,w=g;w<_;w++){var b=t._index[w];if(b>=e&&b<=r){if(!a)for(var N=x;N<b;N++)p(0,N-e,m-n);p(t._values[w],b-e,m-n)}x=b+1}if(!a)for(var z=x;z<=r;z++)p(0,z-e,m-n)}return c.push(s.length),new v({values:s,index:u,ptr:c,size:[r-e+1,i-n+1]})};v.prototype.forEach=function(t,e){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var r=this,n=this._size[0],i=this._size[1],o=0;o<i;o++){for(var a=this._ptr[o],s=this._ptr[o+1],u=0,c=a;c<s;c++){var l=this._index[c];if(!e)for(var f=u;f<l;f++)t(0,[f,o],r);t(this._values[c],[l,o],r),u=l+1}if(!e)for(var p=u;p<n;p++)t(0,[p,o],r)}},v.prototype.toArray=function(){return O(this._values,this._index,this._ptr,this._size,!0)},v.prototype.valueOf=function(){return O(this._values,this._index,this._ptr,this._size,!1)};var O=function(t,e,r,n,i){var o,a,u=n[0],c=n[1],l=[];for(o=0;o<u;o++)for(l[o]=[],a=0;a<c;a++)l[o][a]=0;for(a=0;a<c;a++)for(var f=r[a],p=r[a+1],d=f;d<p;d++)o=e[d],l[o][a]=t?i?s.clone(t[d]):t[d]:1;return l};return v.prototype.format=function(t){for(var e=this._size[0],r=this._size[1],n=this.density(),i="Sparse Matrix ["+u.format(e,t)+" x "+u.format(r,t)+"] density: "+u.format(n,t)+"\n",o=0;o<r;o++)for(var a=this._ptr[o],s=this._ptr[o+1],c=a;c<s;c++){var l=this._index[c];i+="\n    ("+u.format(l,t)+", "+u.format(o,t)+") ==> "+(this._values?u.format(this._values[c],t):"X")}return i},v.prototype.toString=function(){return u.format(this.toArray())},v.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},v.prototype.diagonal=function(t){if(t){if(t.isBigNumber===!0&&(t=t.toNumber()),!f(t)||!p(t))throw new TypeError("The parameter k must be an integer number")}else t=0;var e=t>0?t:0,r=t<0?-t:0,n=this._size[0],i=this._size[1],o=Math.min(n-r,i-e),a=[],s=[],u=[];u[0]=0;for(var c=e;c<i&&a.length<o;c++)for(var l=this._ptr[c],d=this._ptr[c+1],m=l;m<d;m++){var h=this._index[m];if(h===c-e+r){a.push(this._values[m]),s[a.length-1]=h-r;break}}return u.push(a.length),new v({values:a,index:s,ptr:u,size:[o,1]})},v.fromJSON=function(t){return new v(t)},v.diagonal=function(t,e,r,n,i){if(!l(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map(function(t){if(t&&t.isBigNumber===!0&&(t=t.toNumber()),!f(t)||!p(t)||t<1)throw new Error("Size values must be positive integers");return t}),r){if(r.isBigNumber===!0&&(r=r.toNumber()),!f(r)||!p(r))throw new TypeError("The parameter k must be an integer number")}else r=0;var o=y,a=0;d(i)&&(o=h.find(y,[i,i])||y,a=h.convert(0,i));var s,u=r>0?r:0,c=r<0?-r:0,m=t[0],g=t[1],_=Math.min(m-c,g-u);if(l(e)){if(e.length!==_)throw new Error("Invalid value array length");
s=function(t){return e[t]}}else if(e&&e.isMatrix===!0){var x=e.size();if(1!==x.length||x[0]!==_)throw new Error("Invalid matrix length");s=function(t){return e.get([t])}}else s=function(){return e};for(var w=[],b=[],N=[],z=0;z<g;z++){N.push(w.length);var A=z-u;if(A>=0&&A<_){var E=s(A);o(E,a)||(b.push(A+c),w.push(E))}}return N.push(w.length),new v({values:w,index:b,ptr:N,size:[m,g]})},v.prototype.swapRows=function(t,e){if(!(f(t)&&p(t)&&f(e)&&p(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return m(t,this._size[0]),m(e,this._size[0]),v._swapRows(t,e,this._size[1],this._values,this._index,this._ptr),this},v._forEachRow=function(t,e,r,n,i){for(var o=n[t],a=n[t+1],s=o;s<a;s++)i(r[s],e[s])},v._swapRows=function(t,e,r,n,i,o){for(var a=0;a<r;a++){var s=o[a],u=o[a+1],c=N(t,s,u,i),l=N(e,s,u,i);if(c<u&&l<u&&i[c]===t&&i[l]===e){if(n){var f=n[c];n[c]=n[l],n[l]=f}}else if(c<u&&i[c]===t&&(l>=u||i[l]!==e)){var p=n?n[c]:void 0;i.splice(l,0,e),n&&n.splice(l,0,p),i.splice(l<=c?c+1:c,1),n&&n.splice(l<=c?c+1:c,1)}else if(l<u&&i[l]===e&&(c>=u||i[c]!==t)){var d=n?n[l]:void 0;i.splice(c,0,t),n&&n.splice(c,0,d),i.splice(c<=l?l+1:l,1),n&&n.splice(c<=l?l+1:l,1)}}},t.Matrix._storage.sparse=v,v}var i=r(228),o=r(231),a=i.array,s=i.object,u=i.string,c=i.number,l=Array.isArray,f=c.isNumber,p=c.isInteger,d=u.isString,m=a.validateIndex;e.name="SparseMatrix",e.path="type",e.factory=n,e.lazy=!1},function(t,e,r){"use strict";function n(t,e,r,n){var a=n("equalScalar",{"boolean, boolean":function(t,e){return t===e},"number, number":function(t,r){return t===r||i(t,r,e.epsilon)},"BigNumber, BigNumber":function(t,r){return t.eq(r)||o(t,r,e.epsilon)},"Fraction, Fraction":function(t,e){return t.equals(e)},"Complex, Complex":function(t,e){return t.equals(e)},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return a(t.value,e.value)},"string, string":function(t,e){return t===e}});return a}var i=r(196).nearlyEqual,o=r(239);e.factory=n},function(t,e){"use strict";t.exports=function(t,e,r){if(null==r)return t.eq(e);if(t.eq(e))return!0;if(t.isNaN()||e.isNaN())return!1;if(t.isFinite()&&e.isFinite()){var n=t.minus(e).abs();if(n.isZero())return!0;var i=t.constructor.max(t.abs(),e.abs());return n.lte(i.times(r))}return!1}},function(t,e,r){"use strict";function n(t,e,n){function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new t.FibonacciHeap}var o=n(r(241)),a=n(r(238));return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(t,e){if(this._values[t])this._values[t].value=e;else{var r=this._heap.insert(t,e);this._values[t]=r}},i.prototype.get=function(t){var e=this._values[t];return e?e.value:0},i.prototype.accumulate=function(t,e){var r=this._values[t];r?r.value=o(r.value,e):(r=this._heap.insert(t,e),this._values[t]=r)},i.prototype.forEach=function(t,e,r){var n=this._heap,i=this._values,o=[],s=n.extractMinimum();for(s&&o.push(s);s&&s.key<=e;)s.key>=t&&(a(s.value,0)||r(s.key,s.value,this)),s=n.extractMinimum(),s&&o.push(s);for(var u=0;u<o.length;u++){var c=o[u];s=n.insert(c.key,c.value),i[s.key]=s}},i.prototype.swap=function(t,e){var r=this._values[t],n=this._values[e];if(!r&&n)r=this._heap.insert(t,n.value),this._heap.remove(n),this._values[t]=r,this._values[e]=void 0;else if(r&&!n)n=this._heap.insert(e,r.value),this._heap.remove(r),this._values[e]=n,this._values[t]=void 0;else if(r&&n){var i=r.value;r.value=n.value,n.value=i}},i}e.name="Spa",e.path="type",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,o){var a=n(r(242)),s=n(r(243)),u=r(221),c=n(r(244)),l=n(r(245)),f=n(r(246)),p=n(r(247)),d=n(r(248)),m=o("add",i({"Matrix, Matrix":function(t,e){var r;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":r=l(t,e,s);break;default:r=c(e,t,s,!0)}break;default:switch(e.storage()){case"sparse":r=c(t,e,s,!1);break;default:r=p(t,e,s)}}return r},"Array, Array":function(t,e){return m(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){return m(a(t),e)},"Matrix, Array":function(t,e){return m(t,a(e))},"Matrix, any":function(t,e){var r;switch(t.storage()){case"sparse":r=f(t,e,s,!1);break;default:r=d(t,e,s,!1)}return r},"any, Matrix":function(t,e){var r;switch(e.storage()){case"sparse":r=f(e,t,s,!0);break;default:r=d(e,t,s,!0)}return r},"Array, any":function(t,e){return d(a(t),e,s,!1).valueOf()},"any, Array":function(t,e){return d(a(e),t,s,!0).valueOf()},"any, any":s,"any, any, ...any":function(t,e,r){for(var n=m(t,e),i=0;i<r.length;i++)n=m(n,r[i]);return n}},s.signatures));return m.toTex={2:"\\left(${args[0]}"+u.operators.add+"${args[1]}\\right)"},m}var i=r(193).extend;e.name="add",e.factory=n},function(t,e){"use strict";function r(t,e,r,n){function i(e,r,n){var i=t.Matrix.storage(r||"default");return new i(e,n)}var o=n("matrix",{"":function(){return i([])},string:function(t){return i([],t)},"string, string":function(t,e){return i([],t,e)},Array:function(t){return i(t)},Matrix:function(t){return i(t,t.storage())},"Array | Matrix, string":i,"Array | Matrix, string, string":i});return o.toTex={0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},o}e.name="matrix",e.factory=r},function(t,e){"use strict";function r(t,e,r,n){var i=n("add",{"number, number":function(t,e){return t+e},"Complex, Complex":function(t,e){return t.add(e)},"BigNumber, BigNumber":function(t,e){return t.plus(e)},"Fraction, Fraction":function(t,e){return t.add(e)},"Unit, Unit":function(t,e){if(null==t.value)throw new Error("Parameter x contains a unit with undefined value");if(null==e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");var r=t.clone();return r.value=i(r.value,e.value),r.fixPrefix=!1,r}});return i}e.factory=r},function(t,e,r){"use strict";function n(t,e,r,n){var o=t.DenseMatrix,a=function(t,e,r,a){var s=t._data,u=t._size,c=t._datatype,l=e._values,f=e._index,p=e._ptr,d=e._size,m=e._datatype;if(u.length!==d.length)throw new i(u.length,d.length);if(u[0]!==d[0]||u[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+d+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var h,v,g=u[0],y=u[1],_="string"==typeof c&&c===m?c:void 0,x=_?n.find(r,[_,_]):r,w=[];for(h=0;h<g;h++)w[h]=[];var b=[],N=[];for(v=0;v<y;v++){for(var z=v+1,A=p[v],E=p[v+1],M=A;M<E;M++)h=f[M],b[h]=a?x(l[M],s[h][v]):x(s[h][v],l[M]),N[h]=z;for(h=0;h<g;h++)N[h]===z?w[h][v]=b[h]:w[h][v]=s[h][v]}return new o({data:w,size:[g,y],datatype:_})};return a}var i=r(231);e.name="algorithm01",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,o){var a=n(r(238)),s=t.SparseMatrix,u=function(t,e,r){var n=t._values,u=t._index,c=t._ptr,l=t._size,f=t._datatype,p=e._values,d=e._index,m=e._ptr,h=e._size,v=e._datatype;if(l.length!==h.length)throw new i(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");var g,y=l[0],_=l[1],x=a,w=0,b=r;"string"==typeof f&&f===v&&(g=f,x=o.find(a,[g,g]),w=o.convert(0,g),b=o.find(r,[g,g]));var N,z,A,E,M,O=n&&p?[]:void 0,S=[],k=[],T=new s({values:O,index:S,ptr:k,size:[y,_],datatype:g}),C=n&&p?[]:void 0,B=n&&p?[]:void 0,I=[],R=[];for(z=0;z<_;z++){k[z]=S.length;var P=z+1;for(E=c[z],M=c[z+1],A=E;A<M;A++)N=u[A],S.push(N),I[N]=P,C&&(C[N]=n[A]);for(E=m[z],M=m[z+1],A=E;A<M;A++)if(N=d[A],I[N]===P){if(C){var U=b(C[N],p[A]);x(U,w)?I[N]=null:C[N]=U}}else S.push(N),R[N]=P,B&&(B[N]=p[A]);if(C&&B)for(A=k[z];A<S.length;)N=S[A],I[N]===P?(O[A]=C[N],A++):R[N]===P?(O[A]=B[N],A++):S.splice(A,1)}return k[_]=S.length,T};return u}var i=r(231);e.name="algorithm04",e.factory=n},function(t,e){"use strict";function r(t,e,r,n){var i=t.DenseMatrix,o=function(t,e,r,o){var a=t._values,s=t._index,u=t._ptr,c=t._size,l=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f,p=c[0],d=c[1],m=r;"string"==typeof l&&(f=l,e=n.convert(e,f),m=n.find(r,[f,f]));for(var h=[],v=new i({data:h,size:[p,d],datatype:f}),g=[],y=[],_=0;_<d;_++){for(var x=_+1,w=u[_],b=u[_+1],N=w;N<b;N++){var z=s[N];g[z]=a[N],y[z]=x}for(var A=0;A<p;A++)0===_&&(h[A]=[]),y[A]===x?h[A][_]=o?m(e,g[A]):m(g[A],e):h[A][_]=e}return v};return o}e.name="algorithm10",e.factory=r},function(t,e,r){"use strict";function n(t,e,r,n){var i=t.DenseMatrix,a=function(t,e,r){var a=t._data,u=t._size,c=t._datatype,l=e._data,f=e._size,p=e._datatype,d=[];if(u.length!==f.length)throw new o(u.length,f.length);for(var m=0;m<u.length;m++){if(u[m]!==f[m])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");d[m]=u[m]}var h,v=r;"string"==typeof c&&c===p&&(h=c,e=n.convert(e,h),v=n.find(r,[h,h]));var g=d.length>0?s(v,0,d,d[0],a,l):[];return new i({data:g,size:d,datatype:h})},s=function u(t,e,r,n,i,o){var a=[];if(e===r.length-1)for(var s=0;s<n;s++)a[s]=t(i[s],o[s]);else for(var c=0;c<n;c++)a[c]=u(t,e+1,r,r[e+1],i[c],o[c]);return a};return a}var i=r(228),o=r(231),a=i.string;a.isString;e.name="algorithm13",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var o=t.DenseMatrix,a=function(t,e,r,a){var u,c=t._data,l=t._size,f=t._datatype,p=r;"string"==typeof f&&(u=f,e=n.convert(e,u),p=n.find(r,[u,u]));var d=l.length>0?s(p,0,l,l[0],c,e,a):[];return new o({data:d,size:i(l),datatype:u})},s=function u(t,e,r,n,i,o,a){var s=[];if(e===r.length-1)for(var c=0;c<n;c++)s[c]=a?t(o,i[c]):t(i[c],o);else for(var l=0;l<n;l++)s[l]=u(t,e+1,r,r[e+1],i[l],o,a);return s};return a}var i=r(193).clone;e.name="algorithm14",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,i){function o(){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}var a=n(r(250)),s=n(r(254)),u=1/Math.log((1+Math.sqrt(5))/2);o.prototype.type="FibonacciHeap",o.prototype.isFibonacciHeap=!0,o.prototype.insert=function(t,e){var r={key:t,value:e,degree:0};if(this._minimum){var n=this._minimum;r.left=n,r.right=n.right,n.right=r,r.right.left=r,a(t,n.key)&&(this._minimum=r)}else r.left=r,r.right=r,this._minimum=r;return this._size++,r},o.prototype.size=function(){return this._size},o.prototype.clear=function(){this._minimum=null,this._size=0},o.prototype.isEmpty=function(){return!!this._minimum},o.prototype.extractMinimum=function(){var t=this._minimum;if(null===t)return t;for(var e=this._minimum,r=t.degree,n=t.child;r>0;){var i=n.right;n.left.right=n.right,n.right.left=n.left,n.left=e,n.right=e.right,e.right=n,n.right.left=n,n.parent=null,n=i,r--}return t.left.right=t.right,t.right.left=t.left,t==t.right?e=null:(e=t.right,e=d(e,this._size)),this._size--,this._minimum=e,t},o.prototype.remove=function(t){this._minimum=c(this._minimum,t,-1),this.extractMinimum()};var c=function(t,e,r){e.key=r;var n=e.parent;return n&&a(e.key,n.key)&&(l(t,e,n),f(t,n)),a(e.key,t.key)&&(t=e),t},l=function(t,e,r){e.left.right=e.right,e.right.left=e.left,r.degree--,r.child==e&&(r.child=e.right),0===r.degree&&(r.child=null),e.left=t,e.right=t.right,t.right=e,e.right.left=e,e.parent=null,e.mark=!1},f=function m(t,e){var r=e.parent;r&&(e.mark?(l(t,e,r),m(r)):e.mark=!0)},p=function(t,e){t.left.right=t.right,t.right.left=t.left,t.parent=e,e.child?(t.left=e.child,t.right=e.child.right,e.child.right=t,t.right.left=t):(e.child=t,t.right=t,t.left=t),e.degree++,t.mark=!1},d=function(t,e){var r=Math.floor(Math.log(e)*u)+1,n=new Array(r),i=0,o=t;if(o)for(i++,o=o.right;o!==t;)i++,o=o.right;for(var c;i>0;){for(var l=o.degree,f=o.right;;){if(c=n[l],!c)break;if(s(o.key,c.key)){var d=c;c=o,o=d}p(c,o),n[l]=null,l++}n[l]=o,o=f,i--}t=null;for(var m=0;m<r;m++)c=n[m],c&&(t?(c.left.right=c.right,c.right.left=c.left,c.left=t,c.right=t.right,t.right=c,c.right.left=c,a(c.key,t.key)&&(t=c)):t=c);return t};return o}e.name="FibonacciHeap",e.path="type",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,a){var s=n(r(242)),u=n(r(251)),c=n(r(252)),l=n(r(253)),f=n(r(247)),p=n(r(248)),d=r(221),m=a("smaller",{"boolean, boolean":function(t,e){return t<e},"number, number":function(t,r){return t<r&&!i(t,r,e.epsilon)},"BigNumber, BigNumber":function(t,r){return t.lt(r)&&!o(t,r,e.epsilon)},"Fraction, Fraction":function(t,e){return t.compare(e)===-1},"Complex, Complex":function(t,e){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return m(t.value,e.value)},"string, string":function(t,e){return t<e},"Matrix, Matrix":function(t,e){var r;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":r=c(t,e,m);break;default:r=u(e,t,m,!0)}break;default:switch(e.storage()){case"sparse":r=u(t,e,m,!1);break;default:r=f(t,e,m)}}return r},"Array, Array":function(t,e){return m(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return m(s(t),e)},"Matrix, Array":function(t,e){return m(t,s(e))},"Matrix, any":function(t,e){var r;switch(t.storage()){case"sparse":r=l(t,e,m,!1);break;default:r=p(t,e,m,!1)}return r},"any, Matrix":function(t,e){var r;switch(e.storage()){case"sparse":r=l(e,t,m,!0);break;default:r=p(e,t,m,!0)}return r},"Array, any":function(t,e){return p(s(t),e,m,!1).valueOf()},"any, Array":function(t,e){return p(s(e),t,m,!0).valueOf()}});return m.toTex={2:"\\left(${args[0]}"+d.operators.smaller+"${args[1]}\\right)"},m}var i=r(196).nearlyEqual,o=r(239);e.name="smaller",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var o=t.DenseMatrix,a=function(t,e,r,a){var s=t._data,u=t._size,c=t._datatype,l=e._values,f=e._index,p=e._ptr,d=e._size,m=e._datatype;if(u.length!==d.length)throw new i(u.length,d.length);if(u[0]!==d[0]||u[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+d+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var h,v=u[0],g=u[1],y=0,_=r;"string"==typeof c&&c===m&&(h=c,y=n.convert(0,h),_=n.find(r,[h,h]));for(var x=[],w=0;w<v;w++)x[w]=[];for(var b=[],N=[],z=0;z<g;z++){for(var A=z+1,E=p[z],M=p[z+1],O=E;O<M;O++){var S=f[O];b[S]=a?_(l[O],s[S][z]):_(s[S][z],l[O]),N[S]=A}for(var k=0;k<v;k++)N[k]===A?x[k][z]=b[k]:x[k][z]=a?_(y,s[k][z]):_(s[k][z],y)}return new o({data:x,size:[v,g],datatype:h})};return a}var i=r(231);e.name="algorithm03",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var o=t.DenseMatrix,a=function(t,e,r){var a=t._size,u=t._datatype,c=e._size,l=e._datatype;if(a.length!==c.length)throw new i(a.length,c.length);if(a[0]!==c[0]||a[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+c+")");var f,p=a[0],d=a[1],m=0,h=r;"string"==typeof u&&u===l&&(f=u,m=n.convert(0,f),h=n.find(r,[f,f]));var v,g,y=[];for(v=0;v<p;v++)y[v]=[];var _=new o({data:y,size:[p,d],datatype:f}),x=[],w=[],b=[],N=[];for(g=0;g<d;g++){var z=g+1;for(s(t,g,b,x,z),s(e,g,N,w,z),v=0;v<p;v++){var A=b[v]===z?x[v]:m,E=N[v]===z?w[v]:m;y[v][g]=h(A,E)}}return _},s=function(t,e,r,n,i){for(var o=t._values,a=t._index,s=t._ptr,u=s[e],c=s[e+1];u<c;u++){var l=a[u];r[l]=i,n[l]=o[u]}};return a}var i=r(231);e.name="algorithm07",e.factory=n},function(t,e){"use strict";function r(t,e,r,n){var i=t.DenseMatrix,o=function(t,e,r,o){var a=t._values,s=t._index,u=t._ptr,c=t._size,l=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f,p=c[0],d=c[1],m=r;"string"==typeof l&&(f=l,e=n.convert(e,f),m=n.find(r,[f,f]));for(var h=[],v=new i({data:h,size:[p,d],datatype:f}),g=[],y=[],_=0;_<d;_++){for(var x=_+1,w=u[_],b=u[_+1],N=w;N<b;N++){var z=s[N];g[z]=a[N],y[z]=x}for(var A=0;A<p;A++)0===_&&(h[A]=[]),y[A]===x?h[A][_]=o?m(e,g[A]):m(g[A],e):h[A][_]=o?m(e,0):m(0,e)}return v};return o}e.name="algorithm12",e.factory=r},function(t,e,r){"use strict";function n(t,e,n,a){var s=n(r(242)),u=n(r(251)),c=n(r(252)),l=n(r(253)),f=n(r(247)),p=n(r(248)),d=r(221),m=a("larger",{"boolean, boolean":function(t,e){return t>e},"number, number":function(t,r){return t>r&&!i(t,r,e.epsilon)},"BigNumber, BigNumber":function(t,r){return t.gt(r)&&!o(t,r,e.epsilon)},"Fraction, Fraction":function(t,e){return 1===t.compare(e)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return m(t.value,e.value)},"string, string":function(t,e){return t>e},"Matrix, Matrix":function(t,e){var r;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":r=c(t,e,m);break;default:r=u(e,t,m,!0)}break;default:switch(e.storage()){case"sparse":r=u(t,e,m,!1);break;default:r=f(t,e,m)}}return r},"Array, Array":function(t,e){return m(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return m(s(t),e)},"Matrix, Array":function(t,e){return m(t,s(e))},"Matrix, any":function(t,e){var r;switch(t.storage()){case"sparse":r=l(t,e,m,!1);break;default:r=p(t,e,m,!1)}return r},"any, Matrix":function(t,e){var r;switch(e.storage()){case"sparse":r=l(e,t,m,!0);break;default:r=p(e,t,m,!0)}return r},"Array, any":function(t,e){return p(s(t),e,m,!1).valueOf()},"any, Array":function(t,e){return p(s(e),t,m,!0).valueOf()}});return m.toTex={2:"\\left(${args[0]}"+d.operators.larger+"${args[1]}\\right)"},m}var i=r(196).nearlyEqual,o=r(239);e.name="larger",e.factory=n},function(t,e,r){"use strict";function n(t,e,n){function o(t,e){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!u(e))throw new Error("Invalid datatype: "+e);if(t&&t.isMatrix===!0||s(t)){var r=new c(t,e);this._data=r._data,this._size=r._size,this._datatype=r._datatype,this._min=null,this._max=null}else if(t&&s(t.data)&&s(t.size))this._data=t.data,this._size=t.size,this._datatype=t.datatype,this._min="undefined"!=typeof t.min?t.min:null,this._max="undefined"!=typeof t.max?t.max:null;else{if(t)throw new TypeError("Unsupported type of data ("+i.types.type(t)+")");this._data=[],this._size=[0],this._datatype=e,this._min=null,this._max=null}}var c=n(r(235)),l=n(r(250));return o.prototype=new c,o.prototype.type="ImmutableDenseMatrix",o.prototype.isImmutableDenseMatrix=!0,o.prototype.subset=function(t){switch(arguments.length){case 1:var e=c.prototype.subset.call(this,t);return e.isMatrix?new o({data:e._data,size:e._size,datatype:e._datatype}):e;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},o.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},o.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},o.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},o.prototype.clone=function(){var t=new o({data:a.clone(this._data),size:a.clone(this._size),datatype:this._datatype});return t},o.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},o.fromJSON=function(t){return new o(t)},o.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},o.prototype.min=function(){if(null===this._min){var t=null;this.forEach(function(e){(null===t||l(e,t))&&(t=e)}),this._min=null!==t?t:void 0}return this._min},o.prototype.max=function(){if(null===this._max){var t=null;this.forEach(function(e){(null===t||l(t,e))&&(t=e)}),this._max=null!==t?t:void 0}return this._max},o}var i=r(228),o=i.string,a=i.object,s=Array.isArray,u=o.isString;e.name="ImmutableDenseMatrix",e.path="type",e.factory=n},function(t,e,r){"use strict";function n(t){function e(t){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var n=0,i=arguments.length;n<i;n++){var o=arguments[n];if(o&&o.isRange===!0)this._dimensions.push(o),this._isScalar=!1;else if(o&&(Array.isArray(o)||o.isMatrix===!0)){var a=r(o.valueOf());this._dimensions.push(a);var s=a.size();1===s.length&&1===s[0]||(this._isScalar=!1)}else if("number"==typeof o)this._dimensions.push(r([o]));else{if("string"!=typeof o)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(o)}}}function r(e){for(var r=0,n=e.length;r<n;r++)if("number"!=typeof e[r]||!o(e[r]))throw new TypeError("Index parameters must be positive integer numbers");return new t.ImmutableDenseMatrix(e)}return e.prototype.type="Index",e.prototype.isIndex=!0,e.prototype.clone=function(){var t=new e;return t._dimensions=i(this._dimensions),t._isScalar=this._isScalar,t},e.create=function(t){var r=new e;return e.apply(r,t),r},e.prototype.size=function(){for(var t=[],e=0,r=this._dimensions.length;e<r;e++){var n=this._dimensions[e];t[e]="string"==typeof n?1:n.size()[0]}return t},e.prototype.max=function(){for(var t=[],e=0,r=this._dimensions.length;e<r;e++){var n=this._dimensions[e];t[e]="string"==typeof n?n:n.max()}return t},e.prototype.min=function(){for(var t=[],e=0,r=this._dimensions.length;e<r;e++){var n=this._dimensions[e];t[e]="string"==typeof n?n:n.min()}return t},e.prototype.forEach=function(t){for(var e=0,r=this._dimensions.length;e<r;e++)t(this._dimensions[e],e,this)},e.prototype.dimension=function(t){return this._dimensions[t]||null},e.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},e.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},e.prototype.isScalar=function(){return this._isScalar},e.prototype.toArray=function(){for(var t=[],e=0,r=this._dimensions.length;e<r;e++){var n=this._dimensions[e];t.push("string"==typeof n?n:n.toArray())}return t},e.prototype.valueOf=e.prototype.toArray,e.prototype.toString=function(){for(var t=[],e=0,r=this._dimensions.length;e<r;e++){var n=this._dimensions[e];"string"==typeof n?t.push(JSON.stringify(n)):t.push(n.toString())}return"["+t.join(", ")+"]"},e.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},e.fromJSON=function(t){return e.create(t.dimensions)},e}var i=r(193).clone,o=r(196).isInteger;e.name="Index",e.path="type",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){function o(t,e,r){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(null!=t)if(t.isBigNumber===!0)t=t.toNumber();else if("number"!=typeof t)throw new TypeError("Parameter start must be a number");if(null!=e)if(e.isBigNumber===!0)e=e.toNumber();else if("number"!=typeof e)throw new TypeError("Parameter end must be a number");if(null!=r)if(r.isBigNumber===!0)r=r.toNumber();else if("number"!=typeof r)throw new TypeError("Parameter step must be a number");this.start=null!=t?parseFloat(t):0,this.end=null!=e?parseFloat(e):0,this.step=null!=r?parseFloat(r):1}return o.prototype.type="Range",o.prototype.isRange=!0,o.parse=function(t){if("string"!=typeof t)return null;var e=t.split(":"),r=e.map(function(t){return parseFloat(t)}),n=r.some(function(t){return isNaN(t)});if(n)return null;switch(r.length){case 2:return new o(r[0],r[1]);case 3:return new o(r[0],r[2],r[1]);default:return null}},o.prototype.clone=function(){return new o(this.start,this.end,this.step)},o.prototype.size=function(){var t=0,e=this.start,r=this.step,n=this.end,o=n-e;return i.sign(r)==i.sign(o)?t=Math.ceil(o/r):0==o&&(t=0),isNaN(t)&&(t=0),[t]},o.prototype.min=function(){var t=this.size()[0];return t>0?this.step>0?this.start:this.start+(t-1)*this.step:void 0},o.prototype.max=function(){var t=this.size()[0];return t>0?this.step>0?this.start+(t-1)*this.step:this.start:void 0},o.prototype.forEach=function(t){var e=this.start,r=this.step,n=this.end,i=0;if(r>0)for(;e<n;)t(e,[i],this),e+=r,i++;else if(r<0)for(;e>n;)t(e,[i],this),e+=r,i++},o.prototype.map=function(t){var e=[];return this.forEach(function(r,n,i){e[n[0]]=t(r,n,i)}),e},o.prototype.toArray=function(){var t=[];return this.forEach(function(e,r){t[r[0]]=e}),t},o.prototype.valueOf=function(){return this.toArray()},o.prototype.format=function(t){var e=i.format(this.start,t);return 1!=this.step&&(e+=":"+i.format(this.step,t)),e+=":"+i.format(this.end,t)},o.prototype.toString=function(){return this.format()},o.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},o.fromJSON=function(t){return new o(t.start,t.end,t.step)},o}var i=r(196);e.name="Range",e.path="type",e.factory=n},function(t,e){"use strict";function r(t,e,r,n){return n("index",{"...number | string | BigNumber | Range | Array | Matrix":function(e){var r=e.map(function(t){return t&&t.isBigNumber===!0?t.toNumber():t&&(Array.isArray(t)||t.isMatrix===!0)?t.map(function(t){return t&&t.isBigNumber===!0?t.toNumber():t}):t}),n=new t.Index;return t.Index.apply(n,r),n}})}e.name="index",e.factory=r},function(t,e){"use strict";function r(t,e,r,n){var i=t.SparseMatrix,o=n("sparse",{"":function(){return new i([])},string:function(t){return new i([],t)},"Array | Matrix":function(t){return new i(t)},"Array | Matrix, string":function(t,e){return new i(t,e)}});return o.toTex={0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},o}e.name="sparse",e.factory=r},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("number",{"":function(){return 0},number:function(t){return t},string:function(t){var e=Number(t);if(isNaN(e))throw new SyntaxError('String "'+t+'" is no valid number');return e},BigNumber:function(t){return t.toNumber()},Fraction:function(t){return t.valueOf()},Unit:function(t){throw new Error("Second argument with valueless unit expected")},"Unit, string | Unit":function(t,e){return t.toNumber(e)},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},o}var i=r(208);e.name="number",e.factory=n},function(t,e,r){"use strict";t.exports=[r(262)]},function(t,e){"use strict";function r(t,e,r,n){function i(t){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this.entries=t||[]}return i.prototype.type="ResultSet",i.prototype.isResultSet=!0,i.prototype.valueOf=function(){return this.entries},i.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},i.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},i.fromJSON=function(t){return new i(t.entries)},i}e.name="ResultSet",e.path="type",e.factory=r},function(t,e,r){"use strict";function n(t,e,r,n){var a=n("string",{"":function(){return""},number:o.format,"null":function(t){return"null"},"boolean":function(t){return t+""},string:function(t){return t},"Array | Matrix":function(t){return i(t,a)},any:function(t){return String(t)}});return a.toTex={0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},a}var i=r(208),o=r(196);e.name="string",e.factory=n},function(t,e,r){"use strict";t.exports=[r(265),r(284),r(285),r(286),r(287)]},function(t,e,r){"use strict";function n(t,e,n,u,c){function l(t,e){if(!(this instanceof l))throw new Error("Constructor must be called with the new operator");if(void 0!=t&&!T(t)&&!t.isComplex)throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(void 0!=e&&("string"!=typeof e||""==e))throw new TypeError("Second parameter in Unit constructor must be a string");if(void 0!=e){var r=l.parse(e);this.units=r.units,this.dimensions=r.dimensions}else{this.units=[{unit:G,prefix:F.NONE,power:0}],this.dimensions=[];for(var n=0;n<D.length;n++)this.dimensions[n]=0}this.value=void 0!=t?this._normalize(t):null,this.fixPrefix=!1,this.isUnitListSimplified=!0}function f(){for(;" "==L||"\t"==L;)m()}function p(t){return t>="0"&&t<="9"||"."==t}function d(t){return t>="0"&&t<="9"}function m(){U++,L=P.charAt(U)}function h(t){U=t,L=P.charAt(U)}function v(){var t,e="";if(t=U,"+"==L?m():"-"==L&&(e+=L,m()),!p(L))return h(t),null;if("."==L){if(e+=L,m(),!d(L))return h(t),null}else{for(;d(L);)e+=L,m();"."==L&&(e+=L,m())}for(;d(L);)e+=L,m();if("E"==L||"e"==L){var r="",n=U;if(r+=L,m(),"+"!=L&&"-"!=L||(r+=L,m()),!d(L))return h(n),e;for(e+=r;d(L);)e+=L,m()}return e}function g(){for(var t="",e=P.charCodeAt(U);e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122;)t+=L,m(),e=P.charCodeAt(U);return e=t.charCodeAt(0),e>=65&&e<=90||e>=97&&e<=122?t||null:null}function y(t){return L===t?(m(),t):null}function _(t){if(V.hasOwnProperty(t)){var e=V[t],r=e.prefixes[""];return{unit:e,prefix:r}}for(var n in V)if(V.hasOwnProperty(n)&&o(t,n)){var e=V[n],i=t.length-n.length,a=t.substring(0,i),r=e.prefixes.hasOwnProperty(a)?e.prefixes[a]:void 0;if(void 0!==r)return{unit:e,prefix:r}}return null}function x(e){if("BigNumber"===e.number){var r=s.pi(t.BigNumber);V.rad.value=new t.BigNumber(1),V.deg.value=r.div(180),V.grad.value=r.div(200),V.cycle.value=r.times(2),V.arcsec.value=r.div(648e3),V.arcmin.value=r.div(10800)}else V.rad.value=1,V.deg.value=Math.PI/180,V.grad.value=Math.PI/200,V.cycle.value=2*Math.PI,V.arcsec.value=Math.PI/648e3,V.arcmin.value=Math.PI/10800}function w(t){for(var e=0;e<t.length;e++){var r=t.charAt(e),n=function(t){return/^[a-zA-Z]$/.test(t)},i=function(t){return t>="0"&&t<="9"};if(0===e&&!n(r))throw new Error('Invalid unit name (must begin with alpha character): "'+t+'"');if(e>0&&!n(r)&&!i(r))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+t+'"')}}var b=n(r(243)),N=n(r(267)),z=n(r(270)),A=n(r(271)),E=n(r(272)),M=n(r(276)),O=n(r(277)),S=n(r(278)),k=n(r(280)),T=n(r(281)),C=n(r(282)),B=n(r(283)),I=n(r(260)),R=n(r(216));l.prototype.type="Unit",l.prototype.isUnit=!0;var P,U,L;l.parse=function(r,n){if(n=n||{},P=r,U=-1,L="","string"!=typeof P)throw new TypeError("Invalid argument in Unit.parse, string expected");var i=new l;i.units=[],m(),f();var o=v(),a=null;o&&(a="BigNumber"===e.number?new t.BigNumber(o):"Fraction"===e.number?new t.Fraction(o):parseFloat(o)),f();for(var s=1,u=!1,c=[],p=1;;){for(f();"("===L;)c.push(s),p*=s,s=1,m(),f();if(!L)break;var d=L,h=g();if(null==h)throw new SyntaxError('Unexpected "'+d+'" in "'+P+'" at index '+U.toString());var x=_(h);if(null==x)throw new SyntaxError('Unit "'+h+'" not found.');var w=s*p;if(f(),y("^")){f();var b=v();if(null==b)throw new SyntaxError('In "'+r+'", "^" must be followed by a floating-point number');w*=b}i.units.push({unit:x.unit,prefix:x.prefix,power:w});for(var N=0;N<D.length;N++)i.dimensions[N]+=(x.unit.dimensions[N]||0)*w;for(f();")"===L;){if(0===c.length)throw new SyntaxError('Unmatched ")" in "'+P+'" at index '+U.toString());p/=c.pop(),m(),f()}if(u=!1,y("*")?(s=1,u=!0):y("/")?(s=-1,u=!0):s=1,x.unit.base){var z=x.unit.base.key;W.auto[z]={unit:x.unit,prefix:x.prefix}}}if(f(),L)throw new SyntaxError('Could not parse: "'+r+'"');if(u)throw new SyntaxError('Trailing characters: "'+r+'"');if(0!==c.length)throw new SyntaxError('Unmatched "(" in "'+P+'"');if(0==i.units.length&&!n.allowNoUnits)throw new SyntaxError('"'+r+'" contains no units');return i.value=void 0!=a?i._normalize(a):null,i},l.prototype.clone=function(){var t=new l;t.fixPrefix=this.fixPrefix,t.isUnitListSimplified=this.isUnitListSimplified,t.value=a(this.value),t.dimensions=this.dimensions.slice(0),t.units=[];for(var e=0;e<this.units.length;e++){t.units[e]={};for(var r in this.units[e])this.units[e].hasOwnProperty(r)&&(t.units[e][r]=this.units[e][r])}return t},l.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},l.prototype._normalize=function(t){var e,r,n,i,o;if(null==t||0===this.units.length)return t;if(this._isDerived()){var a=t;o=l._getNumberConverter(B(t));for(var s=0;s<this.units.length;s++)e=o(this.units[s].unit.value),i=o(this.units[s].prefix.value),n=o(this.units[s].power),a=z(a,E(z(e,i),n));return a}return o=l._getNumberConverter(B(t)),e=o(this.units[0].unit.value),
r=o(this.units[0].unit.offset),i=o(this.units[0].prefix.value),z(b(t,r),z(e,i))},l.prototype._denormalize=function(t,e){var r,n,i,o,a;if(null==t||0===this.units.length)return t;if(this._isDerived()){var s=t;a=l._getNumberConverter(B(t));for(var u=0;u<this.units.length;u++)r=a(this.units[u].unit.value),o=a(this.units[u].prefix.value),i=a(this.units[u].power),s=A(s,E(z(r,o),i));return s}return a=l._getNumberConverter(B(t)),r=a(this.units[0].unit.value),o=a(this.units[0].prefix.value),n=a(this.units[0].unit.offset),void 0==e?N(A(A(t,r),o),n):N(A(A(t,r),e),n)},l.isValuelessUnit=function(t){return null!=_(t)},l.prototype.hasBase=function(t){if("string"==typeof t&&(t=$[t]),!t)return!1;for(var e=0;e<D.length;e++)if(Math.abs((this.dimensions[e]||0)-(t.dimensions[e]||0))>1e-12)return!1;return!0},l.prototype.equalBase=function(t){for(var e=0;e<D.length;e++)if(Math.abs((this.dimensions[e]||0)-(t.dimensions[e]||0))>1e-12)return!1;return!0},l.prototype.equals=function(t){return this.equalBase(t)&&k(this.value,t.value)},l.prototype.multiply=function(t){for(var e=this.clone(),r=0;r<D.length;r++)e.dimensions[r]=(this.dimensions[r]||0)+(t.dimensions[r]||0);for(var r=0;r<t.units.length;r++){var n={};for(var i in t.units[r])n[i]=t.units[r][i];e.units.push(n)}if(null!=this.value||null!=t.value){var o=null==this.value?this._normalize(1):this.value,a=null==t.value?t._normalize(1):t.value;e.value=z(o,a)}else e.value=null;return e.isUnitListSimplified=!1,q(e)},l.prototype.divide=function(t){for(var e=this.clone(),r=0;r<D.length;r++)e.dimensions[r]=(this.dimensions[r]||0)-(t.dimensions[r]||0);for(var r=0;r<t.units.length;r++){var n={};for(var i in t.units[r])n[i]=t.units[r][i];n.power=-n.power,e.units.push(n)}if(null!=this.value||null!=t.value){var o=null==this.value?this._normalize(1):this.value,a=null==t.value?t._normalize(1):t.value;e.value=A(o,a)}else e.value=null;return e.isUnitListSimplified=!1,q(e)},l.prototype.pow=function(t){for(var e=this.clone(),r=0;r<D.length;r++)e.dimensions[r]=(this.dimensions[r]||0)*t;for(var r=0;r<e.units.length;r++)e.units[r].power*=t;return null!=e.value?e.value=E(e.value,t):e.value=null,e.isUnitListSimplified=!1,q(e)};var q=function(t){return t.equalBase($.NONE)&&null!==t.value&&!e.predictable?t.value:t};l.prototype.abs=function(){var t=this.clone();t.value=M(t.value);for(var e in t.units)"VA"!==t.units[e].unit.name&&"VAR"!==t.units[e].unit.name||(t.units[e].unit=V.W);return t},l.prototype.to=function(t){var e,r=null==this.value?this._normalize(1):this.value;if("string"==typeof t){if(e=l.parse(t),!this.equalBase(e))throw new Error("Units do not match");if(null!==e.value)throw new Error("Cannot convert to a unit with a value");return e.value=a(r),e.fixPrefix=!0,e.isUnitListSimplified=!0,e}if(t&&t.isUnit){if(!this.equalBase(t))throw new Error("Units do not match");if(null!==t.value)throw new Error("Cannot convert to a unit with a value");return e=t.clone(),e.value=a(r),e.fixPrefix=!0,e.isUnitListSimplified=!0,e}throw new Error("String or Unit expected as parameter")},l.prototype.toNumber=function(t){return I(this.toNumeric(t))},l.prototype.toNumeric=function(t){var e=this;return t&&(e=this.to(t)),e._isDerived()?e._denormalize(e.value):e._denormalize(e.value,e.units[0].prefix.value)},l.prototype.toString=function(){return this.format()},l.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},l.fromJSON=function(t){var e=new l(t.value,t.unit);return e.fixPrefix=t.fixPrefix||!1,e},l.prototype.valueOf=l.prototype.toString,l.prototype.simplifyUnitListLazy=function(){if(!this.isUnitListSimplified&&null!=this.value){var t,e=[];for(var r in Y)if(this.hasBase($[r])){t=r;break}if("NONE"===t)this.units=[];else{var n;t&&Y.hasOwnProperty(t)&&(n=Y[t]);if(n)this.units=[{unit:n.unit,prefix:n.prefix,power:1}];else{for(var i=!1,o=0;o<D.length;o++){var a=D[o];Math.abs(this.dimensions[o]||0)>1e-12&&(Y.hasOwnProperty(a)?e.push({unit:Y[a].unit,prefix:Y[a].prefix,power:this.dimensions[o]||0}):i=!0)}e.length<this.units.length&&!i&&(this.units=e)}}this.isUnitListSimplified=!0}},l.prototype.toSI=function(){for(var t=this.clone(),e=[],r=0;r<D.length;r++){var n=D[r];if(Math.abs(t.dimensions[r]||0)>1e-12){if(!W.si.hasOwnProperty(n))throw new Error("Cannot express custom unit "+n+" in SI units");e.push({unit:W.si[n].unit,prefix:W.si[n].prefix,power:t.dimensions[r]||0})}}return t.units=e,t.isUnitListSimplified=!0,t},l.prototype.formatUnits=function(){this.simplifyUnitListLazy();for(var t="",e="",r=0,n=0,i=0;i<this.units.length;i++)this.units[i].power>0?(r++,t+=" "+this.units[i].prefix.name+this.units[i].unit.name,Math.abs(this.units[i].power-1)>1e-15&&(t+="^"+this.units[i].power)):this.units[i].power<0&&n++;if(n>0)for(var i=0;i<this.units.length;i++)this.units[i].power<0&&(r>0?(e+=" "+this.units[i].prefix.name+this.units[i].unit.name,Math.abs(this.units[i].power+1)>1e-15&&(e+="^"+-this.units[i].power)):(e+=" "+this.units[i].prefix.name+this.units[i].unit.name,e+="^"+this.units[i].power));t=t.substr(1),e=e.substr(1),r>1&&n>0&&(t="("+t+")"),n>1&&r>0&&(e="("+e+")");var o=t;return r>0&&n>0&&(o+=" / "),o+=e},l.prototype.format=function(t){this.simplifyUnitListLazy();var e=!1,r=!0;"undefined"!=typeof this.value&&null!==this.value&&this.value.isComplex&&(e=Math.abs(this.value.re)<1e-14,r=Math.abs(this.value.im)<1e-14);for(var n in this.units)this.units[n].unit&&("VA"===this.units[n].unit.name&&e?this.units[n].unit=V.VAR:"VAR"!==this.units[n].unit.name||e||(this.units[n].unit=V.VA));1!==this.units.length||this.fixPrefix||Math.abs(this.units[0].power-Math.round(this.units[0].power))<1e-14&&(this.units[0].prefix=this._bestPrefix());var i=this._denormalize(this.value),o=null!==this.value?C(i,t||{}):"",a=this.formatUnits();return this.value&&this.value.isComplex&&(o="("+o+")"),a.length>0&&o.length>0&&(o+=" "),o+=a},l.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var t=M(this.value),e=M(this.units[0].unit.value),r=this.units[0].prefix;if(0===t)return r;var n=this.units[0].power,i=Math.log(t/Math.pow(r.value*e,n))/Math.LN10-1.2;if(i>-2.200001&&i<1.800001)return r;i=Math.abs(i);var o=this.units[0].unit.prefixes;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];if(s.scientific){var u=Math.abs(Math.log(t/Math.pow(s.value*e,n))/Math.LN10-1.2);(u<i||u===i&&s.name.length<r.name.length)&&(r=s,i=u)}}return r},l.prototype.splitUnit=function(t){for(var e=this.clone(),r=[],n=0;n<t.length&&(e=e.to(t[n]),n!=t.length-1);n++){var i,o=e.toNumeric(),a=S(o),s=k(a,o);i=s?a:O(e.toNumeric());var u=new l(i,t[n].toString());r.push(u),e=N(e,u)}for(var c=0,n=0;n<r.length;n++)c=b(c,r[n].value);return k(c,this.value)&&(e.value=0),r.push(e),r};var F={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};F.SHORTLONG={};for(var j in F.SHORT)F.SHORT.hasOwnProperty(j)&&(F.SHORTLONG[j]=F.SHORT[j]);for(var j in F.LONG)F.LONG.hasOwnProperty(j)&&(F.SHORTLONG[j]=F.LONG[j]);var D=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],$={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var j in $)$[j].key=j;var H={},G={name:"",base:H,value:1,offset:0,dimensions:[0,0,0,0,0,0,0,0,0]},V={meter:{name:"meter",base:$.LENGTH,prefixes:F.LONG,value:1,offset:0},inch:{name:"inch",base:$.LENGTH,prefixes:F.NONE,value:.0254,offset:0},foot:{name:"foot",base:$.LENGTH,prefixes:F.NONE,value:.3048,offset:0},yard:{name:"yard",base:$.LENGTH,prefixes:F.NONE,value:.9144,offset:0},mile:{name:"mile",base:$.LENGTH,prefixes:F.NONE,value:1609.344,offset:0},link:{name:"link",base:$.LENGTH,prefixes:F.NONE,value:.201168,offset:0},rod:{name:"rod",base:$.LENGTH,prefixes:F.NONE,value:5.02921,offset:0},chain:{name:"chain",base:$.LENGTH,prefixes:F.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:$.LENGTH,prefixes:F.NONE,value:1e-10,offset:0},m:{name:"m",base:$.LENGTH,prefixes:F.SHORT,value:1,offset:0},"in":{name:"in",base:$.LENGTH,prefixes:F.NONE,value:.0254,offset:0},ft:{name:"ft",base:$.LENGTH,prefixes:F.NONE,value:.3048,offset:0},yd:{name:"yd",base:$.LENGTH,prefixes:F.NONE,value:.9144,offset:0},mi:{name:"mi",base:$.LENGTH,prefixes:F.NONE,value:1609.344,offset:0},li:{name:"li",base:$.LENGTH,prefixes:F.NONE,value:.201168,offset:0},rd:{name:"rd",base:$.LENGTH,prefixes:F.NONE,value:5.02921,offset:0},ch:{name:"ch",base:$.LENGTH,prefixes:F.NONE,value:20.1168,offset:0},mil:{name:"mil",base:$.LENGTH,prefixes:F.NONE,value:254e-7,offset:0},m2:{name:"m2",base:$.SURFACE,prefixes:F.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:$.SURFACE,prefixes:F.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:$.SURFACE,prefixes:F.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:$.SURFACE,prefixes:F.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:$.SURFACE,prefixes:F.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:$.SURFACE,prefixes:F.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:$.SURFACE,prefixes:F.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:$.SURFACE,prefixes:F.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:$.SURFACE,prefixes:F.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:$.SURFACE,prefixes:F.NONE,value:1e4,offset:0},m3:{name:"m3",base:$.VOLUME,prefixes:F.CUBIC,value:1,offset:0},L:{name:"L",base:$.VOLUME,prefixes:F.SHORT,value:.001,offset:0},l:{name:"l",base:$.VOLUME,prefixes:F.SHORT,value:.001,offset:0},litre:{name:"litre",base:$.VOLUME,prefixes:F.LONG,value:.001,offset:0},cuin:{name:"cuin",base:$.VOLUME,prefixes:F.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:$.VOLUME,prefixes:F.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:$.VOLUME,prefixes:F.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:$.VOLUME,prefixes:F.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:$.VOLUME,prefixes:F.NONE,value:15e-6,offset:0},drop:{name:"drop",base:$.VOLUME,prefixes:F.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:$.VOLUME,prefixes:F.NONE,value:5e-8,offset:0},minim:{name:"minim",base:$.VOLUME,prefixes:F.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:$.VOLUME,prefixes:F.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:$.VOLUME,prefixes:F.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:$.VOLUME,prefixes:F.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:$.VOLUME,prefixes:F.NONE,value:1e-6,offset:0},cup:{name:"cup",base:$.VOLUME,prefixes:F.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:$.VOLUME,prefixes:F.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:$.VOLUME,prefixes:F.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:$.VOLUME,prefixes:F.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:$.VOLUME,prefixes:F.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:$.VOLUME,prefixes:F.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:$.VOLUME,prefixes:F.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:$.VOLUME,prefixes:F.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:$.VOLUME,prefixes:F.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:$.VOLUME,prefixes:F.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:$.VOLUME,prefixes:F.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:$.VOLUME,prefixes:F.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:$.VOLUME,prefixes:F.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:$.VOLUME,prefixes:F.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:$.VOLUME,prefixes:F.NONE,value:.1173478,offset:0},obl:{name:"obl",base:$.VOLUME,prefixes:F.NONE,value:.1589873,offset:0},g:{name:"g",base:$.MASS,prefixes:F.SHORT,value:.001,offset:0},gram:{name:"gram",base:$.MASS,prefixes:F.LONG,value:.001,offset:0},ton:{name:"ton",base:$.MASS,prefixes:F.SHORT,value:907.18474,offset:0},tonne:{name:"tonne",base:$.MASS,prefixes:F.SHORT,value:1e3,offset:0},grain:{name:"grain",base:$.MASS,prefixes:F.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:$.MASS,prefixes:F.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:$.MASS,prefixes:F.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:$.MASS,prefixes:F.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:$.MASS,prefixes:F.NONE,value:45.359237,offset:0},stick:{name:"stick",base:$.MASS,prefixes:F.NONE,value:.115,offset:0},stone:{name:"stone",base:$.MASS,prefixes:F.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:$.MASS,prefixes:F.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:$.MASS,prefixes:F.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:$.MASS,prefixes:F.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:$.MASS,prefixes:F.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:$.MASS,prefixes:F.NONE,value:45.359237,offset:0},s:{name:"s",base:$.TIME,prefixes:F.SHORT,value:1,offset:0},min:{name:"min",base:$.TIME,prefixes:F.NONE,value:60,offset:0},h:{name:"h",base:$.TIME,prefixes:F.NONE,value:3600,offset:0},second:{name:"second",base:$.TIME,prefixes:F.LONG,value:1,offset:0},sec:{name:"sec",base:$.TIME,prefixes:F.LONG,value:1,offset:0},minute:{name:"minute",base:$.TIME,prefixes:F.NONE,value:60,offset:0},hour:{name:"hour",base:$.TIME,prefixes:F.NONE,value:3600,offset:0},day:{name:"day",base:$.TIME,prefixes:F.NONE,value:86400,offset:0},week:{name:"week",base:$.TIME,prefixes:F.NONE,value:604800,offset:0},month:{name:"month",base:$.TIME,prefixes:F.NONE,value:2629800,offset:0},year:{name:"year",base:$.TIME,prefixes:F.NONE,value:31557600,offset:0},decade:{name:"year",base:$.TIME,prefixes:F.NONE,value:315576e3,offset:0},century:{name:"century",base:$.TIME,prefixes:F.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:$.TIME,prefixes:F.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:$.FREQUENCY,prefixes:F.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:$.FREQUENCY,prefixes:F.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:$.ANGLE,prefixes:F.LONG,value:1,offset:0},deg:{name:"deg",base:$.ANGLE,prefixes:F.LONG,value:null,offset:0},grad:{name:"grad",base:$.ANGLE,prefixes:F.LONG,value:null,offset:0},cycle:{name:"cycle",base:$.ANGLE,prefixes:F.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:$.ANGLE,prefixes:F.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:$.ANGLE,prefixes:F.NONE,value:null,offset:0},A:{name:"A",base:$.CURRENT,prefixes:F.SHORT,value:1,offset:0},ampere:{name:"ampere",base:$.CURRENT,prefixes:F.LONG,value:1,offset:0},K:{name:"K",base:$.TEMPERATURE,prefixes:F.NONE,value:1,offset:0},degC:{name:"degC",base:$.TEMPERATURE,prefixes:F.NONE,value:1,offset:273.15},degF:{name:"degF",base:$.TEMPERATURE,prefixes:F.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:$.TEMPERATURE,prefixes:F.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:$.TEMPERATURE,prefixes:F.NONE,value:1,offset:0},celsius:{name:"celsius",base:$.TEMPERATURE,prefixes:F.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:$.TEMPERATURE,prefixes:F.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:$.TEMPERATURE,prefixes:F.NONE,value:1/1.8,offset:0},mol:{name:"mol",base:$.AMOUNT_OF_SUBSTANCE,prefixes:F.SHORT,value:1,offset:0},mole:{name:"mole",base:$.AMOUNT_OF_SUBSTANCE,prefixes:F.LONG,value:1,offset:0},cd:{name:"cd",base:$.LUMINOUS_INTENSITY,prefixes:F.NONE,value:1,offset:0},candela:{name:"candela",base:$.LUMINOUS_INTENSITY,prefixes:F.NONE,value:1,offset:0},N:{name:"N",base:$.FORCE,prefixes:F.SHORT,value:1,offset:0},newton:{name:"newton",base:$.FORCE,prefixes:F.LONG,value:1,offset:0},dyn:{name:"dyn",base:$.FORCE,prefixes:F.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:$.FORCE,prefixes:F.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:$.FORCE,prefixes:F.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:$.FORCE,prefixes:F.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:$.FORCE,prefixes:F.LONG,value:4448.2216,offset:0},J:{name:"J",base:$.ENERGY,prefixes:F.SHORT,value:1,offset:0},joule:{name:"joule",base:$.ENERGY,prefixes:F.SHORT,value:1,offset:0},erg:{name:"erg",base:$.ENERGY,prefixes:F.NONE,value:1e-7,offset:0},Wh:{name:"Wh",base:$.ENERGY,prefixes:F.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:$.ENERGY,prefixes:F.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:$.ENERGY,prefixes:F.SHORT,value:1.602176565e-19,offset:0},electronvolt:{name:"electronvolt",base:$.ENERGY,prefixes:F.LONG,value:1.602176565e-19,offset:0},W:{name:"W",base:$.POWER,prefixes:F.SHORT,value:1,offset:0},watt:{name:"W",base:$.POWER,prefixes:F.LONG,value:1,offset:0},hp:{name:"hp",base:$.POWER,prefixes:F.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:$.POWER,prefixes:F.SHORT,value:R.I,offset:0},VA:{name:"VA",base:$.POWER,prefixes:F.SHORT,value:1,offset:0},Pa:{name:"Pa",base:$.PRESSURE,prefixes:F.SHORT,value:1,offset:0},psi:{name:"psi",base:$.PRESSURE,prefixes:F.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:$.PRESSURE,prefixes:F.NONE,value:101325,offset:0},bar:{name:"bar",base:$.PRESSURE,prefixes:F.NONE,value:1e5,offset:0},torr:{name:"torr",base:$.PRESSURE,prefixes:F.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:$.PRESSURE,prefixes:F.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:$.PRESSURE,prefixes:F.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:$.PRESSURE,prefixes:F.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:$.ELECTRIC_CHARGE,prefixes:F.LONG,value:1,offset:0},C:{name:"C",base:$.ELECTRIC_CHARGE,prefixes:F.SHORT,value:1,offset:0},farad:{name:"farad",base:$.ELECTRIC_CAPACITANCE,prefixes:F.LONG,value:1,offset:0},F:{name:"F",base:$.ELECTRIC_CAPACITANCE,prefixes:F.SHORT,value:1,offset:0},volt:{name:"volt",base:$.ELECTRIC_POTENTIAL,prefixes:F.LONG,value:1,offset:0},V:{name:"V",base:$.ELECTRIC_POTENTIAL,prefixes:F.SHORT,value:1,offset:0},ohm:{name:"ohm",base:$.ELECTRIC_RESISTANCE,prefixes:F.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:$.ELECTRIC_INDUCTANCE,prefixes:F.LONG,value:1,offset:0},H:{name:"H",base:$.ELECTRIC_INDUCTANCE,prefixes:F.SHORT,value:1,offset:0},siemens:{name:"siemens",base:$.ELECTRIC_CONDUCTANCE,prefixes:F.LONG,value:1,offset:0},S:{name:"S",base:$.ELECTRIC_CONDUCTANCE,prefixes:F.SHORT,value:1,offset:0},weber:{name:"weber",base:$.MAGNETIC_FLUX,prefixes:F.LONG,value:1,offset:0},Wb:{name:"Wb",base:$.MAGNETIC_FLUX,prefixes:F.SHORT,value:1,offset:0},tesla:{name:"tesla",base:$.MAGNETIC_FLUX_DENSITY,prefixes:F.LONG,value:1,offset:0},T:{name:"T",base:$.MAGNETIC_FLUX_DENSITY,prefixes:F.SHORT,value:1,offset:0},b:{name:"b",base:$.BIT,prefixes:F.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:$.BIT,prefixes:F.BINARY_LONG,value:1,offset:0},B:{name:"B",base:$.BIT,prefixes:F.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:$.BIT,prefixes:F.BINARY_LONG,value:8,offset:0}},Z={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",hertz:"hertz",radians:"rad",degree:"deg",degrees:"deg",gradian:"grad",gradians:"grad",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole"};x(e),c.on("config",function(t,e){t.number!==e.number&&x(t)});var W={si:{NONE:{unit:G,prefix:F.NONE[""]},LENGTH:{unit:V.m,prefix:F.SHORT[""]},MASS:{unit:V.g,prefix:F.SHORT.k},TIME:{unit:V.s,prefix:F.SHORT[""]},CURRENT:{unit:V.A,prefix:F.SHORT[""]},TEMPERATURE:{unit:V.K,prefix:F.SHORT[""]},LUMINOUS_INTENSITY:{unit:V.cd,prefix:F.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:V.mol,prefix:F.SHORT[""]},ANGLE:{unit:V.rad,prefix:F.SHORT[""]},BIT:{unit:V.bit,prefix:F.SHORT[""]},FORCE:{unit:V.N,prefix:F.SHORT[""]},ENERGY:{unit:V.J,prefix:F.SHORT[""]},POWER:{unit:V.W,prefix:F.SHORT[""]},PRESSURE:{unit:V.Pa,prefix:F.SHORT[""]},ELECTRIC_CHARGE:{unit:V.C,prefix:F.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:V.F,prefix:F.SHORT[""]},ELECTRIC_POTENTIAL:{unit:V.V,prefix:F.SHORT[""]},ELECTRIC_RESISTANCE:{unit:V.ohm,prefix:F.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:V.H,prefix:F.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:V.S,prefix:F.SHORT[""]},MAGNETIC_FLUX:{unit:V.Wb,prefix:F.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:V.T,prefix:F.SHORT[""]},FREQUENCY:{unit:V.Hz,prefix:F.SHORT[""]}}};W.cgs=JSON.parse(JSON.stringify(W.si)),W.cgs.LENGTH={unit:V.m,prefix:F.SHORT.c},W.cgs.MASS={unit:V.g,prefix:F.SHORT[""]},W.cgs.FORCE={unit:V.dyn,prefix:F.SHORT[""]},W.cgs.ENERGY={unit:V.erg,prefix:F.NONE[""]},W.us=JSON.parse(JSON.stringify(W.si)),W.us.LENGTH={unit:V.ft,prefix:F.NONE[""]},W.us.MASS={unit:V.lbm,prefix:F.NONE[""]},W.us.TEMPERATURE={unit:V.degF,prefix:F.NONE[""]},W.us.FORCE={unit:V.lbf,prefix:F.NONE[""]},W.us.ENERGY={unit:V.BTU,prefix:F.BTU[""]},W.us.POWER={unit:V.hp,prefix:F.NONE[""]},W.us.PRESSURE={unit:V.psi,prefix:F.NONE[""]},W.auto=JSON.parse(JSON.stringify(W.si));var Y=W.auto;l.setUnitSystem=function(t){if(!W.hasOwnProperty(t))throw new Error("Unit system "+t+" does not exist. Choices are: "+Object.keys(W).join(", "));Y=W[t]},l.getUnitSystem=function(){for(var t in W)if(W[t]===Y)return t},l.typeConverters={BigNumber:function(e){return new t.BigNumber(e+"")},Fraction:function(e){return new t.Fraction(e)},Complex:function(t){return t},number:function(t){return t}},l._getNumberConverter=function(t){if(!l.typeConverters[t])throw new TypeError('Unsupported type "'+t+'"');return l.typeConverters[t]};for(var j in V){var X=V[j];X.dimensions=X.base.dimensions}for(var J in Z)if(Z.hasOwnProperty(J)){var X=V[Z[J]],Q={};for(var j in X)X.hasOwnProperty(j)&&(Q[j]=X[j]);Q.name=J,V[J]=Q}return l.createUnit=function(t,e){if("object"!==("undefined"==typeof t?"undefined":i(t)))throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(e&&e.override)for(var r in t)if(t.hasOwnProperty(r)&&l.deleteUnit(r),t[r].aliases)for(var n=0;n<t[r].aliases.length;n++)l.deleteUnit(t[r].aliases[n]);var o;for(var r in t)t.hasOwnProperty(r)&&(o=l.createUnitSingle(r,t[r]));return o},l.createUnitSingle=function(t,e,r){if("undefined"!=typeof e&&null!==e||(e={}),"string"!=typeof t)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(V.hasOwnProperty(t))throw new Error('Cannot create unit "'+t+'": a unit with that name already exists');w(t);var n,o,a=null,s=[],u=0;if(e&&"Unit"===e.type)a=e.clone();else if("string"==typeof e)""!==e&&(n=e);else{if("object"!==("undefined"==typeof e?"undefined":i(e)))throw new TypeError('Cannot create unit "'+t+'" from "'+e.toString()+'": expecting "string" or "Unit" or "Object"');n=e.definition,o=e.prefixes,u=e.offset,e.aliases&&(s=e.aliases.valueOf())}if(s)for(var c=0;c<s.length;c++)if(V.hasOwnProperty(s[c]))throw new Error('Cannot create alias "'+s[c]+'": a unit with that name already exists');if(n&&"string"==typeof n&&!a)try{a=l.parse(n,{allowNoUnits:!0})}catch(f){throw f.message='Could not create unit "'+t+'" from "'+n+'": '+f.message,f}else n&&"Unit"===n.type&&(a=n.clone());s=s||[],u=u||0,o=o&&o.toUpperCase?F[o.toUpperCase()]||F.NONE:F.NONE;var p={};if(a){p={name:t,value:a.value,dimensions:a.dimensions.slice(0),prefixes:o,offset:u};var d=!1;for(var c in $)if($.hasOwnProperty(c)){for(var m=!0,h=0;h<D.length;h++)if(Math.abs((p.dimensions[h]||0)-($[c].dimensions[h]||0))>1e-12){m=!1;break}if(m){d=!0;break}}if(!d){var v=t+"_STUFF",g={dimensions:a.dimensions.slice(0)};g.key=v,$[v]=g,Y[v]={unit:p,prefix:F.NONE[""]},p.base=v}}else{var v=t+"_STUFF";if(D.indexOf(v)>=0)throw new Error('Cannot create new base unit "'+t+'": a base unit with that name already exists (and cannot be overridden)');D.push(v);for(var y in $)$.hasOwnProperty(y)&&($[y].dimensions[D.length-1]=0);for(var g={dimensions:[]},c=0;c<D.length;c++)g.dimensions[c]=0;g.dimensions[D.length-1]=1,g.key=v,$[v]=g,p={name:t,value:1,dimensions:$[v].dimensions.slice(0),prefixes:o,offset:u,base:v},Y[v]={unit:p,prefix:F.NONE[""]}}l.UNITS[t]=p;for(var c=0;c<s.length;c++){var _=s[c],x={};for(var b in p)p.hasOwnProperty(b)&&(x[b]=p[b]);x.name=_,l.UNITS[_]=x}return new l(null,t)},l.deleteUnit=function(t){delete l.UNITS[t]},l.PREFIXES=F,l.BASE_DIMENSIONS=D,l.BASE_UNITS=$,l.UNIT_SYSTEMS=W,l.UNITS=V,l}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},o=r(212).endsWith,a=r(193).clone,s=r(266);e.name="Unit",e.path="type",e.factory=n,e.math=!0},function(t,e,r){"use strict";function n(t){return t[0].precision}var i=r(234).memoize;e.e=i(function(t){return new t(1).exp()},n),e.phi=i(function(t){return new t(1).plus(new t(5).sqrt()).div(2)},n),e.pi=i(function(t){return t.acos(-1)},n),e.tau=i(function(t){return e.pi(t).times(2)},n)},function(t,e,r){"use strict";function n(t,e,n,o){var a=r(221),s=n(r(242)),u=n(r(243)),c=n(r(268)),l=n(r(244)),f=n(r(251)),p=n(r(269)),d=n(r(246)),m=n(r(247)),h=n(r(248)),v=o("subtract",{
"number, number":function(t,e){return t-e},"Complex, Complex":function(t,e){return t.sub(e)},"BigNumber, BigNumber":function(t,e){return t.minus(e)},"Fraction, Fraction":function(t,e){return t.sub(e)},"Unit, Unit":function(t,e){if(null==t.value)throw new Error("Parameter x contains a unit with undefined value");if(null==e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");var r=t.clone();return r.value=v(r.value,e.value),r.fixPrefix=!1,r},"Matrix, Matrix":function(t,e){var r=t.size(),n=e.size();if(r.length!==n.length)throw new i(r.length,n.length);var o;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":o=p(t,e,v);break;default:o=f(e,t,v,!0)}break;default:switch(e.storage()){case"sparse":o=l(t,e,v,!1);break;default:o=m(t,e,v)}}return o},"Array, Array":function(t,e){return v(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return v(s(t),e)},"Matrix, Array":function(t,e){return v(t,s(e))},"Matrix, any":function(t,e){var r;switch(t.storage()){case"sparse":r=d(t,c(e),u);break;default:r=h(t,e,v)}return r},"any, Matrix":function(t,e){var r;switch(e.storage()){case"sparse":r=d(e,t,v,!0);break;default:r=h(e,t,v,!0)}return r},"Array, any":function(t,e){return h(s(t),e,v,!1).valueOf()},"any, Array":function(t,e){return h(s(e),t,v,!0).valueOf()}});return v.toTex={2:"\\left(${args[0]}"+a.operators.subtract+"${args[1]}\\right)"},v}var i=r(231);e.name="subtract",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,o){var a=r(221),s=o("unaryMinus",{number:function(t){return-t},Complex:function(t){return t.neg()},BigNumber:function(t){return t.neg()},Fraction:function(t){return t.neg()},Unit:function(t){var e=t.clone();return e.value=s(t.value),e},"Array | Matrix":function(t){return i(t,s,!0)}});return s.toTex={1:a.operators.unaryMinus+"\\left(${args[0]}\\right)"},s}var i=r(208);e.name="unaryMinus",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,o){var a=n(r(238)),s=t.SparseMatrix,u=function(t,e,r){var n=t._values,u=t._index,c=t._ptr,l=t._size,f=t._datatype,p=e._values,d=e._index,m=e._ptr,h=e._size,v=e._datatype;if(l.length!==h.length)throw new i(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");var g,y=l[0],_=l[1],x=a,w=0,b=r;"string"==typeof f&&f===v&&(g=f,x=o.find(a,[g,g]),w=o.convert(0,g),b=o.find(r,[g,g]));var N,z,A,E,M=n&&p?[]:void 0,O=[],S=[],k=new s({values:M,index:O,ptr:S,size:[y,_],datatype:g}),T=M?[]:void 0,C=M?[]:void 0,B=[],I=[];for(z=0;z<_;z++){S[z]=O.length;var R=z+1;for(A=c[z],E=c[z+1];A<E;A++)N=u[A],O.push(N),B[N]=R,T&&(T[N]=n[A]);for(A=m[z],E=m[z+1];A<E;A++)N=d[A],B[N]!==R&&O.push(N),I[N]=R,C&&(C[N]=p[A]);if(M)for(A=S[z];A<O.length;){N=O[A];var P=B[N],U=I[N];if(P===R||U===R){var L=P===R?T[N]:w,q=U===R?C[N]:w,F=b(L,q);x(F,w)?O.splice(A,1):(M.push(F),A++)}}}return S[_]=O.length,k};return u}var i=r(231);e.name="algorithm05",e.factory=n},function(t,e){"use strict";function r(t,e,r,n){var i=n("multiplyScalar",{"number, number":function(t,e){return t*e},"Complex, Complex":function(t,e){return t.mul(e)},"BigNumber, BigNumber":function(t,e){return t.times(e)},"Fraction, Fraction":function(t,e){return t.mul(e)},"number | Fraction | BigNumber | Complex, Unit":function(t,e){var r=e.clone();return r.value=null===r.value?r._normalize(t):i(r.value,t),r},"Unit, number | Fraction | BigNumber | Complex":function(t,e){var r=t.clone();return r.value=null===r.value?r._normalize(e):i(r.value,e),r},"Unit, Unit":function(t,e){return t.multiply(e)}});return i}e.factory=r},function(t,e,r){"use strict";function n(t,e,n,i){var o=n(r(270)),a=i("divide",{"number, number":function(t,e){return t/e},"Complex, Complex":function(t,e){return t.div(e)},"BigNumber, BigNumber":function(t,e){return t.div(e)},"Fraction, Fraction":function(t,e){return t.div(e)},"Unit, number | Fraction | BigNumber":function(t,e){var r=t.clone();return r.value=a(null===r.value?r._normalize(1):r.value,e),r},"number | Fraction | BigNumber, Unit":function(t,e){var r=e.pow(-1);return r.value=o(null===r.value?r._normalize(1):r.value,t),r},"Unit, Unit":function(t,e){return t.divide(e)}});return a}e.factory=n},function(t,e,r){"use strict";function n(t,e,n,a){function s(r,n){if(e.predictable&&!i(n)&&r<0)try{var o=m(n),a=h(o);if((n===a||Math.abs((n-a)/n)<1e-14)&&o.d%2===1)return(o.n%2===0?1:-1)*Math.pow(-r,n)}catch(s){}return r*r<1&&n===1/0||r*r>1&&n===-(1/0)?0:e.predictable&&(r<-1&&n===1/0||r>-1&&r<0&&n===-(1/0))?NaN:i(n)||r>=0||e.predictable?Math.pow(r,n):new t.Complex(r,0).pow(n,0)}function u(t,e){if(!i(e)||e<0)throw new TypeError("For A^b, b must be a positive integer (value is "+e+")");var r=o(t);if(2!=r.length)throw new Error("For A^b, A must be 2 dimensional (A has "+r.length+" dimensions)");if(r[0]!=r[1])throw new Error("For A^b, A must be square (size is "+r[0]+"x"+r[1]+")");for(var n=f(r[0]).valueOf(),a=t;e>=1;)1==(1&e)&&(n=p(a,n)),e>>=1,a=p(a,a);return n}function c(t,e){return d(u(t.valueOf(),e))}var l=r(221),f=n(r(273)),p=n(r(274)),d=n(r(242)),m=n(r(225)),h=n(r(260)),v=a("pow",{"number, number":s,"Complex, Complex":function(t,e){return t.pow(e)},"BigNumber, BigNumber":function(r,n){return n.isInteger()||r>=0||e.predictable?r.pow(n):new t.Complex(r.toNumber(),0).pow(n.toNumber(),0)},"Fraction, Fraction":function(t,r){if(1!==r.d){if(e.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return s(t.valueOf(),r.valueOf())}return t.pow(r)},"Array, number":u,"Array, BigNumber":function(t,e){return u(t,e.toNumber())},"Matrix, number":c,"Matrix, BigNumber":function(t,e){return c(t,e.toNumber())},"Unit, number":function(t,e){return t.pow(e)}});return v.toTex={2:"\\left(${args[0]}\\right)"+l.operators.pow+"{${args[1]}}"},v}var i=r(196).isInteger,o=r(229).size;e.name="pow",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,a){function s(t,e){switch(t.length){case 0:return e?c(e):[];case 1:return u(t[0],t[0],e);case 2:return u(t[0],t[1],e);default:throw new Error("Vector containing two values expected")}}function u(e,r,n){var a=e&&e.isBigNumber===!0?t.BigNumber:r&&r.isBigNumber===!0?t.BigNumber:null;if(e&&e.isBigNumber===!0&&(e=e.toNumber()),r&&r.isBigNumber===!0&&(r=r.toNumber()),!o(e)||e<1)throw new Error("Parameters in function eye must be positive integers");if(!o(r)||r<1)throw new Error("Parameters in function eye must be positive integers");var s=a?new t.BigNumber(1):1,u=a?new a(0):0,c=[e,r];if(n){var l=t.Matrix.storage(n);return l.diagonal(c,s,0,u)}for(var f=i.resize([],c,u),p=e<r?e:r,d=0;d<p;d++)f[d][d]=s;return f}var c=n(r(242)),l=a("eye",{"":function(){return"Matrix"===e.matrix?c([]):[]},string:function(t){return c(t)},"number | BigNumber":function(t){return u(t,t,"Matrix"===e.matrix?"default":void 0)},"number | BigNumber, string":function(t,e){return u(t,t,e)},"number | BigNumber, number | BigNumber":function(t,r){return u(t,r,"Matrix"===e.matrix?"default":void 0)},"number | BigNumber, number | BigNumber, string":function(t,e,r){return u(t,e,r)},Array:function(t){return s(t)},"Array, string":function(t,e){return s(t,e)},Matrix:function(t){return s(t.valueOf(),t.storage())},"Matrix, string":function(t,e){return s(t.valueOf(),e)}});return l.toTex=void 0,l}var i=r(229),o=r(196).isInteger;e.name="eye",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,a){var s=r(221),u=n(r(242)),c=n(r(243)),l=n(r(270)),f=n(r(238)),p=n(r(275)),d=n(r(248)),m=t.DenseMatrix,h=t.SparseMatrix,v=a("multiply",i({"Array, Array":function(t,e){g(o.size(t),o.size(e));var r=v(u(t),u(e));return r&&r.isMatrix===!0?r.valueOf():r},"Matrix, Matrix":function(t,e){var r=t.size(),n=e.size();return g(r,n),1===r.length?1===n.length?y(t,e,r[0]):_(t,e):1===n.length?w(t,e):b(t,e)},"Matrix, Array":function(t,e){return v(t,u(e))},"Array, Matrix":function(t,e){return v(u(t,e.storage()),e)},"Matrix, any":function(t,e){var r;switch(t.storage()){case"sparse":r=p(t,e,l,!1);break;case"dense":r=d(t,e,l,!1)}return r},"any, Matrix":function(t,e){var r;switch(e.storage()){case"sparse":r=p(e,t,l,!0);break;case"dense":r=d(e,t,l,!0)}return r},"Array, any":function(t,e){return d(u(t),e,l,!1).valueOf()},"any, Array":function(t,e){return d(u(e),t,l,!0).valueOf()},"any, any":l,"any, any, ...any":function(t,e,r){for(var n=v(t,e),i=0;i<r.length;i++)n=v(n,r[i]);return n}},l.signatures)),g=function(t,e){switch(t.length){case 1:switch(e.length){case 1:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+t[0]+") must match Matrix rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;case 2:switch(e.length){case 1:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+t[1]+") must match Vector length ("+e[0]+")");break;case 2:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+t[1]+") must match Matrix B rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+t.length+" dimensions)")}},y=function(t,e,r){if(0===r)throw new Error("Cannot multiply two empty vectors");var n,i=t._data,o=t._datatype,s=e._data,u=e._datatype,f=c,p=l;o&&u&&o===u&&"string"==typeof o&&(n=o,f=a.find(c,[n,n]),p=a.find(l,[n,n]));for(var d=p(i[0],s[0]),m=1;m<r;m++)d=f(d,p(i[m],s[m]));return d},_=function(t,e){switch(e.storage()){case"dense":return x(t,e)}throw new Error("Not implemented")},x=function(t,e){var r,n=t._data,i=t._size,o=t._datatype,s=e._data,u=e._size,f=e._datatype,p=i[0],d=u[1],h=c,v=l;o&&f&&o===f&&"string"==typeof o&&(r=o,h=a.find(c,[r,r]),v=a.find(l,[r,r]));for(var g=[],y=0;y<d;y++){for(var _=v(n[0],s[0][y]),x=1;x<p;x++)_=h(_,v(n[x],s[x][y]));g[y]=_}return new m({data:g,size:[d],datatype:r})},w=function(t,e){switch(t.storage()){case"dense":return N(t,e);case"sparse":return E(t,e)}},b=function(t,e){switch(t.storage()){case"dense":switch(e.storage()){case"dense":return z(t,e);case"sparse":return A(t,e)}break;case"sparse":switch(e.storage()){case"dense":return M(t,e);case"sparse":return O(t,e)}}},N=function(t,e){var r,n=t._data,i=t._size,o=t._datatype,s=e._data,u=e._datatype,f=i[0],p=i[1],d=c,h=l;o&&u&&o===u&&"string"==typeof o&&(r=o,d=a.find(c,[r,r]),h=a.find(l,[r,r]));for(var v=[],g=0;g<f;g++){for(var y=n[g],_=h(y[0],s[0]),x=1;x<p;x++)_=d(_,h(y[x],s[x]));v[g]=_}return new m({data:v,size:[f],datatype:r})},z=function(t,e){var r,n=t._data,i=t._size,o=t._datatype,s=e._data,u=e._size,f=e._datatype,p=i[0],d=i[1],h=u[1],v=c,g=l;o&&f&&o===f&&"string"==typeof o&&(r=o,v=a.find(c,[r,r]),g=a.find(l,[r,r]));for(var y=[],_=0;_<p;_++){var x=n[_];y[_]=[];for(var w=0;w<h;w++){for(var b=g(x[0],s[0][w]),N=1;N<d;N++)b=v(b,g(x[N],s[N][w]));y[_][w]=b}}return new m({data:y,size:[p,h],datatype:r})},A=function(t,e){var r=t._data,n=t._size,i=t._datatype,o=e._values,s=e._index,u=e._ptr,p=e._size,d=e._datatype;if(!o)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var m,v=n[0],g=p[1],y=c,_=l,x=f,w=0;i&&d&&i===d&&"string"==typeof i&&(m=i,y=a.find(c,[m,m]),_=a.find(l,[m,m]),x=a.find(f,[m,m]),w=a.convert(0,m));for(var b=[],N=[],z=[],A=new h({values:b,index:N,ptr:z,size:[v,g],datatype:m}),E=0;E<g;E++){z[E]=N.length;var M=u[E],O=u[E+1];if(O>M)for(var S=0,k=0;k<v;k++){for(var T,C=k+1,B=M;B<O;B++){var I=s[B];S!==C?(T=_(r[k][I],o[B]),S=C):T=y(T,_(r[k][I],o[B]))}S!==C||x(T,w)||(N.push(k),b.push(T))}}return z[g]=N.length,A},E=function(t,e){var r=t._values,n=t._index,i=t._ptr,o=t._datatype;if(!r)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var s,u=e._data,p=e._datatype,d=t._size[0],m=e._size[0],v=[],g=[],y=[],_=c,x=l,w=f,b=0;o&&p&&o===p&&"string"==typeof o&&(s=o,_=a.find(c,[s,s]),x=a.find(l,[s,s]),w=a.find(f,[s,s]),b=a.convert(0,s));var N=[],z=[];y[0]=0;for(var A=0;A<m;A++){var E=u[A];if(!w(E,b))for(var M=i[A],O=i[A+1],S=M;S<O;S++){var k=n[S];z[k]?N[k]=_(N[k],x(E,r[S])):(z[k]=!0,g.push(k),N[k]=x(E,r[S]))}}for(var T=g.length,C=0;C<T;C++){var B=g[C];v[C]=N[B]}return y[1]=g.length,new h({values:v,index:g,ptr:y,size:[d,1],datatype:s})},M=function(t,e){var r=t._values,n=t._index,i=t._ptr,o=t._datatype;if(!r)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var s,u=e._data,p=e._datatype,d=t._size[0],m=e._size[0],v=e._size[1],g=c,y=l,_=f,x=0;o&&p&&o===p&&"string"==typeof o&&(s=o,g=a.find(c,[s,s]),y=a.find(l,[s,s]),_=a.find(f,[s,s]),x=a.convert(0,s));for(var w=[],b=[],N=[],z=new h({values:w,index:b,ptr:N,size:[d,v],datatype:s}),A=[],E=[],M=0;M<v;M++){N[M]=b.length;for(var O=M+1,S=0;S<m;S++){var k=u[S][M];if(!_(k,x))for(var T=i[S],C=i[S+1],B=T;B<C;B++){var I=n[B];E[I]!==O?(E[I]=O,b.push(I),A[I]=y(k,r[B])):A[I]=g(A[I],y(k,r[B]))}}for(var R=N[M],P=b.length,U=R;U<P;U++){var L=b[U];w[U]=A[L]}}return N[v]=b.length,z},O=function(t,e){var r,n=t._values,i=t._index,o=t._ptr,s=t._datatype,u=e._values,f=e._index,p=e._ptr,d=e._datatype,m=t._size[0],v=e._size[1],g=n&&u,y=c,_=l;s&&d&&s===d&&"string"==typeof s&&(r=s,y=a.find(c,[r,r]),_=a.find(l,[r,r]));for(var x,w,b,N,z,A,E,M,O=g?[]:void 0,S=[],k=[],T=new h({values:O,index:S,ptr:k,size:[m,v],datatype:r}),C=g?[]:void 0,B=[],I=0;I<v;I++){k[I]=S.length;var R=I+1;for(z=p[I],A=p[I+1],N=z;N<A;N++)if(M=f[N],g)for(w=o[M],b=o[M+1],x=w;x<b;x++)E=i[x],B[E]!==R?(B[E]=R,S.push(E),C[E]=_(u[N],n[x])):C[E]=y(C[E],_(u[N],n[x]));else for(w=o[M],b=o[M+1],x=w;x<b;x++)E=i[x],B[E]!==R&&(B[E]=R,S.push(E));if(g)for(var P=k[I],U=S.length,L=P;L<U;L++){var q=S[L];O[L]=C[q]}}return k[v]=S.length,T};return v.toTex={2:"\\left(${args[0]}"+s.operators.multiply+"${args[1]}\\right)"},v}var i=r(193).extend,o=r(229);e.name="multiply",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,i){var o=n(r(238)),a=t.SparseMatrix,s=function(t,e,r,n){var s=t._values,u=t._index,c=t._ptr,l=t._size,f=t._datatype;if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,d=l[0],m=l[1],h=o,v=0,g=r;"string"==typeof f&&(p=f,h=i.find(o,[p,p]),v=i.convert(0,p),e=i.convert(e,p),g=i.find(r,[p,p]));for(var y=[],_=[],x=[],w=new a({values:y,index:_,ptr:x,size:[d,m],datatype:p}),b=0;b<m;b++){x[b]=_.length;for(var N=c[b],z=c[b+1],A=N;A<z;A++){var E=u[A],M=n?g(e,s[A]):g(s[A],e);h(M,v)||(_.push(E),y.push(M))}}return x[m]=_.length,w};return s}e.name="algorithm11",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("abs",{number:Math.abs,Complex:function(t){return t.abs()},BigNumber:function(t){return t.abs()},Fraction:function(t){return t.abs()},"Array | Matrix":function(t){return i(t,o,!0)},Unit:function(t){return t.abs()}});return o.toTex={1:"\\left|${args[0]}\\right|"},o}var i=r(208);e.name="abs",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("fix",{number:function(t){return t>0?Math.floor(t):Math.ceil(t)},Complex:function(e){return new t.Complex(e.re>0?Math.floor(e.re):Math.ceil(e.re),e.im>0?Math.floor(e.im):Math.ceil(e.im))},BigNumber:function(t){return t.isNegative()?t.ceil():t.floor()},Fraction:function(t){return t.s<0?t.ceil():t.floor()},"Array | Matrix":function(t){return i(t,o,!0)}});return o.toTex={1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},o}var i=r(208);e.name="fix",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,a){var c=n(r(242)),l=n(r(238)),f=n(r(279)),p=n(r(275)),d=n(r(253)),m=n(r(248)),h=a("round",{number:Math.round,"number, number":function(t,e){if(!o(e))throw new TypeError(u);if(e<0||e>15)throw new Error("Number of decimals in function round must be in te range of 0-15");return i(t,e)},Complex:function(t){return t.round()},"Complex, number":function(t,e){if(e%1)throw new TypeError(u);return t.round(e)},"Complex, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(u);var r=e.toNumber();return t.round(r)},"number, BigNumber":function(e,r){if(!r.isInteger())throw new TypeError(u);return new t.BigNumber(e).toDecimalPlaces(r.toNumber())},BigNumber:function(t){return t.toDecimalPlaces(0)},"BigNumber, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(u);return t.toDecimalPlaces(e.toNumber())},Fraction:function(t){return t.round()},"Fraction, number":function(t,e){if(e%1)throw new TypeError(u);return t.round(e)},"Array | Matrix":function(t){return s(t,h,!0)},"Matrix, number | BigNumber":function(t,e){var r;switch(t.storage()){case"sparse":r=p(t,e,h,!1);break;default:r=m(t,e,h,!1)}return r},"number | Complex | BigNumber, Matrix":function(t,e){if(!l(t,0)){var r;switch(e.storage()){case"sparse":r=d(e,t,h,!0);break;default:r=m(e,t,h,!0)}return r}return f(e.size(),e.storage())},"Array, number | BigNumber":function(t,e){return m(c(t),e,h,!1).valueOf()},"number | Complex | BigNumber, Array":function(t,e){return m(c(e),t,h,!0).valueOf()}});return h.toTex={1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},h}function i(t,e){return parseFloat(a(t,e))}var o=r(196).isInteger,a=r(196).toFixed,s=r(208),u="Number of decimals in function round must be an integer";e.name="round",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,a){function s(e,r){var n=u(e),i=n?new t.BigNumber(0):0;if(c(e),r){var a=l(r);return e.length>0?a.resize(e,i):a}var s=[];return e.length>0?o(s,e,i):s}function u(t){var e=!1;return t.forEach(function(t,r,n){t&&t.isBigNumber===!0&&(e=!0,n[r]=t.toNumber())}),e}function c(t){t.forEach(function(t){if("number"!=typeof t||!i(t)||t<0)throw new Error("Parameters in function zeros must be positive integers")})}var l=n(r(242)),f=a("zeros",{"":function(){return"Array"===e.matrix?s([]):s([],"default")},"...number | BigNumber | string":function(t){var r=t[t.length-1];if("string"==typeof r){var n=t.pop();return s(t,n)}return"Array"===e.matrix?s(t):s(t,"default")},Array:s,Matrix:function(t){var e=t.storage();return s(t.valueOf(),e)},"Array | Matrix, string":function(t,e){return s(t.valueOf(),e)}});return f.toTex=void 0,f}var i=r(196).isInteger,o=r(229).resize;e.name="zeros",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,i){var o=n(r(242)),a=n(r(238)),s=n(r(251)),u=n(r(252)),c=n(r(253)),l=n(r(247)),f=n(r(248)),p=r(221),d=i("equal",{"any, any":function(t,e){return null===t?null===e:null===e?null===t:void 0===t?void 0===e:void 0===e?void 0===t:a(t,e)},"Matrix, Matrix":function(t,e){var r;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":r=u(t,e,a);break;default:r=s(e,t,a,!0)}break;default:switch(e.storage()){case"sparse":r=s(t,e,a,!1);break;default:r=l(t,e,a)}}return r},"Array, Array":function(t,e){return d(o(t),o(e)).valueOf()},"Array, Matrix":function(t,e){return d(o(t),e)},"Matrix, Array":function(t,e){return d(t,o(e))},"Matrix, any":function(t,e){var r;switch(t.storage()){case"sparse":r=c(t,e,a,!1);break;default:r=f(t,e,a,!1)}return r},"any, Matrix":function(t,e){var r;switch(e.storage()){case"sparse":r=c(e,t,a,!0);break;default:r=f(e,t,a,!0)}return r},"Array, any":function(t,e){return f(o(t),e,a,!1).valueOf()},"any, Array":function(t,e){return f(o(e),t,a,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+p.operators.equal+"${args[1]}\\right)"},d}e.name="equal",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("isNumeric",{"number | BigNumber | Fraction | boolean":function(){return!0},"Complex | Unit | string":function(){return!1},"Array | Matrix":function(t){return i(t,o)}});return o}var i=r(208);r(196);e.name="isNumeric",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("format",{any:i.format,"any, Object | function | number":i.format});return o.toTex=void 0,o}var i=r(212);e.name="format",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("_typeof",{any:function(t){var e=i.type(t);if("Object"===e){if(t.isBigNumber===!0)return"BigNumber";if(t.isComplex===!0)return"Complex";if(t.isFraction===!0)return"Fraction";if(t.isMatrix===!0)return"Matrix";if(t.isUnit===!0)return"Unit";if(t.isIndex===!0)return"Index";if(t.isRange===!0)return"Range";if(t.isChain===!0)return"Chain";if(t.isHelp===!0)return"Help"}return e}});return o.toTex=void 0,o}var i=r(230);e.name="typeof",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("unit",{Unit:function(t){return t.clone()},string:function(e){return t.Unit.isValuelessUnit(e)?new t.Unit(null,e):t.Unit.parse(e)},"number | BigNumber | Fraction | Complex, string":function(e,r){return new t.Unit(e,r)},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},o}var i=r(208);e.name="unit",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var i=n("createUnit",{"Object, Object":function(e,r){return t.Unit.createUnit(e,r)},Object:function(e){return t.Unit.createUnit(e,{})},"string, Unit | string | Object, Object":function(e,r,n){var i={};return i[e]=r,t.Unit.createUnit(i,n)},"string, Unit | string | Object":function(e,r){var n={};return n[e]=r,t.Unit.createUnit(n,{})},string:function(e){var r={};return r[e]={},t.Unit.createUnit(r,{})}});return i}r(208);e.name="createUnit",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var i=n("splitUnit",{"Unit, Array":function(t,e){return t.splitUnit(e)}});return i}r(208);e.name="splitUnit",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n,o){function a(e){var r=t.Unit.parse(e);return r.fixPrefix=!0,r}i(o,"speedOfLight",function(){return a("299792458 m s^-1")}),i(o,"gravitationConstant",function(){return a("6.6738480e-11 m^3 kg^-1 s^-2")}),i(o,"planckConstant",function(){return a("6.626069311e-34 J s")}),i(o,"reducedPlanckConstant",function(){return a("1.05457172647e-34 J s")}),i(o,"magneticConstant",function(){return a("1.2566370614e-6 N A^-2")}),i(o,"electricConstant",function(){return a("8.854187817e-12 F m^-1")}),i(o,"vacuumImpedance",function(){return a("376.730313461 ohm")}),i(o,"coulomb",function(){return a("8.9875517873681764e9 N m^2 C^-2")}),i(o,"elementaryCharge",function(){return a("1.60217656535e-19 C")}),i(o,"bohrMagneton",function(){return a("9.2740096820e-24 J T^-1")}),i(o,"conductanceQuantum",function(){return a("7.748091734625e-5 S")}),i(o,"inverseConductanceQuantum",function(){return a("12906.403721742 ohm")}),i(o,"magneticFluxQuantum",function(){return a("2.06783375846e-15 Wb")}),i(o,"nuclearMagneton",function(){return a("5.0507835311e-27 J T^-1")}),i(o,"klitzing",function(){return a("25812.807443484 ohm")}),i(o,"bohrRadius",function(){return a("5.291772109217e-11 m")}),i(o,"classicalElectronRadius",function(){return a("2.817940326727e-15 m")}),i(o,"electronMass",function(){return a("9.1093829140e-31 kg")}),i(o,"fermiCoupling",function(){return a("1.1663645e-5 GeV^-2")}),i(o,"fineStructure",function(){return.007297352569824}),i(o,"hartreeEnergy",function(){return a("4.3597443419e-18 J")}),i(o,"protonMass",function(){return a("1.67262177774e-27 kg")}),i(o,"deuteronMass",function(){return a("3.3435830926e-27 kg")}),i(o,"neutronMass",function(){return a("1.6749271613e-27 kg")}),i(o,"quantumOfCirculation",function(){return a("3.636947552024e-4 m^2 s^-1")}),i(o,"rydberg",function(){return a("10973731.56853955 m^-1")}),i(o,"thomsonCrossSection",function(){return a("6.65245873413e-29 m^2")}),i(o,"weakMixingAngle",function(){return.222321}),i(o,"efimovFactor",function(){return 22.7}),i(o,"atomicMass",function(){return a("1.66053892173e-27 kg")}),i(o,"avogadro",function(){return a("6.0221412927e23 mol^-1")}),i(o,"boltzmann",function(){return a("1.380648813e-23 J K^-1")}),i(o,"faraday",function(){return a("96485.336521 C mol^-1")}),i(o,"firstRadiation",function(){return a("3.7417715317e-16 W m^2")}),i(o,"loschmidt",function(){return a("2.686780524e25 m^-3")}),i(o,"gasConstant",function(){return a("8.314462175 J K^-1 mol^-1")}),i(o,"molarPlanckConstant",function(){return a("3.990312717628e-10 J s mol^-1")}),i(o,"molarVolume",function(){return a("2.241396820e-10 m^3 mol^-1")}),i(o,"sackurTetrode",function(){return-1.164870823}),i(o,"secondRadiation",function(){return a("1.438777013e-2 m K")}),i(o,"stefanBoltzmann",function(){return a("5.67037321e-8 W m^-2 K^-4")}),i(o,"wienDisplacement",function(){return a("2.897772126e-3 m K")}),i(o,"molarMass",function(){return a("1e-3 kg mol^-1")}),i(o,"molarMassC12",function(){return a("1.2e-2 kg mol^-1")}),i(o,"gravity",function(){return a("9.80665 m s^-2")}),i(o,"planckLength",function(){return a("1.61619997e-35 m")}),i(o,"planckMass",function(){return a("2.1765113e-8 kg")}),i(o,"planckTime",function(){return a("5.3910632e-44 s")}),i(o,"planckCharge",function(){return a("1.87554595641e-18 C")}),i(o,"planckTemperature",function(){return a("1.41683385e+32 K")})}function i(t,e,r){o(t,e,r),o(t.expression.mathWithTransform,e,r)}var o=r(193).lazy;e.factory=n,e.lazy=!1,e.math=!0},function(t,e,r){"use strict";function n(t,e,a,u,c){c.on("config",function(r,i){r.number!==i.number&&n(t,e,a,u,c)}),i(c,"true",!0),i(c,"false",!1),i(c,"null",null),i(c,"uninitialized",r(229).UNINITIALIZED),"BigNumber"===e.number?(i(c,"Infinity",new t.BigNumber(1/0)),i(c,"NaN",new t.BigNumber(NaN)),o(c,"pi",function(){return s.pi(t.BigNumber)}),o(c,"tau",function(){return s.tau(t.BigNumber)}),o(c,"e",function(){return s.e(t.BigNumber)}),o(c,"phi",function(){return s.phi(t.BigNumber)}),o(c,"E",function(){return c.e}),o(c,"LN2",function(){return new t.BigNumber(2).ln()}),o(c,"LN10",function(){return new t.BigNumber(10).ln()}),o(c,"LOG2E",function(){return new t.BigNumber(1).div(new t.BigNumber(2).ln())}),o(c,"LOG10E",function(){return new t.BigNumber(1).div(new t.BigNumber(10).ln())}),o(c,"PI",function(){return c.pi}),o(c,"SQRT1_2",function(){return new t.BigNumber("0.5").sqrt()}),o(c,"SQRT2",function(){return new t.BigNumber(2).sqrt()})):(i(c,"Infinity",1/0),i(c,"NaN",NaN),i(c,"pi",Math.PI),i(c,"tau",2*Math.PI),i(c,"e",Math.E),i(c,"phi",1.618033988749895),i(c,"E",c.e),i(c,"LN2",Math.LN2),i(c,"LN10",Math.LN10),i(c,"LOG2E",Math.LOG2E),i(c,"LOG10E",Math.LOG10E),i(c,"PI",c.pi),i(c,"SQRT1_2",Math.SQRT1_2),i(c,"SQRT2",Math.SQRT2)),i(c,"i",t.Complex.I),i(c,"version",r(289))}function i(t,e,r){t[e]=r,t.expression.mathWithTransform[e]=r}function o(t,e,r){a.lazy(t,e,r),a.lazy(t.expression.mathWithTransform,e,r)}var a=r(193),s=r(266);e.factory=n,e.lazy=!1,e.math=!0},function(t,e){"use strict";t.exports="3.16.0"},function(t,e,r){"use strict";t.exports=[r(291),r(485),r(516),r(518),r(542),r(487),r(515)]},function(t,e,r){"use strict";function n(t,e,n,i){var o={};return o.bignumber=r(292),o["boolean"]=r(293),o.complex=r(294),o.createUnit=r(295),o.fraction=r(296),o.index=r(297),o.matrix=r(298),o.number=r(299),o.sparse=r(300),o.splitUnit=r(301),o.string=r(302),o.unit=r(303),o.e=r(304),o.E=r(304),o["false"]=r(305),o.i=r(306),o.Infinity=r(307),o.LN2=r(308),o.LN10=r(309),o.LOG2E=r(310),o.LOG10E=r(311),o.NaN=r(312),o["null"]=r(313),o.pi=r(314),o.PI=r(314),o.phi=r(315),o.SQRT1_2=r(316),o.SQRT2=r(317),o.tau=r(318),o["true"]=r(319),o.version=r(320),o.speedOfLight={description:"Speed of light in vacuum",examples:["speedOfLight"]},o.gravitationConstant={description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},o.planckConstant={description:"Planck constant",examples:["planckConstant"]},o.reducedPlanckConstant={description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},o.magneticConstant={description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},o.electricConstant={description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},o.vacuumImpedance={description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},o.coulomb={description:"Coulomb's constant",examples:["coulomb"]},o.elementaryCharge={description:"Elementary charge",examples:["elementaryCharge"]},o.bohrMagneton={description:"Borh magneton",examples:["bohrMagneton"]},o.conductanceQuantum={description:"Conductance quantum",examples:["conductanceQuantum"]},o.inverseConductanceQuantum={description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},o.magneticFluxQuantum={description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},o.nuclearMagneton={description:"Nuclear magneton",examples:["nuclearMagneton"]},o.klitzing={description:"Von Klitzing constant",examples:["klitzing"]},o.bohrRadius={description:"Borh radius",examples:["bohrRadius"]},o.classicalElectronRadius={description:"Classical electron radius",examples:["classicalElectronRadius"]},o.electronMass={description:"Electron mass",examples:["electronMass"]},o.fermiCoupling={description:"Fermi coupling constant",examples:["fermiCoupling"]},o.fineStructure={description:"Fine-structure constant",examples:["fineStructure"]},o.hartreeEnergy={description:"Hartree energy",examples:["hartreeEnergy"]},o.protonMass={description:"Proton mass",examples:["protonMass"]},o.deuteronMass={description:"Deuteron Mass",examples:["deuteronMass"]},o.neutronMass={description:"Neutron mass",examples:["neutronMass"]},o.quantumOfCirculation={description:"Quantum of circulation",examples:["quantumOfCirculation"]},o.rydberg={description:"Rydberg constant",examples:["rydberg"]},o.thomsonCrossSection={description:"Thomson cross section",examples:["thomsonCrossSection"]},o.weakMixingAngle={description:"Weak mixing angle",examples:["weakMixingAngle"]},o.efimovFactor={description:"Efimov factor",examples:["efimovFactor"]},o.atomicMass={description:"Atomic mass constant",examples:["atomicMass"]},o.avogadro={description:"Avogadro's number",examples:["avogadro"]},o.boltzmann={description:"Boltzmann constant",examples:["boltzmann"]},o.faraday={description:"Faraday constant",examples:["faraday"]},o.firstRadiation={description:"First radiation constant",examples:["firstRadiation"]},o.loschmidt={description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},o.gasConstant={description:"Gas constant",examples:["gasConstant"]},o.molarPlanckConstant={description:"Molar Planck constant",examples:["molarPlanckConstant"]},o.molarVolume={description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},o.sackurTetrode={description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},o.secondRadiation={description:"Second radiation constant",examples:["secondRadiation"]},o.stefanBoltzmann={description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},o.wienDisplacement={description:"Wien displacement law constant",examples:["wienDisplacement"]},o.molarMass={description:"Molar mass constant",examples:["molarMass"]},o.molarMassC12={description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},o.gravity={description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},o.planckLength={description:"Planck length",examples:["planckLength"]},o.planckMass={description:"Planck mass",examples:["planckMass"]},o.planckTime={description:"Planck time",examples:["planckTime"]},o.planckCharge={description:"Planck charge",examples:["planckCharge"]},o.planckTemperature={description:"Planck temperature",examples:["planckTemperature"]},o.derivative=r(321),o.lsolve=r(322),o.lup=r(323),o.lusolve=r(324),o.simplify=r(325),o.slu=r(326),o.usolve=r(327),o.qr=r(328),o.abs=r(329),o.add=r(330),o.cbrt=r(331),o.ceil=r(332),o.cube=r(333),o.divide=r(334),o.dotDivide=r(335),o.dotMultiply=r(336),o.dotPow=r(337),o.exp=r(338),o.fix=r(339),o.floor=r(340),o.gcd=r(341),o.hypot=r(342),o.lcm=r(343),o.log=r(344),o.log10=r(345),o.mod=r(346),o.multiply=r(347),o.norm=r(348),o.nthRoot=r(349),o.pow=r(350),o.round=r(351),o.sign=r(352),o.sqrt=r(353),o.square=r(354),o.subtract=r(355),o.unaryMinus=r(356),o.unaryPlus=r(357),o.xgcd=r(358),o.bitAnd=r(359),o.bitNot=r(360),o.bitOr=r(361),o.bitXor=r(362),o.leftShift=r(363),o.rightArithShift=r(364),o.rightLogShift=r(365),
o.bellNumbers=r(366),o.catalan=r(367),o.composition=r(368),o.stirlingS2=r(369),o.config=r(370),o["import"]=r(371),o.typed=r(372),o.arg=r(373),o.conj=r(374),o.re=r(375),o.im=r(376),o.eval=r(377),o.help=r(378),o.distance=r(379),o.intersect=r(380),o.and=r(381),o.not=r(382),o.or=r(383),o.xor=r(384),o.concat=r(385),o.cross=r(386),o.det=r(387),o.diag=r(388),o.dot=r(389),o.eye=r(390),o.filter=r(391),o.flatten=r(392),o.forEach=r(393),o.inv=r(394),o.kron=r(395),o.map=r(396),o.ones=r(397),o.partitionSelect=r(398),o.range=r(399),o.resize=r(400),o.reshape=r(401),o.size=r(402),o.sort=r(403),o.squeeze=r(404),o.subset=r(405),o.trace=r(406),o.transpose=r(407),o.zeros=r(408),o.combinations=r(409),o.factorial=r(410),o.gamma=r(411),o.kldivergence=r(412),o.multinomial=r(413),o.permutations=r(414),o.pickRandom=r(415),o.random=r(416),o.randomInt=r(417),o.compare=r(418),o.compareNatural=r(419),o.deepEqual=r(420),o.equal=r(421),o.larger=r(422),o.largerEq=r(423),o.smaller=r(424),o.smallerEq=r(425),o.unequal=r(426),o.setCartesian=r(427),o.setDifference=r(428),o.setDistinct=r(429),o.setIntersect=r(430),o.setIsSubset=r(431),o.setMultiplicity=r(432),o.setPowerset=r(433),o.setSize=r(434),o.setSymDifference=r(435),o.setUnion=r(436),o.erf=r(437),o.mad=r(438),o.max=r(439),o.mean=r(440),o.median=r(441),o.min=r(442),o.mode=r(443),o.prod=r(444),o.quantileSeq=r(445),o.std=r(446),o.sum=r(447),o["var"]=r(448),o.acos=r(449),o.acosh=r(450),o.acot=r(451),o.acoth=r(452),o.acsc=r(453),o.acsch=r(454),o.asec=r(455),o.asech=r(456),o.asin=r(457),o.asinh=r(458),o.atan=r(459),o.atanh=r(460),o.atan2=r(461),o.cos=r(462),o.cosh=r(463),o.cot=r(464),o.coth=r(465),o.csc=r(466),o.csch=r(467),o.sec=r(468),o.sech=r(469),o.sin=r(470),o.sinh=r(471),o.tan=r(472),o.tanh=r(473),o.to=r(474),o.clone=r(475),o.format=r(476),o.isNaN=r(477),o.isInteger=r(478),o.isNegative=r(479),o.isNumeric=r(480),o.isPositive=r(481),o.isPrime=r(482),o.isZero=r(483),o["typeof"]=r(484),o}e.name="docs",e.path="expression",e.factory=n},function(t,e){"use strict";t.exports={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]}},function(t,e){"use strict";t.exports={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]}},function(t,e){"use strict";t.exports={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]}},function(t,e){"use strict";t.exports={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]}},function(t,e){"use strict";t.exports={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(num,den)"],description:"Create a fraction from a number or from a numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]}},function(t,e){"use strict";t.exports={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["[]","[1, 2, 3]","A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[0:2, 0:2] = ones(2, 2)"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]}},function(t,e){"use strict";t.exports={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]}},function(t,e){"use strict";t.exports={name:"number",category:"Construction",syntax:["x","number(x)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number("52cm", "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]}},function(t,e){"use strict";t.exports={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]}},function(t,e){"use strict";t.exports={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]}},function(t,e){"use strict";t.exports={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]}},function(t,e){"use strict";t.exports={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]}},function(t,e){"use strict";t.exports={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]}},function(t,e){"use strict";t.exports={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]}},function(t,e){"use strict";t.exports={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]}},function(t,e){"use strict";t.exports={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]}},function(t,e){"use strict";t.exports={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]}},function(t,e){"use strict";t.exports={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]}},function(t,e){"use strict";t.exports={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]}},function(t,e){"use strict";t.exports={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]}},function(t,e){"use strict";t.exports={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]}},function(t,e){"use strict";t.exports={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]}},function(t,e){"use strict";t.exports={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]}},function(t,e){"use strict";t.exports={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["tau"],seealso:[]}},function(t,e){"use strict";t.exports={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]}},function(t,e){"use strict";t.exports={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]}},function(t,e){"use strict";t.exports={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]}},function(t,e){"use strict";t.exports={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]}},function(t,e){"use strict";t.exports={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]}},function(t,e){"use strict";t.exports={name:"derivative",category:"Algebra",syntax:["derivative(expr)","derivative(expr, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.eval({x: 3})"],seealso:["simplify","parse","eval"]}},function(t,e){"use strict";t.exports={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Solves the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lup","lusolve","usolve","matrix","sparse"]}},function(t,e){"use strict";t.exports={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]}},function(t,e){"use strict";t.exports={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]}},function(t,e){"use strict";t.exports={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.eval({x: 2})"],seealso:["derivative","parse","eval"]}},function(t,e){"use strict";t.exports={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]}},function(t,e){"use strict";t.exports={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Solves the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["lup","lusolve","lsolve","matrix","sparse"]}},function(t,e){"use strict";t.exports={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]}},function(t,e){"use strict";t.exports={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]}},function(t,e){"use strict";t.exports={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]}},function(t,e){"use strict";t.exports={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]}},function(t,e){"use strict";t.exports={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]}},function(t,e){"use strict";t.exports={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]}},function(t,e){"use strict";t.exports={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]}},function(t,e){"use strict";t.exports={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]}},function(t,e){"use strict";t.exports={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]}},function(t,e){"use strict";t.exports={name:"dotpow",category:"Operators",syntax:["x .^ y","dotpow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]}},function(t,e){"use strict";t.exports={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["pow","log"]}},function(t,e){"use strict";t.exports={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]}},function(t,e){"use strict";t.exports={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]}},function(t,e){"use strict";t.exports={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]}},function(t,e){"use strict";t.exports={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]}},function(t,e){"use strict";t.exports={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]}},function(t,e){"use strict";t.exports={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log10"]}},function(t,e){"use strict";t.exports={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]}},function(t,e){"use strict";t.exports={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","function isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]}},function(t,e){"use strict";t.exports={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]}},function(t,e){"use strict";t.exports={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i))","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)","norm([[1, 2], [3, 4]], 'inf')","norm([[1, 2], [3, 4]], 'fro')"]}},function(t,e){"use strict";t.exports={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["sqrt","pow"]}},function(t,e){"use strict";t.exports={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3 = 8","2*2*2","1 + e ^ (pi * i)"],seealso:["multiply"]}},function(t,e){"use strict";t.exports={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]}},function(t,e){"use strict";t.exports={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]}},function(t,e){"use strict";t.exports={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","multiply"]}},function(t,e){"use strict";t.exports={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]}},function(t,e){"use strict";t.exports={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]}},function(t,e){"use strict";t.exports={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]}},function(t,e){"use strict";t.exports={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]}},function(t,e){"use strict";t.exports={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]}},function(t,e){"use strict";t.exports={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]}},function(t,e){"use strict";t.exports={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]}},function(t,e){"use strict";t.exports={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]}},function(t,e){"use strict";t.exports={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]}},function(t,e){"use strict";t.exports={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]}},function(t,e){"use strict";t.exports={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","leftShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]}},function(t,e){"use strict";t.exports={name:"rightLogShift",category:"Bitwise",syntax:["x >> y","leftShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]}},function(t,e){"use strict";t.exports={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]}},function(t,e){"use strict";t.exports={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]}},function(t,e){"use strict";t.exports={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]}},function(t,e){"use strict";t.exports={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]}},function(t,e){"use strict";t.exports={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]}},function(t,e){"use strict";t.exports={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]}},function(t,e){"use strict";t.exports={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number, number": f(x)=x+x })',"double(2)",'double("hello")'],seealso:[]}},function(t,e){"use strict";t.exports={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]}},function(t,e){"use strict";t.exports={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]}},function(t,e){"use strict";t.exports={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]}},function(t,e){"use strict";t.exports={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]}},function(t,e){"use strict";t.exports={name:"eval",category:"Expression",syntax:["eval(expression)","eval([expr1, expr2, expr3, ...])"],description:"Evaluate an expression or an array with expressions.",examples:['eval("2 + 3")','eval("sqrt(" + 4 + ")")'],seealso:[]}},function(t,e){"use strict";t.exports={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]}},function(t,e){"use strict";t.exports={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]}},function(t,e){"use strict";t.exports={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]}},function(t,e){"use strict";t.exports={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]}},function(t,e){"use strict";t.exports={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]}},function(t,e){"use strict";t.exports={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]}},function(t,e){"use strict";t.exports={name:"xor",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 or 4"],seealso:["not","and","or"]}},function(t,e){"use strict";t.exports={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","eye","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(t,e){"use strict";t.exports={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]}},function(t,e){"use strict";t.exports={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","eye","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(t,e){"use strict";t.exports={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",
examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","eye","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(t,e){"use strict";t.exports={name:"dot",category:"Matrix",syntax:["dot(A, B)"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]}},function(t,e){"use strict";t.exports={name:"eye",category:"Matrix",syntax:["eye(n)","eye(m, n)","eye([m, n])","eye"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["eye(3)","eye(3, 5)","a = [1, 2, 3; 4, 5, 6]","eye(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(t,e){"use strict";t.exports={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]}},function(t,e){"use strict";t.exports={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]}},function(t,e){"use strict";t.exports={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["forEach([1, 2, 3], function(val) { console.log(val) })"],seealso:["map","sort","filter"]}},function(t,e){"use strict";t.exports={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","eye","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(t,e){"use strict";t.exports={name:"kron",category:"Matrix",syntax:["math.kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]}},function(t,e){"use strict";t.exports={name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], function(val) { return value * value })"],seealso:["filter","forEach"]}},function(t,e){"use strict";t.exports={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])","ones"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","eye","inv","range","size","squeeze","subset","trace","transpose","zeros"]}},function(t,e){"use strict";t.exports={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1)'],seealso:["sort"]}},function(t,e){"use strict";t.exports={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","eye","inv","ones","size","squeeze","subset","trace","transpose","zeros"]}},function(t,e){"use strict";t.exports={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]}},function(t,e){"use strict";t.exports={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])"],seealso:["size","squeeze","resize"]}},function(t,e){"use strict";t.exports={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","det","diag","eye","inv","ones","range","squeeze","subset","trace","transpose","zeros"]}},function(t,e){"use strict";t.exports={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"])',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]}},function(t,e){"use strict";t.exports={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","eye","inv","ones","range","size","subset","trace","transpose","zeros"]}},function(t,e){"use strict";t.exports={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of a matrix or string. Indexes are one-based. Both the ranges lower-bound and upper-bound are included.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","trace","transpose","zeros"]}},function(t,e){"use strict";t.exports={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","subset","transpose","zeros"]}},function(t,e){"use strict";t.exports={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","subset","trace","zeros"]}},function(t,e){"use strict";t.exports={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])","zeros"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","subset","trace","transpose"]}},function(t,e){"use strict";t.exports={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["permutations","factorial"]}},function(t,e){"use strict";t.exports={name:"factorial",category:"Probability",syntax:["kldivergence(x, y)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","permutations","gamma"]}},function(t,e){"use strict";t.exports={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]}},function(t,e){"use strict";t.exports={name:"kldivergence",category:"Probability",syntax:["n!","factorial(n)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["math.kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]}},function(t,e){"use strict";t.exports={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai <= 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]}},function(t,e){"use strict";t.exports={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","factorial"]}},function(t,e){"use strict";t.exports={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]}},function(t,e){"use strict";t.exports={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]}},function(t,e){"use strict";t.exports={name:"randInt",category:"Probability",syntax:["randInt(max)","randInt(min, max)","randInt(size)","randInt(size, max)","randInt(size, min, max)"],description:"Return a random integer number",examples:["randInt(10, 20)","randInt([2, 3], 10)"],seealso:["pickRandom","random"]}},function(t,e){"use strict";t.exports={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 if x is larger than y, -1 if x is smaller than y, and 0 if x and y are equal.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural"]}},function(t,e){"use strict";t.exports={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)",'compare("2", "10")',"compare(2 + 3i, 2 + 4i)","compare([1, 2, 4], [1, 2, 3])","compare([1, 5], [1, 2, 3])","compare([1, 2], [1, 2])","compare({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]}},function(t,e){"use strict";t.exports={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["[1,3,4] == [1,3,4]","[1,3,4] == [1,3]"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]}},function(t,e){"use strict";t.exports={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]}},function(t,e){"use strict";t.exports={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]}},function(t,e){"use strict";t.exports={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 > 1+1","2 >= 1+1","a = 3.2","b = 6-2.8","(a > b)"],seealso:["equal","unequal","smallerEq","smaller","largerEq","compare"]}},function(t,e){"use strict";t.exports={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]}},function(t,e){"use strict";t.exports={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 1+1","2 <= 1+1","a = 3.2","b = 6-2.8","(a < b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]}},function(t,e){"use strict";t.exports={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]}},function(t,e){"use strict";t.exports={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]}},function(t,e){"use strict";t.exports={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]}},function(t,e){"use strict";t.exports={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]}},function(t,e){"use strict";t.exports={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]}},function(t,e){"use strict";t.exports={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]}},function(t,e){"use strict";t.exports={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]}},function(t,e){"use strict";t.exports={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]}},function(t,e){"use strict";t.exports={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]}},function(t,e){"use strict";t.exports={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]}},function(t,e){"use strict";t.exports={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]}},function(t,e){"use strict";t.exports={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]}},function(t,e){"use strict";t.exports={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])","mad(10, 20, 30)"],seealso:["mean","median","std","abs"]}},function(t,e){"use strict";t.exports={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dim)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","var"]}},function(t,e){"use strict";t.exports={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dim)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","var"]}},function(t,e){"use strict";t.exports={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","var","quantileSeq"]}},function(t,e){"use strict";t.exports={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dim)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","var"]}},function(t,e){"use strict";t.exports={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(5, 2, 7)","mode([3, -1, 5, 7])"],seealso:["max","mean","min","median","prod","std","sum","var"]}},function(t,e){"use strict";t.exports={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","var"]}},function(t,e){"use strict";t.exports={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:"Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. \n\nIn case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.",examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","var"]}},function(t,e){"use strict";t.exports={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(var(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","sum","var"]}},function(t,e){"use strict";t.exports={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","var"]}},function(t,e){"use strict";t.exports={name:"var",category:"Statistics",syntax:["var(a, b, c, ...)","var(A)","var(A, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["var(2, 4, 6)","var([2, 4, 6, 8])",'var([2, 4, 6, 8], "uncorrected")','var([2, 4, 6, 8], "biased")',"var([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]}},function(t,e){"use strict";t.exports={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]}},function(t,e){"use strict";t.exports={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]}},function(t,e){"use strict";t.exports={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]}},function(t,e){"use strict";t.exports={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(0.5)"],seealso:["acsch","asech"]}},function(t,e){"use strict";t.exports={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(0.5)","acsc(csc(0.5))","acsc(2)"],seealso:["csc","asin","asec"]}},function(t,e){"use strict";t.exports={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]}},function(t,e){"use strict";t.exports={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]}},function(t,e){"use strict";t.exports={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]}},function(t,e){"use strict";t.exports={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(2.3))"],seealso:["sin","acos","atan"]}},function(t,e){"use strict";t.exports={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]}},function(t,e){"use strict";t.exports={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(2.3))"],seealso:["tan","acos","asin"]}},function(t,e){"use strict";t.exports={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]}},function(t,e){"use strict";t.exports={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]}},function(t,e){"use strict";t.exports={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]}},function(t,e){"use strict";t.exports={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]}},function(t,e){"use strict";t.exports={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]}},function(t,e){"use strict";t.exports={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]}},function(t,e){"use strict";t.exports={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]}},function(t,e){"use strict";t.exports={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]}},function(t,e){"use strict";t.exports={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]}},function(t,e){"use strict";t.exports={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]}},function(t,e){"use strict";t.exports={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]}},function(t,e){"use strict";t.exports={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]}},function(t,e){"use strict";t.exports={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]}},function(t,e){"use strict";t.exports={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]}},function(t,e){"use strict";t.exports={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]}},function(t,e){"use strict";t.exports={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]}},function(t,e){"use strict";t.exports={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]}},function(t,e){"use strict";t.exports={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]}},function(t,e){"use strict";t.exports={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]}},function(t,e){"use strict";t.exports={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]}},function(t,e){"use strict";t.exports={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)","isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))",'isNumeric("3")',"isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN"]}},function(t,e){"use strict";t.exports={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]}},function(t,e){"use strict";t.exports={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]}},function(t,e){"use strict";t.exports={name:"isZero",category:"Utils",syntax:["isZero(x)"],
description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]}},function(t,e){"use strict";t.exports={name:"typeof",category:"Utils",syntax:["typeof(x)"],description:"Get the type of a variable.",examples:["typeof(3.5)","typeof(2 - 4i)","typeof(45 deg)",'typeof("hello world")'],seealso:[]}},function(t,e,r){"use strict";t.exports=[r(486),r(511),r(512),r(513),r(514)]},function(t,e,r){"use strict";function n(t,e,n,o){var a=n(r(487));return o("compile",{string:function(t){return a(t).compile()},"Array | Matrix":function(t){return i(t,function(t){return a(t).compile()})}})}var i=r(208);e.name="compile",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,a){function s(e,r){if(1!=arguments.length&&2!=arguments.length)throw new i("parse",arguments.length,1,2);if(dt=r&&r.nodes?r.nodes:{},"string"==typeof e)return mt=e,g();if(Array.isArray(e)||e instanceof t.Matrix)return o(e,function(t){if("string"!=typeof t)throw new TypeError("String expected");return mt=t,g()});throw new TypeError("String or matrix expected")}function u(){vt=0,gt=mt.charAt(0),xt=0,wt=null}function c(){vt++,gt=mt.charAt(vt)}function l(){return mt.charAt(vt-1)}function f(){return mt.charAt(vt+1)}function p(){return mt.charAt(vt+2)}function d(){for(_t=lt.NULL,yt="",ht="";s.isWhitespace(gt,xt);)c();if("#"==gt)for(;"\n"!=gt&&""!=gt;)ht+=gt,c();if(""==gt)return void(_t=lt.DELIMITER);if("\n"==gt&&!xt)return _t=lt.DELIMITER,yt=gt,void c();var t=gt+f(),e=t+p();if(3==e.length&&ft[e])return _t=lt.DELIMITER,yt=e,c(),c(),void c();if(2==t.length&&ft[t])return _t=lt.DELIMITER,yt=t,c(),void c();if(ft[gt])return _t=lt.DELIMITER,yt=gt,void c();if(!s.isDigitDot(gt)){if(s.isAlpha(gt,l(),f())){for(;s.isAlpha(gt,l(),f())||s.isDigit(gt);)yt+=gt,c();return void(_t=pt.hasOwnProperty(yt)?lt.DELIMITER:lt.SYMBOL)}for(_t=lt.UNKNOWN;""!=gt;)yt+=gt,c();throw W('Syntax error in part "'+yt+'"')}if(_t=lt.NUMBER,"."==gt)yt+=gt,c(),s.isDigit(gt)||(_t=lt.DELIMITER);else{for(;s.isDigit(gt);)yt+=gt,c();s.isDecimalMark(gt,f())&&(yt+=gt,c())}for(;s.isDigit(gt);)yt+=gt,c();if(t=f(),"E"==gt||"e"==gt)if(s.isDigit(t)||"-"==t||"+"==t){if(yt+=gt,c(),"+"!=gt&&"-"!=gt||(yt+=gt,c()),!s.isDigit(gt))throw W('Digit expected, got "'+gt+'"');for(;s.isDigit(gt);)yt+=gt,c();if(s.isDecimalMark(gt,f()))throw W('Digit expected, got "'+gt+'"')}else if("."==t)throw c(),W('Digit expected, got "'+gt+'"')}function m(){do d();while("\n"==yt)}function h(){xt++}function v(){xt--}function g(){u(),d();var t=y();if(""!=yt)throw _t==lt.DELIMITER?Y("Unexpected operator "+yt):W('Unexpected part "'+yt+'"');return t}function y(){var t,e,r=[];for(""!=yt&&"\n"!=yt&&";"!=yt&&(t=_(),t.comment=ht);"\n"==yt||";"==yt;)0==r.length&&t&&(e=";"!=yt,r.push({node:t,visible:e})),d(),"\n"!=yt&&";"!=yt&&""!=yt&&(t=_(),t.comment=ht,e=";"!=yt,r.push({node:t,visible:e}));return r.length>0?new K(r):(t||(t=new et("undefined","undefined"),t.comment=ht),t)}function _(){var t,e,r,n,i=x();if("="==yt){if(i&&i.isSymbolNode)return t=i.name,m(),r=_(),new Q(new ct(t),r);if(i&&i.isAccessorNode)return m(),r=_(),new Q(i.object,i.index,r);if(i&&i.isFunctionNode&&(n=!0,e=[],t=i.name,i.args.forEach(function(t,r){t&&t.isSymbolNode?e[r]=t.name:n=!1}),n))return m(),r=_(),new rt(t,e,r);throw W("Invalid left hand side of assignment operator =")}return i}function x(){for(var t=w();"?"==yt;){var e=wt;wt=xt,m();var r=t,n=_();if(":"!=yt)throw W("False part of conditional expression expected");wt=null,m();var i=_();t=new tt(r,n,i),wt=e}return t}function w(){for(var t=b();"or"==yt;)m(),t=new ot("or","or",[t,b()]);return t}function b(){for(var t=N();"xor"==yt;)m(),t=new ot("xor","xor",[t,N()]);return t}function N(){for(var t=z();"and"==yt;)m(),t=new ot("and","and",[t,z()]);return t}function z(){for(var t=A();"|"==yt;)m(),t=new ot("|","bitOr",[t,A()]);return t}function A(){for(var t=E();"^|"==yt;)m(),t=new ot("^|","bitXor",[t,E()]);return t}function E(){for(var t=M();"&"==yt;)m(),t=new ot("&","bitAnd",[t,M()]);return t}function M(){var t,e,r,n,i;for(t=O(),e={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};e.hasOwnProperty(yt);)r=yt,n=e[r],m(),i=[t,O()],t=new ot(r,n,i);return t}function O(){var t,e,r,n,i;for(t=S(),e={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};e.hasOwnProperty(yt);)r=yt,n=e[r],m(),i=[t,S()],t=new ot(r,n,i);return t}function S(){var t,e,r,n,i;for(t=k(),e={to:"to","in":"to"};e.hasOwnProperty(yt);)r=yt,n=e[r],m(),"in"===r&&""===yt?t=new ot("*","multiply",[t,new ct("in")],(!0)):(i=[t,k()],t=new ot(r,n,i));return t}function k(){var t,e=[];if(t=":"==yt?new et("1","number"):T(),":"==yt&&wt!==xt){for(e.push(t);":"==yt&&e.length<3;)m(),")"==yt||"]"==yt||","==yt||""==yt?e.push(new ct("end")):e.push(T());t=3==e.length?new ut(e[0],e[2],e[1]):new ut(e[0],e[1])}return t}function T(){var t,e,r,n,i;for(t=C(),e={"+":"add","-":"subtract"};e.hasOwnProperty(yt);)r=yt,n=e[r],m(),i=[t,C()],t=new ot(r,n,i);return t}function C(){var t,e,r,n,i;for(t=B(),e=t,r={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};;)if(r.hasOwnProperty(yt))n=yt,i=r[n],m(),e=B(),t=new ot(n,i,[t,e]);else{if(!(_t==lt.SYMBOL||"in"==yt&&t&&t.isConstantNode)&&(_t!=lt.NUMBER||e.isConstantNode||e.isOperatorNode&&"!"!==e.op)&&"("!=yt)break;e=B(),t=new ot("*","multiply",[t,e],(!0))}return t}function B(){var t,e,r,n={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return n.hasOwnProperty(yt)?(r=n[yt],t=yt,m(),e=[B()],new ot(t,r,e)):I()}function I(){var t,e,r,n;return t=R(),"^"!=yt&&".^"!=yt||(e=yt,r="^"==e?"pow":"dotPow",m(),n=[t,B()],t=new ot(e,r,n)),t}function R(){var t,e,r,n,i;for(t=P(),e={"!":"factorial","'":"transpose"};e.hasOwnProperty(yt);)r=yt,n=e[r],d(),i=[t],t=new ot(r,n,i),t=L(t);return t}function P(){var t=[];if(_t==lt.SYMBOL&&dt.hasOwnProperty(yt)){var e=dt[yt];if(d(),"("==yt){if(t=[],h(),d(),")"!=yt)for(t.push(_());","==yt;)d(),t.push(_());if(")"!=yt)throw W("Parenthesis ) expected");v(),d()}return new e(t)}return U()}function U(){var t,e;return _t==lt.SYMBOL||_t==lt.DELIMITER&&yt in pt?(e=yt,d(),t=new ct(e),t=L(t)):q()}function L(t,e){for(var r;!("("!=yt&&"["!=yt&&"."!=yt||e&&e.indexOf(yt)===-1);)if(r=[],"("==yt){if(!(t.isSymbolNode||t.isAccessorNode||t.isFunctionNode))return t;if(h(),d(),")"!=yt)for(r.push(_());","==yt;)d(),r.push(_());if(")"!=yt)throw W("Parenthesis ) expected");v(),d(),t=new st(t,r)}else if("["==yt){if(h(),d(),"]"!=yt)for(r.push(_());","==yt;)d(),r.push(_());if("]"!=yt)throw W("Parenthesis ] expected");v(),d(),t=new X(t,new nt(r))}else{if(d(),_t!=lt.SYMBOL)throw W("Property name expected after dot");r.push(new et(yt)),d();var n=!0;t=new X(t,new nt(r,n))}return t}function q(){var t,e;return'"'==yt?(e=F(),t=new et(e,"string"),t=L(t)):j()}function F(){for(var t="";""!=gt&&'"'!=gt;)"\\"==gt&&(t+=gt,c()),t+=gt,c();if(d(),'"'!=yt)throw W('End of string " expected');return d(),t}function j(){var t,e,r,n;if("["==yt){if(h(),d(),"]"!=yt){var i=D();if(";"==yt){for(r=1,e=[i];";"==yt;)d(),e[r]=D(),r++;if("]"!=yt)throw W("End of matrix ] expected");v(),d(),n=e[0].items.length;for(var o=1;o<r;o++)if(e[o].items.length!=n)throw Y("Column dimensions mismatch ("+e[o].items.length+" != "+n+")");t=new J(e)}else{if("]"!=yt)throw W("End of matrix ] expected");v(),d(),t=i}}else v(),d(),t=new J([]);return L(t)}return $()}function D(){for(var t=[_()],e=1;","==yt;)d(),t[e]=_(),e++;return new J(t)}function $(){if("{"==yt){var t,e={};do if(d(),"}"!=yt){if('"'==yt)t=F();else{if(_t!=lt.SYMBOL)throw W("Symbol or string expected as object key");t=yt,d()}if(":"!=yt)throw W("Colon : expected after object key");d(),e[t]=_()}while(","==yt);if("}"!=yt)throw W("Comma , or bracket } expected after object value");d();var r=new it(e);return r=L(r)}return H()}function H(){var t;return _t==lt.NUMBER?(t=yt,d(),new et(t,"number")):G()}function G(){var t;if("("==yt){if(h(),d(),t=_(),")"!=yt)throw W("Parenthesis ) expected");return v(),d(),t=new at(t),t=L(t)}return V()}function V(){throw W(""==yt?"Unexpected end of expression":"'"===yt?"Value expected. Note: strings must be enclosed by double quotes":"Value expected")}function Z(){return vt-yt.length+1}function W(t){var e=Z(),r=new SyntaxError(t+" (char "+e+")");return r["char"]=e,r}function Y(t){var e=Z(),r=new SyntaxError(t+" (char "+e+")");return r["char"]=e,r}var X=n(r(488)),J=n(r(499)),Q=n(r(500)),K=n(r(502)),tt=n(r(503)),et=n(r(504)),rt=n(r(505)),nt=n(r(492)),it=n(r(507)),ot=n(r(508)),at=n(r(510)),st=n(r(509)),ut=n(r(493)),ct=n(r(495)),lt={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},ft={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"'":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},pt={mod:!0,to:!0,"in":!0,and:!0,xor:!0,or:!0,not:!0},dt={},mt="",ht="",vt=0,gt="",yt="",_t=lt.NULL,xt=0,wt=null;return s.isAlpha=function(t,e,r){return s.isValidLatinOrGreek(t)||s.isValidMathSymbol(t,r)||s.isValidMathSymbol(e,t)},s.isValidLatinOrGreek=function(t){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(t)},s.isValidMathSymbol=function(t,e){return/^[\uD835]$/.test(t)&&/^[\uDC00-\uDFFF]$/.test(e)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(e)},s.isWhitespace=function(t,e){return" "==t||"\t"==t||"\n"==t&&e>0},s.isDecimalMark=function(t,e){return"."==t&&"/"!==e&&"*"!==e&&"^"!==e},s.isDigitDot=function(t){return t>="0"&&t<="9"||"."==t},s.isDigit=function(t){return t>="0"&&t<="9"},s}var i=r(200),o=r(208);e.name="parse",e.path="expression",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,a){function s(t,e){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(!t||!t.isNode)throw new TypeError('Node expected for parameter "object"');if(!e||!e.isIndexNode)throw new TypeError('IndexNode expected for parameter "index"');this.object=t||null,this.index=e,Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function u(t,e,r){if(!(t instanceof s))throw new TypeError("No valid AccessorNode");e.access=d,e.getSafeProperty=o;var n=f(t.object,e,r),a=f(t.index,e,r);if(t.index.isObjectProperty()){var u=i(t.index.getObjectProperty());return"getSafeProperty("+n+", "+u+")"}return t.index.needsSize()?"(function () {  var object = "+n+";  var size = math.size(object).valueOf();  return access(object, "+a+");})()":"access("+n+", "+a+")"}function c(t){return!(t.isAccessorNode||t.isArrayNode||t.isConstantNode||t.isFunctionNode||t.isObjectNode||t.isParenthesisNode||t.isSymbolNode)}var l=n(r(489)).register,f=n(r(489)).compile,p=n(r(490)),d=(n(r(492)),n(r(496)));return s.prototype=new p,s.prototype.type="AccessorNode",s.prototype.isAccessorNode=!0,l(s.prototype.type,u),s.prototype.forEach=function(t){t(this.object,"object",this),t(this.index,"index",this)},s.prototype.map=function(t){return new s(this._ifNode(t(this.object,"object",this)),this._ifNode(t(this.index,"index",this)))},s.prototype.clone=function(){return new s(this.object,this.index)},s.prototype._toString=function(t){var e=this.object.toString(t);return c(this.object)&&(e="("+e+")"),e+this.index.toString(t)},s.prototype.toHTML=function(t){var e=this.object.toHTML(t);return c(this.object)&&(e='<span class="math-parenthesis math-round-parenthesis">(</span>'+e+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e+this.index.toHTML(t)},s.prototype._toTex=function(t){var e=this.object.toTex(t);return c(this.object)&&(e="\\left("+e+"\\right)"),e+this.index.toTex(t)},s}var i=r(212).stringify,o=r(236).getSafeProperty;e.name="AccessorNode",e.path="expression.node",e.factory=n},function(t,e,r){"use strict";function n(){function t(t,e){if(void 0!==r[t])throw new Error('Cannot register type "'+t+'": already exists');r[t]=e}function e(t,e,n){if(i(r,t.type)){var o=r[t.type];return o(t,e,n)}if("function"!=typeof t._compile||i(t,"_compile"))throw new Error('Cannot compile node: unknown type "'+t.type+'"');return t._compile(e,n)}var r={};return{register:t,compile:e}}var i=r(193).hasOwnProperty;e.factory=n},function(t,e,r){"use strict";function n(t,e,n,u,c){function l(){if(!(this instanceof l))throw new SyntaxError("Constructor must be called with the new operator")}function f(t){for(var e in t)if(s(t,e)&&e in o)throw new Error('Scope contains an illegal symbol, "'+e+'" is a reserved keyword')}var p=n(r(489)).compile;return l.prototype.eval=function(t){return this.compile().eval(t)},l.prototype.type="Node",l.prototype.isNode=!0,l.prototype.comment="",l.prototype.compile=function(){if(arguments.length>0)throw new Error("Calling compile(math) is deprecated. Call the function as compile() instead.");var t={math:c.expression.mathWithTransform,args:{},_validateScope:f},e={},r=p(this,t,e),n=Object.keys(t).map(function(t){return"    var "+t+' = defs["'+t+'"];'}),i=n.join(" ")+'return {  "eval": function (scope) {    if (scope) _validateScope(scope);    scope = scope || {};    return '+r+";  }};",o=new Function("defs",i);return o(t)},l.prototype.forEach=function(t){throw new Error("Cannot run forEach on a Node interface")},l.prototype.map=function(t){throw new Error("Cannot run map on a Node interface")},l.prototype._ifNode=function(t){if(!t||!t.isNode)throw new TypeError("Callback function must return a Node");return t},l.prototype.traverse=function(t){function e(t,r){t.forEach(function(t,n,i){r(t,n,i),e(t,r)})}t(this,null,null),e(this,t)},l.prototype.transform=function(t){function e(t,r){return t.map(function(t,n,i){var o=r(t,n,i);return e(o,r)})}var r=t(this,null,null);return e(r,t)},l.prototype.filter=function(t){var e=[];return this.traverse(function(r,n,i){t(r,n,i)&&e.push(r)}),e},l.prototype.find=function(){throw new Error("Function Node.find is deprecated. Use Node.filter instead.")},l.prototype.match=function(){throw new Error("Function Node.match is deprecated. See functions Node.filter, Node.transform, Node.traverse.")},l.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},l.prototype.cloneDeep=function(){return this.map(function(t){return t.cloneDeep()})},l.prototype.equals=function(t){return!!t&&a(this,t)},l.prototype.toString=function(t){var e;if(t&&"object"===("undefined"==typeof t?"undefined":i(t)))switch(i(t.handler)){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return"undefined"!=typeof e?e:this._toString(t)},l.prototype.toHTML=function(t){var e;if(t&&"object"===("undefined"==typeof t?"undefined":i(t)))switch(i(t.handler)){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return"undefined"!=typeof e?e:this.toHTML(t)},l.prototype._toString=function(){throw new Error("_toString not implemented for "+this.type)},l.prototype.toTex=function(t){var e;if(t&&"object"==("undefined"==typeof t?"undefined":i(t)))switch(i(t.handler)){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return"undefined"!=typeof e?e:this._toTex(t)},l.prototype._toTex=function(t){throw new Error("_toTex not implemented for "+this.type)},l.prototype.getIdentifier=function(){return this.type},l.prototype.getContent=function(){return this},l}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},o=r(491),a=r(193).deepEqual,s=r(193).hasOwnProperty;e.name="Node",e.path="expression.node",e.math=!0,e.factory=n},function(t,e){"use strict";t.exports={end:!0}},function(t,e,r){"use strict";function n(t,e,n,s){function u(t,e){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if(this.dimensions=t,this.dotNotation=e||!1,!m(t)||!t.every(function(t){return t&&t.isNode}))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties");var r=function(){throw new Error("Property `IndexNode.object` is deprecated, use `IndexNode.fn` instead")};Object.defineProperty(this,"object",{get:r,set:r})}function c(t,e,r){if(!(t instanceof u))throw new TypeError("No valid IndexNode");var n=Object.create(r);e.range=function(t,e,r){return new d(t&&t.isBigNumber===!0?t.toNumber():t,e&&e.isBigNumber===!0?e.toNumber():e,r&&r.isBigNumber===!0?r.toNumber():r)};var a=i(t.dimensions,function(t,r){return t&&t.isRangeNode?t.needsEnd()?(n.end="end","(function () {var end = size["+r+"]; return range("+f(t.start,e,n)+", "+f(t.end,e,n)+", "+(t.step?f(t.step,e,n):"1")+"); })()"):"range("+f(t.start,e,n)+", "+f(t.end,e,n)+", "+(t.step?f(t.step,e,n):"1")+")":t.isSymbolNode&&"end"===t.name?(n.end="end","(function () {var end = size["+r+"]; return "+f(t,e,n)+"; })()"):f(t,e,n)});return"math.index("+o(a,", ")+")"}var l=n(r(489)).register,f=n(r(489)).compile,p=n(r(490)),d=(n(r(493)),n(r(495)),n(r(257))),m=Array.isArray;return u.prototype=new p,u.prototype.type="IndexNode",u.prototype.isIndexNode=!0,l(u.prototype.type,c),u.prototype.forEach=function(t){for(var e=0;e<this.dimensions.length;e++)t(this.dimensions[e],"dimensions["+e+"]",this)},u.prototype.map=function(t){for(var e=[],r=0;r<this.dimensions.length;r++)e[r]=this._ifNode(t(this.dimensions[r],"dimensions["+r+"]",this));return new u(e)},u.prototype.clone=function(){return new u(this.dimensions.slice(0))},u.prototype.isObjectProperty=function(){return 1===this.dimensions.length&&this.dimensions[0].isConstantNode&&"string"===this.dimensions[0].valueType},u.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null},u.prototype._toString=function(t){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"},u.prototype.toHTML=function(t){for(var e=[],r=0;r<this.dimensions.length;r++)e[r]=this.dimensions[r].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+a(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},u.prototype._toTex=function(t){var e=this.dimensions.map(function(e){return e.toTex(t)});return this.dotNotation?"."+this.getObjectProperty():"_{"+e.join(",")+"}"},u.prototype.needsSize=function(){return this.dimensions.some(function(t){return t.isRangeNode&&t.needsEnd()||t.isSymbolNode&&"end"===t.name})},u}var i=r(229).map,o=r(229).join,a=r(212).escape;e.name="IndexNode",e.path="expression.node",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,o){function a(t,e,r){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(!t||!t.isNode)throw new TypeError("Node expected");if(!e||!e.isNode)throw new TypeError("Node expected");if(r&&(!r||!r.isNode))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=t,this.end=e,this.step=r||null}function s(t,e,r){if(!(t instanceof a))throw new TypeError("No valid RangeNode");return"math.range("+l(t.start,e,r)+", "+l(t.end,e,r)+(t.step?", "+l(t.step,e,r):"")+")"}function u(t,e){var r=i.getPrecedence(t,e),n={},o=i.getPrecedence(t.start,e);if(n.start=null!==o&&o<=r||"all"===e,t.step){var a=i.getPrecedence(t.step,e);n.step=null!==a&&a<=r||"all"===e}var s=i.getPrecedence(t.end,e);return n.end=null!==s&&s<=r||"all"===e,n}var c=n(r(489)).register,l=n(r(489)).compile,f=n(r(490));return a.prototype=new f,a.prototype.type="RangeNode",a.prototype.isRangeNode=!0,a.prototype.needsEnd=function(){var t=this.filter(function(t){return t&&t.isSymbolNode&&"end"==t.name});return t.length>0},c(a.prototype.type,s),a.prototype.forEach=function(t){t(this.start,"start",this),t(this.end,"end",this),this.step&&t(this.step,"step",this)},a.prototype.map=function(t){return new a(this._ifNode(t(this.start,"start",this)),this._ifNode(t(this.end,"end",this)),this.step&&this._ifNode(t(this.step,"step",this)))},a.prototype.clone=function(){return new a(this.start,this.end,this.step&&this.step)},a.prototype._toString=function(t){var e,r=t&&t.parenthesis?t.parenthesis:"keep",n=u(this,r),i=this.start.toString(t);if(n.start&&(i="("+i+")"),e=i,this.step){var o=this.step.toString(t);n.step&&(o="("+o+")"),e+=":"+o}var a=this.end.toString(t);return n.end&&(a="("+a+")"),e+=":"+a},a.prototype.toHTML=function(t){var e,r=t&&t.parenthesis?t.parenthesis:"keep",n=u(this,r),i=this.start.toHTML(t);if(n.start&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e=i,this.step){var o=this.step.toHTML(t);n.step&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e+='<span class="math-operator math-range-operator">:</span>'+o}var a=this.end.toHTML(t);return n.end&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e+='<span class="math-operator math-range-operator">:</span>'+a},a.prototype._toTex=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=u(this,e),n=this.start.toTex(t);if(r.start&&(n="\\left("+n+"\\right)"),this.step){var i=this.step.toTex(t);r.step&&(i="\\left("+i+"\\right)"),n+=":"+i}var o=this.end.toTex(t);return r.end&&(o="\\left("+o+"\\right)"),n+=":"+o},a}var i=r(494);e.name="RangeNode",e.path="expression.node",e.factory=n},function(t,e){"use strict";function r(t,e){var r=t;"keep"!==e&&(r=t.getContent());for(var n=r.getIdentifier(),i=0;i<o.length;i++)if(n in o[i])return i;return null}function n(t,e){var n=t;"keep"!==e&&(n=t.getContent());var i=n.getIdentifier(),a=r(n,e);if(null===a)return null;var s=o[a][i];if(s.hasOwnProperty("associativity")){if("left"===s.associativity)return"left";if("right"===s.associativity)return"right";throw Error("'"+i+"' has the invalid associativity '"+s.associativity+"'.")}return null}function i(t,e,n){var i=t,a=e;if("keep"!==n)var i=t.getContent(),a=e.getContent();var s=i.getIdentifier(),u=a.getIdentifier(),c=r(i,n);if(null===c)return null;var l=o[c][s];if(l.hasOwnProperty("associativeWith")&&l.associativeWith instanceof Array){for(var f=0;f<l.associativeWith.length;f++)if(l.associativeWith[f]===u)return!0;return!1}return null}var o=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];t.exports.properties=o,t.exports.getPrecedence=r,t.exports.getAssociativity=n,t.exports.isAssociativeWith=i},function(t,e,r){"use strict";function n(t,e,n,c,l){function f(e){return!!t.Unit&&t.Unit.isValuelessUnit(e)}function p(t){if(!(this instanceof p))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('String expected for parameter "name"');this.name=t}function d(e,r,n){if(!(e instanceof p))throw new TypeError("No valid SymbolNode");r.undef=m,r.Unit=t.Unit,r.getSafeProperty=u,r.hasOwnProperty=s;var i=o(e.name);return s(n,e.name)?n[e.name]:e.name in r.math?"("+i+" in scope ? getSafeProperty(scope, "+i+") : getSafeProperty(math, "+i+"))":"("+i+" in scope ? getSafeProperty(scope, "+i+") : "+(f(e.name)?"new Unit(null, "+i+")":"undef("+i+")")+")"}function m(t){throw new Error("Undefined symbol "+t)}var h=n(r(489)).register,v=(n(r(489)).compile,n(r(490)));return p.prototype=new v,p.prototype.type="SymbolNode",p.prototype.isSymbolNode=!0,h(p.prototype.type,d),p.prototype.forEach=function(t){},p.prototype.map=function(t){return this.clone()},p.prototype.clone=function(){return new p(this.name)},p.prototype._toString=function(t){return this.name},p.prototype.toHTML=function(t){var e=a(this.name);return"true"==e||"false"==e?'<span class="math-symbol math-boolean">'+e+"</span>":"i"==e?'<span class="math-symbol math-imaginary-symbol">'+e+"</span>":"Infinity"==e?'<span class="math-symbol math-infinity-symbol">'+e+"</span>":"NaN"==e?'<span class="math-symbol math-nan-symbol">'+e+"</span>":"null"==e?'<span class="math-symbol math-null-symbol">'+e+"</span>":"uninitialized"==e?'<span class="math-symbol math-uninitialized-symbol">'+e+"</span>":'<span class="math-symbol">'+e+"</span>"},p.prototype._toTex=function(t){var e=!1;"undefined"==typeof l[this.name]&&f(this.name)&&(e=!0);var r=i.toSymbol(this.name,e);return"\\"===r[0]?r:" "+r},p}var i=r(221),o=r(212).stringify,a=r(212).escape,s=r(193).hasOwnProperty,u=r(236).getSafeProperty;e.name="SymbolNode",e.path="expression.node",e.math=!0,e.factory=n},function(t,e,r){"use strict";function n(t,e,n,s){var u=n(r(498));return function(t,e){try{if(Array.isArray(t))return u(t,e);if(t&&"function"==typeof t.subset)return t.subset(e);if("string"==typeof t)return u(t,e);if("object"===("undefined"==typeof t?"undefined":i(t))){if(!e.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return a(t,e.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(r){throw o(r)}}}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},o=r(497).transform,a=r(236).getSafeProperty;e.factory=n},function(t,e,r){"use strict";var n=r(232);e.transform=function(t){return t&&t.isIndexError?new n(t.index+1,t.min+1,void 0!==t.max?t.max+1:void 0):t}},function(t,e,r){"use strict";function n(t,e,n,u){function c(t,e){if(!e||e.isIndex!==!0)throw new TypeError("Index expected");if(1!=e.size().length)throw new l(e.size().length,1);var r=t.length;s(e.min()[0],r),s(e.max()[0],r);var n=e.dimension(0),i="";return n.forEach(function(e){i+=t.charAt(e)}),i}function f(t,e,r,n){if(!e||e.isIndex!==!0)throw new TypeError("Index expected");if(1!=e.size().length)throw new l(e.size().length,1);if(void 0!==n){if("string"!=typeof n||1!==n.length)throw new TypeError("Single character expected as defaultValue")}else n=" ";var i=e.dimension(0),o=i.size()[0];if(o!=r.length)throw new l(i.size()[0],r.length);var a=t.length;s(e.min()[0]),s(e.max()[0]);for(var u=[],c=0;c<a;c++)u[c]=t.charAt(c);if(i.forEach(function(t,e){u[t]=r.charAt(e[0])}),u.length>a)for(c=a-1,o=u.length;c<o;c++)u[c]||(u[c]=n);return u.join("")}var p=n(r(242)),d=u("subset",{"Array, Index":function(t,e){var r=p(t),n=r.subset(e);return e.isScalar()?n:n.valueOf()},"Matrix, Index":function(t,e){return t.subset(e)},"Object, Index":i,"string, Index":c,"Array, Index, any":function(t,e,r){return p(a(t)).subset(e,r,void 0).valueOf()},"Array, Index, any, any":function(t,e,r,n){return p(a(t)).subset(e,r,n).valueOf()},"Matrix, Index, any":function(t,e,r){return t.clone().subset(e,r)},"Matrix, Index, any, any":function(t,e,r,n){return t.clone().subset(e,r,n)},"string, Index, string":f,"string, Index, string, string":f,"Object, Index, any":o});return d.toTex=void 0,d}function i(t,e){if(1!==e.size().length)throw new l(e.size(),1);var r=e.dimension(0);if("string"!=typeof r)throw new TypeError("String expected as index to retrieve an object property");return u(t,r)}function o(t,e,r){if(1!==e.size().length)throw new l(e.size(),1);var n=e.dimension(0);if("string"!=typeof n)throw new TypeError("String expected as index to retrieve an object property");var i=a(t);return c(i,n,r),i}var a=r(193).clone,s=r(229).validateIndex,u=r(236).getSafeProperty,c=r(236).setSafeProperty,l=r(231);e.name="subset",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,a){function s(t){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(this.items=t||[],!Array.isArray(this.items)||!this.items.every(function(t){return t&&t.isNode}))throw new TypeError("Array containing Nodes expected");var e=function(){throw new Error("Property `ArrayNode.nodes` is deprecated, use `ArrayNode.items` instead")};Object.defineProperty(this,"nodes",{get:e,set:e})}function u(t,e,r){if(!(t instanceof s))throw new TypeError("No valid ArrayNode");var n="Array"!==e.math.config().matrix,a=i(t.items,function(t){return l(t,e,r)});return(n?"math.matrix([":"[")+o(a,",")+(n?"])":"]")}var c=n(r(489)).register,l=n(r(489)).compile,f=n(r(490));return s.prototype=new f,s.prototype.type="ArrayNode",s.prototype.isArrayNode=!0,c(s.prototype.type,u),s.prototype.forEach=function(t){for(var e=0;e<this.items.length;e++){var r=this.items[e];t(r,"items["+e+"]",this)}},s.prototype.map=function(t){for(var e=[],r=0;r<this.items.length;r++)e[r]=this._ifNode(t(this.items[r],"items["+r+"]",this));return new s(e)},s.prototype.clone=function(){return new s(this.items.slice(0))},s.prototype._toString=function(t){var e=this.items.map(function(e){return e.toString(t)});return"["+e.join(", ")+"]"},s.prototype.toHTML=function(t){var e=this.items.map(function(e){return e.toHTML(t)});return'<span class="math-parenthesis math-square-parenthesis">[</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},s.prototype._toTex=function(t){var e="\\begin{bmatrix}";return this.items.forEach(function(r){
e+=r.items?r.items.map(function(e){return e.toTex(t)}).join("&"):r.toTex(t),e+="\\\\"}),e+="\\end{bmatrix}"},s}var i=r(229).map,o=r(229).join;e.name="ArrayNode",e.path="expression.node",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,s){function u(t,e,r){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if(this.object=t,this.index=r?e:null,this.value=r?r:e,!t||!t.isSymbolNode&&!t.isAccessorNode)throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(t&&t.isSymbolNode&&"end"===t.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!this.index.isIndexNode)throw new TypeError('IndexNode expected as "index"');if(!this.value||!this.value.isNode)throw new TypeError('Node expected as "value"');Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function c(t,e,r){if(!(t instanceof u))throw new TypeError("No valid AssignmentNode");e.assign=m,e.access=h,e.getSafeProperty=o,e.setSafeProperty=a;var n,s=p(t.object,e,r),c=t.index?p(t.index,e,r):null,l=p(t.value,e,r),f=i(t.object.name);if(t.index){if(t.index.isObjectProperty()){var d=i(t.index.getObjectProperty());return"setSafeProperty("+s+", "+d+", "+l+")"}if(t.object.isSymbolNode)return n=t.index.needsSize()?"var size = math.size(object).valueOf();":"","(function () {  var object = "+s+";  var value = "+l+";  "+n+"  setSafeProperty(scope, "+f+", assign(object, "+c+", value));  return value;})()";n=t.index.needsSize()?"var size = math.size(object).valueOf();":"";var v=p(t.object.object,e,r);if(t.object.index.isObjectProperty()){var g=i(t.object.index.getObjectProperty());return"(function () {  var parent = "+v+";  var object = getSafeProperty(parent, "+g+");  var value = "+l+";"+n+"  setSafeProperty(parent, "+g+", assign(object, "+c+", value));  return value;})()"}var y=t.object.index.needsSize()?"var size = math.size(parent).valueOf();":"",_=p(t.object.index,e,r);return"(function () {  var parent = "+v+";  "+y+"  var parentIndex = "+_+";  var object = access(parent, parentIndex);  var value = "+l+";  "+n+"  assign(parent, parentIndex, assign(object, "+c+", value));  return value;})()"}if(!t.object.isSymbolNode)throw new TypeError("SymbolNode expected as object");return"setSafeProperty(scope, "+f+", "+l+")"}function l(t,e){e||(e="keep");var r=v.getPrecedence(t,e),n=v.getPrecedence(t.value,e);return"all"===e||null!==n&&n<=r}var f=n(r(489)).register,p=n(r(489)).compile,d=n(r(490)),m=(n(r(499)),n(r(242)),n(r(501))),h=n(r(496)),v=(r(491),r(494));return u.prototype=new d,u.prototype.type="AssignmentNode",u.prototype.isAssignmentNode=!0,f(u.prototype.type,c),u.prototype.forEach=function(t){t(this.object,"object",this),this.index&&t(this.index,"index",this),t(this.value,"value",this)},u.prototype.map=function(t){var e=this._ifNode(t(this.object,"object",this)),r=this.index?this._ifNode(t(this.index,"index",this)):null,n=this._ifNode(t(this.value,"value",this));return new u(e,r,n)},u.prototype.clone=function(){return new u(this.object,this.index,this.value)},u.prototype._toString=function(t){var e=this.object.toString(t),r=this.index?this.index.toString(t):"",n=this.value.toString(t);return l(this,t&&t.parenthesis)&&(n="("+n+")"),e+r+" = "+n},u.prototype.toHTML=function(t){var e=this.object.toHTML(t),r=this.index?this.index.toHTML(t):"",n=this.value.toHTML(t);return l(this,t&&t.parenthesis)&&(n='<span class="math-paranthesis math-round-parenthesis">(</span>'+n+'<span class="math-paranthesis math-round-parenthesis">)</span>'),e+r+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+n},u.prototype._toTex=function(t){var e=this.object.toTex(t),r=this.index?this.index.toTex(t):"",n=this.value.toTex(t);return l(this,t&&t.parenthesis)&&(n="\\left("+n+"\\right)"),e+r+":="+n},u}var i=(r(221),r(212).stringify),o=r(236).getSafeProperty,a=r(236).setSafeProperty;e.name="AssignmentNode",e.path="expression.node",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,s){var u=n(r(498)),c=n(r(242));return function(t,e,r){try{if(Array.isArray(t))return c(t).subset(e,r).valueOf();if(t&&"function"==typeof t.subset)return t.subset(e,r);if("string"==typeof t)return u(t,e,r);if("object"===("undefined"==typeof t?"undefined":i(t))){if(!e.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return a(t,e.getObjectProperty(),r),t}throw new TypeError("Cannot apply index: unsupported type of object")}catch(n){throw o(n)}}}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},o=r(497).transform,a=r(236).setSafeProperty;e.factory=n},function(t,e,r){"use strict";function n(t,e,n,a){function s(t){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(t))throw new Error("Array expected");this.blocks=t.map(function(t){var e=t&&t.node,r=!t||void 0===t.visible||t.visible;if(!e||!e.isNode)throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof r)throw new TypeError('Property "visible" must be a boolean');return{node:e,visible:r}})}function u(t,e,r){if(!(t instanceof s))throw new TypeError("No valid BlockNode");e.ResultSet=p;var n=i(t.blocks,function(t){var n=l(t.node,e,r);return t.visible?"results.push("+n+");":n+";"});return"(function () {var results = [];"+o(n,"")+"return new ResultSet(results);})()"}var c=n(r(489)).register,l=n(r(489)).compile,f=n(r(490)),p=n(r(262));return s.prototype=new f,s.prototype.type="BlockNode",s.prototype.isBlockNode=!0,c(s.prototype.type,u),s.prototype.forEach=function(t){for(var e=0;e<this.blocks.length;e++)t(this.blocks[e].node,"blocks["+e+"].node",this)},s.prototype.map=function(t){for(var e=[],r=0;r<this.blocks.length;r++){var n=this.blocks[r],i=this._ifNode(t(n.node,"blocks["+r+"].node",this));e[r]={node:i,visible:n.visible}}return new s(e)},s.prototype.clone=function(){var t=this.blocks.map(function(t){return{node:t.node,visible:t.visible}});return new s(t)},s.prototype._toString=function(t){return this.blocks.map(function(e){return e.node.toString(t)+(e.visible?"":";")}).join("\n")},s.prototype.toHTML=function(t){return this.blocks.map(function(e){return e.node.toHTML(t)+(e.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')},s.prototype._toTex=function(t){return this.blocks.map(function(e){return e.node.toTex(t)+(e.visible?"":";")}).join("\\;\\;\n")},s}var i=r(229).map,o=r(229).join;e.name="BlockNode",e.path="expression.node",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,o){function a(t,e,r){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(!t||!t.isNode)throw new TypeError("Parameter condition must be a Node");if(!e||!e.isNode)throw new TypeError("Parameter trueExpr must be a Node");if(!r||!r.isNode)throw new TypeError("Parameter falseExpr must be a Node");this.condition=t,this.trueExpr=e,this.falseExpr=r}function s(t,e,r){if(!(t instanceof a))throw new TypeError("No valid ConditionalNode");return e.testCondition=function(t){if("number"==typeof t||"boolean"==typeof t||"string"==typeof t)return!!t;if(t){if(t.isBigNumber===!0)return!t.isZero();if(t.isComplex===!0)return!(!t.re&&!t.im);if(t.isUnit===!0)return!!t.value}if(null===t||void 0===t)return!1;throw new TypeError('Unsupported type of condition "'+e.math["typeof"](t)+'"')},"testCondition("+c(t.condition,e,r)+") ? ( "+c(t.trueExpr,e,r)+") : ( "+c(t.falseExpr,e,r)+")"}var u=n(r(489)).register,c=n(r(489)).compile,l=n(r(490));return a.prototype=new l,a.prototype.type="ConditionalNode",a.prototype.isConditionalNode=!0,u(a.prototype.type,s),a.prototype.forEach=function(t){t(this.condition,"condition",this),t(this.trueExpr,"trueExpr",this),t(this.falseExpr,"falseExpr",this)},a.prototype.map=function(t){return new a(this._ifNode(t(this.condition,"condition",this)),this._ifNode(t(this.trueExpr,"trueExpr",this)),this._ifNode(t(this.falseExpr,"falseExpr",this)))},a.prototype.clone=function(){return new a(this.condition,this.trueExpr,this.falseExpr)},a.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=i.getPrecedence(this,e),n=this.condition.toString(t),o=i.getPrecedence(this.condition,e);("all"===e||"OperatorNode"===this.condition.type||null!==o&&o<=r)&&(n="("+n+")");var a=this.trueExpr.toString(t),s=i.getPrecedence(this.trueExpr,e);("all"===e||"OperatorNode"===this.trueExpr.type||null!==s&&s<=r)&&(a="("+a+")");var u=this.falseExpr.toString(t),c=i.getPrecedence(this.falseExpr,e);return("all"===e||"OperatorNode"===this.falseExpr.type||null!==c&&c<=r)&&(u="("+u+")"),n+" ? "+a+" : "+u},a.prototype.toHTML=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=i.getPrecedence(this,e),n=this.condition.toHTML(t),o=i.getPrecedence(this.condition,e);("all"===e||"OperatorNode"===this.condition.type||null!==o&&o<=r)&&(n='<span class="math-parenthesis math-round-parenthesis">(</span>'+n+'<span class="math-parenthesis math-round-parenthesis">)</span>');var a=this.trueExpr.toHTML(t),s=i.getPrecedence(this.trueExpr,e);("all"===e||"OperatorNode"===this.trueExpr.type||null!==s&&s<=r)&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>');var u=this.falseExpr.toHTML(t),c=i.getPrecedence(this.falseExpr,e);return("all"===e||"OperatorNode"===this.falseExpr.type||null!==c&&c<=r)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),n+'<span class="math-operator math-conditional-operator">?</span>'+a+'<span class="math-operator math-conditional-operator">:</span>'+u},a.prototype._toTex=function(t){return"\\begin{cases} {"+this.trueExpr.toTex(t)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(t)+"}\\\\{"+this.falseExpr.toTex(t)+"}, &\\quad{\\text{otherwise}}\\end{cases}"},a}var i=(r(221),r(494));e.name="ConditionalNode",e.path="expression.node",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,s){function u(t,e){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if(e){if("string"!=typeof e)throw new TypeError('String expected for parameter "valueType"');if("string"!=typeof t)throw new TypeError('String expected for parameter "value"');this.value=t,this.valueType=e}else this.value=t+"",this.valueType=i(t);if(!d[this.valueType])throw new TypeError('Unsupported type of value "'+this.valueType+'"')}function c(t,r,n){if(!(t instanceof u))throw new TypeError("No valid ConstantNode");switch(t.valueType){case"number":return"BigNumber"===e.number?"math.bignumber("+o(t.value)+")":"Fraction"===e.number?"math.fraction("+o(t.value)+")":(l(t.value),t.value.replace(/^(0*)[0-9]/,function(t,e){return t.substring(e.length)}));case"string":return o(t.value);case"boolean":return"true"===String(t.value)?"true":"false";case"undefined":return"undefined";case"null":return"null";default:throw new TypeError('Unsupported type of constant "'+t.valueType+'"')}}function l(t){if("string"!=typeof t||!/^[\-+]?((\d+\.?\d*)|(\d*\.?\d+))([eE][+\-]?\d+)?$/.test(t))throw new Error('Invalid numeric value "'+t+'"')}var f=n(r(489)).register,p=(n(r(489)).compile,n(r(490))),d={number:!0,string:!0,"boolean":!0,undefined:!0,"null":!0};return u.prototype=new p,u.prototype.type="ConstantNode",u.prototype.isConstantNode=!0,f(u.prototype.type,c),u.prototype.forEach=function(t){},u.prototype.map=function(t){return this.clone()},u.prototype.clone=function(){return new u(this.value,this.valueType)},u.prototype._toString=function(t){switch(this.valueType){case"string":return o(this.value);default:return this.value}},u.prototype.toHTML=function(t){var e=a(this.value);switch(this.valueType){case"number":return'<span class="math-number">'+e+"</span>";case"string":return'<span class="math-string">'+e+"</span>";case"boolean":return'<span class="math-boolean">'+e+"</span>";case"null":return'<span class="math-null-symbol">'+e+"</span>";case"undefined":return'<span class="math-undefined">'+e+"</span>";default:return'<span class="math-symbol">'+e+"</span>"}},u.prototype._toTex=function(t){var e,r=this.value;switch(this.valueType){case"string":return"\\mathtt{"+o(r)+"}";case"number":return e=r.toLowerCase().indexOf("e"),e!==-1?r.substring(0,e)+"\\cdot10^{"+r.substring(e+1)+"}":r;default:return r}},u}var i=r(230).type,o=r(212).stringify,a=r(212).escape;e.name="ConstantNode",e.path="expression.node",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,d){function m(t,e,r){if(!(this instanceof m))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(e))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!r||!r.isNode)throw new TypeError('Node expected for parameter "expr"');if(t in i)throw new Error('Illegal function name, "'+t+'" is a reserved keyword');this.name=t,this.params=e.map(function(t){return t&&t.name||t}),this.types=e.map(function(t){return t&&t.type||"any"}),this.expr=r}function h(t,e,r){if(!(t instanceof m))throw new TypeError("No valid FunctionAssignmentNode");e.typed=d,e.setSafeProperty=f;var n=Object.create(r),i=s(t.params,function(t){return n[t]=p(n),n[t]}),a=y(t.expr,e,n),c=o(t.name);return"setSafeProperty(scope, "+c+",   (function () {    var fn = typed("+c+", {      "+o(u(t.types,","))+": function ("+u(i,",")+") {        return "+a+"      }    });    fn.syntax = "+o(t.name+"("+u(t.params,", ")+")")+";    return fn;  })())"}function v(t,e){var r=l.getPrecedence(t,e),n=l.getPrecedence(t.expr,e);return"all"===e||null!==n&&n<=r}var g=n(r(489)).register,y=n(r(489)).compile,_=n(r(490));return m.prototype=new _,m.prototype.type="FunctionAssignmentNode",m.prototype.isFunctionAssignmentNode=!0,g(m.prototype.type,h),m.prototype.forEach=function(t){t(this.expr,"expr",this)},m.prototype.map=function(t){var e=this._ifNode(t(this.expr,"expr",this));return new m(this.name,this.params.slice(0),e)},m.prototype.clone=function(){return new m(this.name,this.params.slice(0),this.expr)},m.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=this.expr.toString(t);return v(this,e)&&(r="("+r+")"),this.name+"("+this.params.join(", ")+") = "+r},m.prototype.toHTML=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",r=[],n=0;n<this.params.length;n++)r.push('<span class="math-symbol math-parameter">'+a(this.params[n])+"</span>");var i=this.expr.toHTML(t);return v(this,e)&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+a(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+r.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+i},m.prototype._toTex=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=this.expr.toTex(t);return v(this,e)&&(r="\\left("+r+"\\right)"),"\\mathrm{"+this.name+"}\\left("+this.params.map(c.toSymbol).join(",")+"\\right):="+r},m}var i=r(491),o=r(212).stringify,a=r(212).escape,s=r(229).map,u=r(229).join,c=r(221),l=r(494),f=r(236).setSafeProperty,p=r(506);e.name="FunctionAssignmentNode",e.path="expression.node",e.factory=n},function(t,e){"use strict";function r(t){return"arg"+Object.keys(t).length}t.exports=r},function(t,e,r){"use strict";function n(t,e,n,c){function l(t){if(!(this instanceof l))throw new SyntaxError("Constructor must be called with the new operator");if(this.properties=t||{},t&&("object"!==("undefined"==typeof t?"undefined":i(t))||Object.keys(t).some(function(e){return!t[e]||!t[e].isNode})))throw new TypeError("Object containing Nodes expected")}function f(t,e,r){if(!(t instanceof l))throw new TypeError("No valid ObjectNode");var n=[];for(var i in t.properties)if(u(t.properties,i)){if(!s(t.properties,i))throw new Error('No access to property "'+i+'"');n.push(o(i)+": "+d(t.properties[i],e,r))}return"{"+n.join(", ")+"}"}var p=n(r(489)).register,d=n(r(489)).compile,m=n(r(490));return l.prototype=new m,l.prototype.type="ObjectNode",l.prototype.isObjectNode=!0,p(l.prototype.type,f),l.prototype.forEach=function(t){for(var e in this.properties)this.properties.hasOwnProperty(e)&&t(this.properties[e],"properties["+o(e)+"]",this)},l.prototype.map=function(t){var e={};for(var r in this.properties)this.properties.hasOwnProperty(r)&&(e[r]=this._ifNode(t(this.properties[r],"properties["+o(r)+"]",this)));return new l(e)},l.prototype.clone=function(){var t={};for(var e in this.properties)this.properties.hasOwnProperty(e)&&(t[e]=this.properties[e]);return new l(t)},l.prototype._toString=function(t){var e=[];for(var r in this.properties)this.properties.hasOwnProperty(r)&&e.push(o(r)+": "+this.properties[r].toString(t));return"{"+e.join(", ")+"}"},l.prototype.toHTML=function(t){var e=[];for(var r in this.properties)this.properties.hasOwnProperty(r)&&e.push('<span class="math-symbol math-property">'+a(r)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[r].toHTML(t));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'},l.prototype._toTex=function(t){var e=[];for(var r in this.properties)this.properties.hasOwnProperty(r)&&e.push("\\mathbf{"+r+":} & "+this.properties[r].toTex(t)+"\\\\");return"\\left\\{\\begin{array}{ll}"+e.join("\n")+"\\end{array}\\right\\}"},l}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},o=r(212).stringify,a=r(212).escape,s=r(236).isSafeProperty,u=r(193).hasOwnProperty;e.name="ObjectNode",e.path="expression.node",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,f){function p(t,e,r,n){if(!(this instanceof p))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('string expected for parameter "op"');if("string"!=typeof e)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(r)||!r.every(function(t){return t&&t.isNode}))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=n===!0,this.op=t,this.fn=e,this.args=r||[]}function d(t,e,r){if(!(t instanceof p))throw new TypeError("No valid OperatorNode");if("string"!=typeof t.fn||!c(e.math,t.fn))throw e.math[t.fn]?new Error('No access to function "'+t.fn+'"'):new Error("Function "+t.fn+' missing in provided namespace "math"');var n=o(t.args,function(t){return v(t,e,r)});return"math["+s(t.fn)+"]("+a(n,", ")+")"}function m(t,e,r,n){var i=l.getPrecedence(t,e),o=l.getAssociativity(t,e);if("all"===e||r.length>2&&"OperatorNode:add"!==t.getIdentifier()&&"OperatorNode:multiply"!==t.getIdentifier()){var a=r.map(function(t){switch(t.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});return a}if(0===r.length)return[];if(1===r.length){var s=l.getPrecedence(r[0],e);if(n&&null!==s){var u,c;if("keep"===e?(u=r[0].getIdentifier(),c=t.getIdentifier()):(u=r[0].getContent().getIdentifier(),c=t.getContent().getIdentifier()),l.properties[i][c].latexLeftParens===!1)return[!1];if(l.properties[s][u].latexParens===!1)return[!1]}return null===s?[!1]:s<=i?[!0]:[!1]}if(2===r.length){var f,p=l.getPrecedence(r[0],e),d=l.isAssociativeWith(t,r[0],e);f=null!==p&&(p===i&&"right"===o&&!d||p<i);var m,h=l.getPrecedence(r[1],e),v=l.isAssociativeWith(t,r[1],e);if(m=null!==h&&(h===i&&"left"===o&&!v||h<i),n){var c,g,y;"keep"===e?(c=t.getIdentifier(),g=t.args[0].getIdentifier(),y=t.args[1].getIdentifier()):(c=t.getContent().getIdentifier(),g=t.args[0].getContent().getIdentifier(),y=t.args[1].getContent().getIdentifier()),null!==p&&(l.properties[i][c].latexLeftParens===!1&&(f=!1),l.properties[p][g].latexParens===!1&&(f=!1)),null!==h&&(l.properties[i][c].latexRightParens===!1&&(m=!1),l.properties[h][y].latexParens===!1&&(m=!1))}return[f,m]}if(r.length>2&&("OperatorNode:add"===t.getIdentifier()||"OperatorNode:multiply"===t.getIdentifier())){var _=r.map(function(r){var n=l.getPrecedence(r,e),a=l.isAssociativeWith(t,r,e),s=l.getAssociativity(r,e);return null!==n&&(i===n&&o===s&&!a||n<i)});return _}}var h=n(r(489)).register,v=n(r(489)).compile,g=n(r(490));n(r(504)),n(r(495)),n(r(509));return p.prototype=new g,p.prototype.type="OperatorNode",p.prototype.isOperatorNode=!0,h(p.prototype.type,d),p.prototype.forEach=function(t){for(var e=0;e<this.args.length;e++)t(this.args[e],"args["+e+"]",this)},p.prototype.map=function(t){for(var e=[],r=0;r<this.args.length;r++)e[r]=this._ifNode(t(this.args[r],"args["+r+"]",this));return new p(this.op,this.fn,e)},p.prototype.clone=function(){return new p(this.op,this.fn,this.args.slice(0),this.implicit)},p.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=t&&t.implicit?t.implicit:"hide",n=this.args,i=m(this,e,n,!1);if(1===n.length){var o=l.getAssociativity(this,e),a=n[0].toString(t);return i[0]&&(a="("+a+")"),"right"===o?this.op+a:"left"===o?a+this.op:a+this.op}if(2==n.length){var s=n[0].toString(t),u=n[1].toString(t);return i[0]&&(s="("+s+")"),i[1]&&(u="("+u+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"==r?s+" "+u:s+" "+this.op+" "+u}if(n.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var c=n.map(function(e,r){return e=e.toString(t),i[r]&&(e="("+e+")"),e});return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?c.join(" "):c.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"},p.prototype.toHTML=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=t&&t.implicit?t.implicit:"hide",n=this.args,i=m(this,e,n,!1);if(1===n.length){var o=l.getAssociativity(this,e),a=n[0].toHTML(t);return i[0]&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===o?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+u(this.op)+"</span>"+a:"left"===o?'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+u(this.op)+"</span>"+a:'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+u(this.op)+"</span>"+a}if(2==n.length){var s=n[0].toHTML(t),c=n[1].toHTML(t);return i[0]&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),i[1]&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"==r?s+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+c:s+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+u(this.op)+"</span>"+c}if(n.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var f=n.map(function(e,r){return e=e.toHTML(t),i[r]&&(e='<span class="math-parenthesis math-round-parenthesis">(</span>'+e+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e});return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?f.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):f.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+u(this.op)+"</span>")}return'<span class="math-function">'+u(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+f.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'},p.prototype._toTex=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=t&&t.implicit?t.implicit:"hide",n=this.args,o=m(this,e,n,!0),a=i.operators[this.fn];if(a="undefined"==typeof a?this.op:a,1===n.length){var s=l.getAssociativity(this,e),u=n[0].toTex(t);return o[0]&&(u="\\left("+u+"\\right)"),"right"===s?a+u:"left"===s?u+a:u+a}if(2===n.length){var c=n[0],f=c.toTex(t);o[0]&&(f="\\left("+f+"\\right)");var p=n[1],d=p.toTex(t);o[1]&&(d="\\left("+d+"\\right)");var h;switch(h="keep"===e?c.getIdentifier():c.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return a+"{"+f+"}{"+d+"}";case"OperatorNode:pow":switch(f="{"+f+"}",d="{"+d+"}",h){case"ConditionalNode":case"OperatorNode:divide":f="\\left("+f+"\\right)"}case"OperatorNode:multiply":if(this.implicit&&"hide"===r)return f+"~"+d}return f+a+d}if(n.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var v=n.map(function(e,r){return e=e.toTex(t),o[r]&&(e="\\left("+e+"\\right)"),e});return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit?v.join("~"):v.join(a)}return"\\mathrm{"+this.fn+"}\\left("+n.map(function(e){return e.toTex(t)}).join(",")+"\\right)"},p.prototype.getIdentifier=function(){return this.type+":"+this.fn},p}var i=r(221),o=r(229).map,a=r(229).join,s=r(212).stringify,u=r(212).escape,c=r(236).isSafeMethod,l=r(494);e.name="OperatorNode",e.path="expression.node",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,m,h){function v(t,e){if(!(this instanceof v))throw new SyntaxError("Constructor must be called with the new operator");if("string"==typeof t&&(t=new N(t)),!t||!t.isNode)throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(e)||!e.every(function(t){return t&&t.isNode}))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=t,this.args=e||[],Object.defineProperty(this,"name",{get:function(){return this.fn.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}});var r=function(){throw new Error("Property `FunctionNode.object` is deprecated, use `FunctionNode.fn` instead")};Object.defineProperty(this,"object",{get:r,set:r})}function g(t,e,r){if(!(t instanceof v))throw new TypeError("No valid FunctionNode");var n,i=w(t.fn,e,r),o=l(t.args,function(t){return w(t,e,r)}),s=y(e,r);if(t.fn.isSymbolNode){var u=t.fn.name,m=c(e.math,u)?e.math[u]:void 0,h="function"==typeof m&&1==m.rawArgs;return h?(n=d(e),e[n]=t.args,i+"("+n+", math, "+s+")"):i+"("+f(o,", ")+")"}if(t.fn.isAccessorNode&&t.fn.index.isObjectProperty()){n=d(e),e[n]=t.args,e.validateSafeMethod=p;var g=w(t.fn.object,e,r),_=a(t.fn.index.getObjectProperty());return"(function () {var object = "+g+";validateSafeMethod(object, "+_+");return (object["+_+"] && object["+_+"].rawArgs)  ? object["+_+"]("+n+", math, "+s+") : object["+_+"]("+f(o,", ")+")})()"}return n=d(e),e[n]=t.args,"(function () {var fn = "+i+";return (fn && fn.rawArgs)  ? fn("+n+", math, "+s+") : fn("+f(o,", ")+")})()"}function y(t,e){var r=Object.keys(e);if(0===r.length)return"scope";t.extend=u;var n=l(r,function(t){return a(t)+": "+e[t]});return"extend(extend({}, scope), {"+f(n,", ")+"})"}function _(t,e,r){for(var n,o="",a=new RegExp("\\$(?:\\{([a-z_][a-z_0-9]*)(?:\\[([0-9]+)\\])?\\}|\\$)","ig"),s=0;null!==(n=a.exec(t));)if(o+=t.substring(s,n.index),s=n.index,"$$"===n[0])o+="$",s++;else{s+=n[0].length;var u=e[n[1]];if(!u)throw new ReferenceError("Template: Property "+n[1]+" does not exist.");if(void 0===n[2])switch("undefined"==typeof u?"undefined":i(u)){case"string":o+=u;break;case"object":if(u.isNode)o+=u.toTex(r);else{if(!Array.isArray(u))throw new TypeError("Template: "+n[1]+" has to be a Node, String or array of Nodes");o+=u.map(function(t,e){if(t&&t.isNode)return t.toTex(r);throw new TypeError("Template: "+n[1]+"["+e+"] is not a Node.")}).join(",")}break;default:throw new TypeError("Template: "+n[1]+" has to be a Node, String or array of Nodes")}else{if(!u[n[2]]||!u[n[2]].isNode)throw new TypeError("Template: "+n[1]+"["+n[2]+"] is not a Node.");o+=u[n[2]].toTex(r)}}return o+=t.slice(s)}var x=n(r(489)).register,w=n(r(489)).compile,b=n(r(490)),N=n(r(495));v.prototype=new b,v.prototype.type="FunctionNode",v.prototype.isFunctionNode=!0,x(v.prototype.type,g),v.prototype.forEach=function(t){for(var e=0;e<this.args.length;e++)t(this.args[e],"args["+e+"]",this)},v.prototype.map=function(t){for(var e=this.fn.map(t),r=[],n=0;n<this.args.length;n++)r[n]=this._ifNode(t(this.args[n],"args["+n+"]",this));return new v(e,r)},v.prototype.clone=function(){return new v(this.fn,this.args.slice(0))};var z=v.prototype.toString;v.prototype.toString=function(t){var e,r=this.fn.toString(t);return t&&"object"===i(t.handler)&&c(t.handler,r)&&(e=t.handler[r](this,t)),"undefined"!=typeof e?e:z.call(this,t)},v.prototype._toString=function(t){var e=this.args.map(function(e){return e.toString(t)});return this.fn.toString(t)+"("+e.join(", ")+")"},v.prototype.toHTML=function(t){var e=this.args.map(function(e){return e.toHTML(t)});return'<span class="math-function">'+s(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'};var A=v.prototype.toTex;return v.prototype.toTex=function(t){var e;return t&&"object"===i(t.handler)&&c(t.handler,this.name)&&(e=t.handler[this.name](this,t)),"undefined"!=typeof e?e:A.call(this,t)},v.prototype._toTex=function(t){var e,r=this.args.map(function(e){return e.toTex(t)});!h[this.name]||"function"!=typeof h[this.name].toTex&&"object"!==i(h[this.name].toTex)&&"string"!=typeof h[this.name].toTex||(e=h[this.name].toTex);var n;switch("undefined"==typeof e?"undefined":i(e)){case"function":n=e(this,t);break;case"string":n=_(e,this,t);break;case"object":switch(i(e[r.length])){case"function":n=e[r.length](this,t);break;case"string":n=_(e[r.length],this,t)}}return"undefined"!=typeof n?n:_(o.defaultTemplate,this,t)},v.prototype.getIdentifier=function(){return this.type+":"+this.name},v}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},o=r(221),a=r(212).stringify,s=r(212).escape,u=r(193).extend,c=r(193).hasOwnProperty,l=r(229).map,f=r(229).join,p=r(236).validateSafeMethod,d=r(506);e.name="FunctionNode",e.path="expression.node",e.math=!0,e.factory=n},function(t,e,r){"use strict";function n(t,e,n,i){function o(t){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(!t||!t.isNode)throw new TypeError('Node expected for parameter "content"');this.content=t}function a(t,e,r){if(!(t instanceof o))throw new TypeError("No valid ParenthesisNode");return u(t.content,e,r)}var s=n(r(489)).register,u=n(r(489)).compile,c=n(r(490));return o.prototype=new c,o.prototype.type="ParenthesisNode",o.prototype.isParenthesisNode=!0,s(o.prototype.type,a),o.prototype.getContent=function(){return this.content.getContent()},o.prototype.forEach=function(t){t(this.content,"content",this)},o.prototype.map=function(t){var e=t(this.content,"content",this);return new o(e)},o.prototype.clone=function(){return new o(this.content)},o.prototype._toString=function(t){return!t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?"("+this.content.toString(t)+")":this.content.toString(t)},o.prototype.toHTML=function(t){return!t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(t)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(t);
},o.prototype._toTex=function(t){return!t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?"\\left("+this.content.toTex(t)+"\\right)":this.content.toTex(t)},o}e.name="ParenthesisNode",e.path="expression.node",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,o){var a=n(r(487));return o("compile",{string:function(t){var e={};return a(t).compile().eval(e)},"string, Object":function(t,e){return a(t).compile().eval(e)},"Array | Matrix":function(t){var e={};return i(t,function(t){return a(t).compile().eval(e)})},"Array | Matrix, Object":function(t,e){return i(t,function(t){return a(t).compile().eval(e)})}})}var i=r(208);e.name="eval",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,o,a){var s=n(r(291));return o("help",{any:function(e){var r,n=e;if("string"!=typeof e)for(r in a)if(a.hasOwnProperty(r)&&e===a[r]){n=r;break}var o=i(s,n);if(!o)throw new Error('No documentation found on "'+n+'"');return new t.Help(o)}})}var i=r(236).getSafeProperty;e.math=!0,e.name="help",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,i){var o=n(r(487));return i("parse",{"string | Array | Matrix":o,"string | Array | Matrix, Object":o})}e.name="parse",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,i,o){var a=n(r(515));return i("parser",{"":function(){return new a(o)}})}e.name="parser",e.factory=n,e.math=!0},function(t,e,r){"use strict";function n(t,e,n,a,s){function u(){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");this.scope={}}var c=n(r(487));return u.prototype.type="Parser",u.prototype.isParser=!0,u.prototype.parse=function(t){throw new Error("Parser.parse is deprecated. Use math.parse instead.")},u.prototype.compile=function(t){throw new Error("Parser.compile is deprecated. Use math.compile instead.")},u.prototype.eval=function(t){return c(t).compile().eval(this.scope)},u.prototype.get=function(t){return t in this.scope?o.getSafeProperty(this.scope,t):void 0},u.prototype.getAll=function(){return i({},this.scope)},u.prototype.set=function(t,e){return o.setSafeProperty(this.scope,t,e)},u.prototype.remove=function(t){delete this.scope[t]},u.prototype.clear=function(){for(var t in this.scope)this.scope.hasOwnProperty(t)&&delete this.scope[t]},u}var i=r(193).extend,o=r(236);e.name="Parser",e.path="expression",e.factory=n,e.math=!0},function(t,e,r){"use strict";t.exports=[r(488),r(499),r(500),r(502),r(503),r(504),r(492),r(505),r(509),r(490),r(507),r(508),r(510),r(493),r(495),r(517)]},function(t,e){"use strict";function r(t,e,r,n){function i(){throw new Error("UpdateNode is deprecated. Use AssignmentNode instead.")}return i}e.name="UpdateNode",e.path="expression.node",e.factory=r},function(t,e,r){"use strict";t.exports=[r(519),r(521),r(523),r(524),r(525),r(526),r(532),r(537),r(539),r(541)]},function(t,e,r){"use strict";function n(t,e,n,o){var a=n(r(520));return o("concat",{"...any":function(t){var e=t.length-1,r=t[e];"number"==typeof r?t[e]=r-1:r&&r.isBigNumber===!0&&(t[e]=r.minus(1));try{return a.apply(null,t)}catch(n){throw i(n)}}})}var i=r(497).transform;e.name="concat",e.path="expression.transform",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,l){var f=n(r(242)),p=l("concat",{"...Array | Matrix | number | BigNumber":function(t){var e,r,n=t.length,l=-1,p=!1,d=[];for(e=0;e<n;e++){var m=t[e];if(m&&m.isMatrix===!0&&(p=!0),"number"==typeof m||m&&m.isBigNumber===!0){if(e!==n-1)throw new Error("Dimension must be specified as last argument");if(r=l,l=m.valueOf(),!a(l))throw new TypeError("Integer number expected for dimension");if(l<0||e>0&&l>r)throw new u(l,r+1)}else{var h=o(m).valueOf(),v=s.size(h);if(d[e]=h,r=l,l=v.length-1,e>0&&l!=r)throw new c(r+1,l+1)}}if(0==d.length)throw new SyntaxError("At least one matrix expected");for(var g=d.shift();d.length;)g=i(g,d.shift(),l,0);return p?f(g):g},"...string":function(t){return t.join("")}});return p.toTex=void 0,p}function i(t,e,r,n){if(n<r){if(t.length!=e.length)throw new c(t.length,e.length);for(var o=[],a=0;a<t.length;a++)o[a]=i(t[a],e[a],r,n+1);return o}return t.concat(e)}var o=r(193).clone,a=r(196).isInteger,s=r(229),u=r(232),c=r(231);e.name="concat",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,o){function s(t,e,r){var n,i;return t[0]&&(n=t[0].compile().eval(r)),t[1]&&(i=t[1].isSymbolNode||t[1].isFunctionAssignmentNode?t[1].compile().eval(r):u(t[1],e,r)),l(n,i)}var c=n(r(242));s.rawArgs=!0;var l=o("filter",{"Array, function":i,"Matrix, function":function(t,e){return c(i(t.toArray(),e))},"Array, RegExp":a,"Matrix, RegExp":function(t,e){return c(a(t.toArray(),e))}});return l.toTex=void 0,s}function i(t,e){var r=s(e);return o(t,function(t,n,i){return 1===r?e(t):2===r?e(t,[n+1]):e(t,[n+1],i)})}var o=r(229).filter,a=r(229).filterRegExp,s=r(234).maxArgumentCount,u=r(522);e.name="filter",e.path="expression.transform",e.factory=n},function(t,e){"use strict";t.exports=function(t,e,r){var n=t.filter(function(t){return t&&t.isSymbolNode&&!(t.name in e)&&!(t.name in r)})[0];if(!n)throw new Error('No undefined variable found in inline expression "'+t+'"');var i=n.name,o=Object.create(r),a=t.compile();return function(t){return o[i]=t,a.eval(o)}}},function(t,e,r){"use strict";function n(t,e,r,n){function s(t,e,r){var n,i;return t[0]&&(n=t[0].compile().eval(r)),t[1]&&(i=t[1].isSymbolNode||t[1].isFunctionAssignmentNode?t[1].compile().eval(r):a(t[1],e,r)),u(n,i)}s.rawArgs=!0;var u=n("forEach",{"Array | Matrix, function":function(t,e){var r=i(e),n=function a(n,i){Array.isArray(n)?o(n,function(t,e){a(t,i.concat(e+1))}):1===r?e(n):2===r?e(n,i):e(n,i,t)};n(t.valueOf(),[])}});return s}var i=r(234).maxArgumentCount,o=r(229).forEach,a=r(522);e.name="forEach",e.path="expression.transform",e.factory=n},function(t,e){"use strict";function r(t,e,r){return function(){for(var e=[],r=0,n=arguments.length;r<n;r++){var i=arguments[r];if(i&&i.isRange===!0)i.start--,i.end-=i.step>0?0:2;else if(i&&i.isSet===!0)i=i.map(function(t){return t-1});else if(i&&(i.isArray===!0||i.isMatrix))i=i.map(function(t){return t-1});else if("number"==typeof i)i--;else if(i&&i.isBigNumber===!0)i=i.toNumber()-1;else if("string"!=typeof i)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");e[r]=i}var o=new t.Index;return t.Index.apply(o,e),o}}e.name="index",e.path="expression.transform",e.factory=r},function(t,e,r){"use strict";function n(t,e,n,o){function a(t,e,r){var n,i;return t[0]&&(n=t[0].compile().eval(r)),t[1]&&(i=t[1].isSymbolNode||t[1].isFunctionAssignmentNode?t[1].compile().eval(r):s(t[1],e,r)),c(n,i)}var u=n(r(242));a.rawArgs=!0;var c=o("map",{"Array, function":function(t,e){return i(t,e,t)},"Matrix, function":function(t,e){return u(i(t.valueOf(),e,t))}});return a}function i(t,e,r){function n(t,o){return Array.isArray(t)?a(t,function(t,e){return n(t,o.concat(e+1))}):1===i?e(t):2===i?e(t,o):e(t,o,r)}var i=o(e);return n(t,[])}var o=r(234).maxArgumentCount,a=r(229).map,s=r(522);e.name="map",e.path="expression.transform",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,a){var s=n(r(528));return a("max",{"...any":function(t){if(2==t.length&&o(t[0])){var e=t[1];"number"==typeof e?t[1]=e-1:e&&e.isBigNumber===!0&&(t[1]=e.minus(1))}try{return s.apply(null,t)}catch(r){throw i(r)}}})}var i=r(497).transform,o=r(527);e.name="max",e.path="expression.transform",e.factory=n},function(t,e){"use strict";t.exports=function(t){return Array.isArray(t)||t&&t.isMatrix===!0}},function(t,e,r){"use strict";function n(t,e,n,s){function u(t,e){return l(t,e)?t:e}function c(t){var e=void 0;if(i(t,function(t){(void 0===e||l(t,e))&&(e=t)}),void 0===e)throw new Error("Cannot calculate max of an empty array");return e}var l=n(r(254)),f=s("max",{"Array | Matrix":c,"Array | Matrix, number | BigNumber":function(t,e){return o(t,e.valueOf(),u)},"...":function(t){if(a(t))throw new TypeError("Scalar values expected in function max");return c(t)}});return f.toTex="\\max\\left(${args}\\right)",f}var i=r(529),o=r(530),a=r(531);e.name="max",e.factory=n},function(t,e){"use strict";t.exports=function r(t,e){t&&t.isMatrix===!0&&(t=t.valueOf());for(var n=0,i=t.length;n<i;n++){var o=t[n];Array.isArray(o)?r(o,e):e(o)}}},function(t,e,r){"use strict";function n(t,e,r){var o,a,s,u;if(e<=0){if(Array.isArray(t[0])){for(u=i(t),a=[],o=0;o<u.length;o++)a[o]=n(u[o],e-1,r);return a}for(s=t[0],o=1;o<t.length;o++)s=r(s,t[o]);return s}for(a=[],o=0;o<t.length;o++)a[o]=n(t[o],e-1,r);return a}function i(t){var e,r,n=t.length,i=t[0].length,o=[];for(r=0;r<i;r++){var a=[];for(e=0;e<n;e++)a.push(t[e][r]);o.push(a)}return o}var o=r(229).size,a=r(232);t.exports=function(t,e,r){var i=Array.isArray(t)?o(t):t.size();if(e<0||e>=i.length)throw new a(e,i.length);return t&&t.isMatrix===!0?t.create(n(t.valueOf(),e,r)):n(t,e,r)}},function(t,e,r){"use strict";var n=r(527);t.exports=function(t){for(var e=0;e<t.length;e++)if(n(t[e]))return!0;return!1}},function(t,e,r){"use strict";function n(t,e,n,a){var s=n(r(533));return a("mean",{"...any":function(t){if(2==t.length&&o(t[0])){var e=t[1];"number"==typeof e?t[1]=e-1:e&&e.isBigNumber===!0&&(t[1]=e.minus(1))}try{return s.apply(null,t)}catch(r){throw i(r)}}})}var i=r(497).transform,o=r(527);e.name="mean",e.path="expression.transform",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,u){function c(t,e){var r=a(t,e,f),n=Array.isArray(t)?i(t):t.size();return p(r,n[e])}function l(t){var e=0,r=0;if(o(t,function(t){e=f(e,t),r++}),0===r)throw new Error("Cannot calculate mean of an empty array");return p(e,r)}var f=n(r(241)),p=n(r(534)),d=u("mean",{"Array | Matrix":l,"Array | Matrix, number | BigNumber":c,"...":function(t){if(s(t))throw new TypeError("Scalar values expected in function mean");return l(t)}});return d.toTex=void 0,d}var i=r(229).size,o=r(529),a=r(530),s=r(531);e.name="mean",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,o){var a=n(r(271)),s=n(r(274)),u=n(r(535)),c=n(r(242)),l=n(r(275)),f=n(r(248)),p=o("divide",i({"Array | Matrix, Array | Matrix":function(t,e){return s(t,u(e))},"Matrix, any":function(t,e){var r;switch(t.storage()){case"sparse":r=l(t,e,a,!1);break;case"dense":r=f(t,e,a,!1)}return r},"Array, any":function(t,e){return f(c(t),e,a,!1).valueOf()},"any, Array | Matrix":function(t,e){return s(t,u(e))}},a.signatures));return p.toTex={2:"\\frac{${args[0]}}{${args[1]}}"},p}var i=r(193).extend;e.name="divide",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,o){function a(t,e,r){var n,i,o,a,s;if(1==e){if(a=t[0][0],0==a)throw Error("Cannot calculate inverse, determinant is zero");return[[u(1,a)]]}if(2==e){var m=p(t);if(0==m)throw Error("Cannot calculate inverse, determinant is zero");return[[u(t[1][1],m),u(f(t[0][1]),m)],[u(f(t[1][0]),m),u(t[0][0],m)]]}var h=t.concat();for(n=0;n<e;n++)h[n]=h[n].concat();for(var v=d(e).valueOf(),g=0;g<r;g++){for(n=g;n<e&&0==h[n][g];)n++;if(n==e||0==h[n][g])throw Error("Cannot calculate inverse, determinant is zero");n!=g&&(s=h[g],h[g]=h[n],h[n]=s,s=v[g],v[g]=v[n],v[n]=s);var y=h[g],_=v[g];for(n=0;n<e;n++){var x=h[n],w=v[n];if(n!=g){if(0!=x[g]){for(o=u(f(x[g]),y[g]),i=g;i<r;i++)x[i]=c(x[i],l(o,y[i]));for(i=0;i<r;i++)w[i]=c(w[i],l(o,_[i]))}}else{for(o=y[g],i=g;i<r;i++)x[i]=u(x[i],o);for(i=0;i<r;i++)w[i]=u(w[i],o)}}}return v}var s=n(r(242)),u=n(r(271)),c=n(r(243)),l=n(r(274)),f=n(r(268)),p=n(r(536)),d=n(r(273)),m=o("inv",{"Array | Matrix":function(t){var e=t.isMatrix===!0?t.size():i.array.size(t);switch(e.length){case 1:if(1==e[0])return t.isMatrix===!0?s([u(1,t.valueOf()[0])]):[u(1,t[0])];throw new RangeError("Matrix must be square (size: "+i.string.format(e)+")");case 2:var r=e[0],n=e[1];if(r==n)return t.isMatrix===!0?s(a(t.valueOf(),r,n),t.storage()):a(t,r,n);throw new RangeError("Matrix must be square (size: "+i.string.format(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+i.string.format(e)+")")}},any:function(t){return u(1,t)}});return m.toTex={1:"\\left(${args[0]}\\right)^{-1}"},m}var i=r(228);e.name="inv",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,i){function s(t,e,r){if(1==e)return o.clone(t[0][0]);if(2==e)return l(f(t[0][0],t[1][1]),f(t[1][0],t[0][1]));for(var n=function(t){var e,r,n=new Array(t.length),i=0;for(e=1;e<t.length;e++)i=c(i,t[e][e]);for(e=0;e<t.length;e++){for(n[e]=new Array(t.length),n[e][e]=p(i),r=0;r<e;r++)n[e][r]=0;for(r=e+1;r<t.length;r++)n[e][r]=t[e][r];e+1<t.length&&(i=l(i,t[e+1][e+1]))}return n},i=t,a=0;a<e-1;a++)i=f(n(i),t);return e%2==0?p(i[0][0]):i[0][0]}var u=n(r(242)),c=n(r(241)),l=n(r(267)),f=n(r(274)),p=n(r(268)),d=i("det",{any:function(t){return o.clone(t)},"Array | Matrix":function(t){var e;switch(t&&t.isMatrix===!0?e=t.size():Array.isArray(t)?(t=u(t),e=t.size()):e=[],e.length){case 0:return o.clone(t);case 1:if(1==e[0])return o.clone(t.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+a.format(e)+")");case 2:var r=e[0],n=e[1];if(r==n)return s(t.clone().valueOf(),r,n);throw new RangeError("Matrix must be square (size: "+a.format(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+a.format(e)+")")}}});return d.toTex={1:"\\det\\left(${args[0]}\\right)"},d}var i=r(228),o=i.object,a=i.string;e.name="det",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,a){var s=n(r(538));return a("min",{"...any":function(t){if(2==t.length&&o(t[0])){var e=t[1];"number"==typeof e?t[1]=e-1:e&&e.isBigNumber===!0&&(t[1]=e.minus(1))}try{return s.apply(null,t)}catch(r){throw i(r)}}})}var i=r(497).transform,o=r(527);e.name="min",e.path="expression.transform",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,s){function u(t,e){return l(t,e)?t:e}function c(t){var e=void 0;if(i(t,function(t){(void 0===e||l(t,e))&&(e=t)}),void 0===e)throw new Error("Cannot calculate min of an empty array");return e}var l=n(r(250)),f=s("min",{"Array | Matrix":c,"Array | Matrix, number | BigNumber":function(t,e){return o(t,e.valueOf(),u)},"...":function(t){if(a(t))throw new TypeError("Scalar values expected in function min");return c(t)}});return f.toTex="\\min\\left(${args}\\right)",f}var i=r(529),o=r(530),a=r(531);e.name="min",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,i){var o=n(r(540));return i("range",{"...any":function(t){var e=t.length-1,r=t[e];return"boolean"!=typeof r&&t.push(!0),o.apply(null,t)}})}e.name="range",e.path="expression.transform",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,i){function o(t){return"Array"===e.matrix?t:p(t)}function a(r,n){var i=f(r);if(!i)throw new SyntaxError('String "'+r+'" is no valid range');var a;return"BigNumber"===e.number?(a=n?l:c,o(a(new t.BigNumber(i.start),new t.BigNumber(i.end),new t.BigNumber(i.step)))):(a=n?u:s,o(a(i.start,i.end,i.step)))}function s(t,e,r){var n=[],i=t;if(r>0)for(;i<e;)n.push(i),i+=r;else if(r<0)for(;i>e;)n.push(i),i+=r;return n}function u(t,e,r){var n=[],i=t;if(r>0)for(;i<=e;)n.push(i),i+=r;else if(r<0)for(;i>=e;)n.push(i),i+=r;return n}function c(t,e,r){var n=[],i=t;if(r.gt(d))for(;i.lt(e);)n.push(i),i=i.plus(r);else if(r.lt(d))for(;i.gt(e);)n.push(i),i=i.plus(r);return n}function l(t,e,r){var n=[],i=t;if(r.gt(d))for(;i.lte(e);)n.push(i),i=i.plus(r);else if(r.lt(d))for(;i.gte(e);)n.push(i),i=i.plus(r);return n}function f(t){var e=t.split(":"),r=e.map(function(t){return Number(t)}),n=r.some(function(t){return isNaN(t)});if(n)return null;switch(r.length){case 2:return{start:r[0],end:r[1],step:1};case 3:return{start:r[0],end:r[2],step:r[1]};default:return null}}var p=n(r(242)),d=new t.BigNumber(0),m=new t.BigNumber(1),h=i("range",{string:a,"string, boolean":a,"number, number":function(t,e){return o(s(t,e,1))},"number, number, number":function(t,e,r){return o(s(t,e,r))},"number, number, boolean":function(t,e,r){return o(r?u(t,e,1):s(t,e,1))},"number, number, number, boolean":function(t,e,r,n){return o(n?u(t,e,r):s(t,e,r))},"BigNumber, BigNumber":function(t,e){return o(c(t,e,m))},"BigNumber, BigNumber, BigNumber":function(t,e,r){return o(c(t,e,r))},"BigNumber, BigNumber, boolean":function(t,e,r){return o(r?l(t,e,m):c(t,e,m))},"BigNumber, BigNumber, BigNumber, boolean":function(t,e,r,n){return o(n?l(t,e,r):c(t,e,r))}});return h.toTex=void 0,h}e.name="range",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,o){var a=n(r(498));return o("subset",{"...any":function(t){try{return a.apply(null,t)}catch(e){throw i(e)}}})}var i=r(497).transform;e.name="subset",e.path="expression.transform",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,a){function s(t){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(!t)throw new Error('Argument "doc" missing');this.doc=t}var u=n(r(514))();return s.prototype.type="Help",s.prototype.isHelp=!0,s.prototype.toString=function(){var t=this.doc||{},e="\n";if(t.name&&(e+="Name: "+t.name+"\n\n"),t.category&&(e+="Category: "+t.category+"\n\n"),t.description&&(e+="Description:\n    "+t.description+"\n\n"),t.syntax&&(e+="Syntax:\n    "+t.syntax.join("\n    ")+"\n\n"),t.examples){e+="Examples:\n";for(var r=0;r<t.examples.length;r++){var n=t.examples[r];e+="    "+n+"\n";var i;try{i=u.eval(n)}catch(a){i=a}i&&!i.isHelp&&(e+="        "+o.format(i,{precision:14})+"\n")}e+="\n"}return t.seealso&&(e+="See also: "+t.seealso.join(", ")+"\n"),e},s.prototype.toJSON=function(){var t=i.clone(this.doc);return t.mathjs="Help",t},s.fromJSON=function(t){var e={};for(var r in t)"mathjs"!==r&&(e[r]=t[r]);return new s(e)},s.prototype.valueOf=s.prototype.toString,s}var i=r(193),o=r(212);e.name="Help",e.path="type",e.factory=n},function(t,e,r){"use strict";t.exports=[r(544),r(585),r(611),r(627),r(636),r(640),r(643),r(648),r(667),r(678),r(681),r(692),r(694),r(702),r(704),r(730),r(732)]},function(t,e,r){"use strict";t.exports=[r(545),r(546),r(551),r(559),r(560),r(580),r(582),r(584)]},function(t,e,r){"use strict";function n(t,e,n,i){function o(t){if("log"!=t.name&&"nthRoot"!=t.name||2!=t.args.length){for(var e=0;e<t.args.length;++e)t.args[e]=new u(0);throw t.compile().eval(),new Error("Expected TypeError, but none found")}}var a=n(r(487)),s=n(r(546)),u=n(r(504)),c=n(r(509)),l=n(r(508)),f=n(r(510)),p=n(r(495)),d=i("derivative",{"Node, SymbolNode, Object":function(t,e,r){var n={};h(n,t,e.name);var i=v(t,n);return r.simplify?s(i):i},"Node, SymbolNode":function(t,e){return d(t,e,{simplify:!0})},"string, SymbolNode":function(t,e){return d(a(t),e)},"string, SymbolNode, Object":function(t,e,r){return d(a(t),e,r)},"string, string":function(t,e){return d(a(t),a(e))},"string, string, Object":function(t,e,r){return d(a(t),a(e),r)},"Node, string":function(t,e){return d(t,a(e))},"Node, string, Object":function(t,e,r){return d(t,a(e),r)}});d._simplify=!0,d.toTex=function(t){return m.apply(null,t.args)};var m=i("_derivTex",{"Node, SymbolNode":function(t,e){return m(t.toString(),e.toString(),1)},"Node, SymbolNode, ConstantNode":function(t,e,r){return m(t.toString(),e.name,r.value)},"string, string, number":function(t,e,r){var n;return n=1===r?"{d\\over d"+e+"}":"{d^{"+r+"}\\over d"+e+"^{"+r+"}}",n+"\\left["+t+"\\right]"}}),h=i("constTag",{"Object, ConstantNode, string":function(t,e){return t[e]=!0},"Object, SymbolNode, string":function(t,e,r){return e.name!=r&&(t[e]=!0)},"Object, ParenthesisNode, string":function(t,e,r){return h(t,e.content,r)},"Object, FunctionAssignmentNode, string":function(t,e,r){return e.params.indexOf(r)==-1?t[e]=!0:h(t,e.expr,r)},"Object, FunctionNode | OperatorNode, string":function(t,e,r){if(0!=e.args.length){for(var n=h(t,e.args[0],r),i=1;i<e.args.length;++i)n=h(t,e.args[i],r)&&n;if(n)return t[e]=!0}return!1}}),v=i("_derivative",{"ConstantNode, Object":function(t){return new u("0",t.valueType)},"SymbolNode, Object":function(t,r){return void 0!==r[t]?new u("0",e.number):new u("1",e.number)},"ParenthesisNode, Object":function(t,e){return new f(v(t.content,e))},"FunctionAssignmentNode, Object":function(t,r){return void 0!==r[t]?new u("0",e.number):v(t.expr,r)},"FunctionNode, Object":function(t,r){if(1!=t.args.length&&o(t),void 0!==r[t])return new u("0",e.number);var n,i,a=t.args[0],s=!1,f=!1;switch(t.name){case"cbrt":s=!0,i=new l("*","multiply",[new u("3",e.number),new l("^","pow",[a,new l("/","divide",[new u("2",e.number),new u("3",e.number)])])]);break;case"sqrt":case"nthRoot":if(1==t.args.length){s=!0,i=new l("*","multiply",[new u("2",e.number),new c("sqrt",[a])]);break}return n=new l("/","divide",[new u("1",e.number),t.args[1]]),r[n]=r[t.args[1]],v(new l("^","pow",[a,n]),r);case"log10":n=new u("10",e.number);case"log":if(n||1!=t.args.length){if(!n&&void 0===r[t.args[1]])return v(new l("/","divide",[new c("log",[a]),new c("log",[t.args[1]])]),r);i=new l("*","multiply",[a.clone(),new c("log",[n||t.args[1]])])}else i=a.clone();s=!0;break;case"exp":i=new c("exp",[a.clone()]);break;case"sin":i=new c("cos",[a.clone()]);break;case"cos":i=new l("-","unaryMinus",[new c("sin",[a.clone()])]);break;case"tan":i=new l("^","pow",[new c("sec",[a.clone()]),new u("2",e.number)]);break;case"sec":i=new l("*","multiply",[t,new c("tan",[a.clone()])]);break;case"csc":f=!0,i=new l("*","multiply",[t,new c("cot",[a.clone()])]);break;case"cot":f=!0,i=new l("^","pow",[new c("csc",[a.clone()]),new u("2",e.number)]);break;case"asin":s=!0,i=new c("sqrt",[new l("-","subtract",[new u("1",e.number),new l("^","pow",[a.clone(),new u("2",e.number)])])]);break;case"acos":s=!0,f=!0,i=new c("sqrt",[new l("-","subtract",[new u("1",e.number),new l("^","pow",[a.clone(),new u("2",e.number)])])]);break;case"atan":s=!0,i=new l("+","add",[new l("^","pow",[a.clone(),new u("2",e.number)]),new u("1",e.number)]);break;case"asec":s=!0,i=new l("*","multiply",[new c("abs",[a.clone()]),new c("sqrt",[new l("-","subtract",[new l("^","pow",[a.clone(),new u("2",e.number)]),new u("1",e.number)])])]);break;case"acsc":s=!0,f=!0,i=new l("*","multiply",[new c("abs",[a.clone()]),new c("sqrt",[new l("-","subtract",[new l("^","pow",[a.clone(),new u("2",e.number)]),new u("1",e.number)])])]);break;case"acot":s=!0,f=!0,i=new l("+","add",[new l("^","pow",[a.clone(),new u("2",e.number)]),new u("1",e.number)]);break;case"sinh":i=new c("cosh",[a.clone()]);break;case"cosh":i=new c("sinh",[a.clone()]);break;case"tanh":i=new l("^","pow",[new c("sech",[a.clone()]),new u("2",e.number)]);break;case"sech":f=!0,i=new l("*","multiply",[t,new c("tanh",[a.clone()])]);break;case"csch":f=!0,i=new l("*","multiply",[t,new c("coth",[a.clone()])]);break;case"coth":f=!0,i=new l("^","pow",[new c("csch",[a.clone()]),new u("2",e.number)]);break;case"asinh":s=!0,i=new c("sqrt",[new l("+","add",[new l("^","pow",[a.clone(),new u("2",e.number)]),new u("1",e.number)])]);break;case"acosh":s=!0,i=new c("sqrt",[new l("-","subtract",[new l("^","pow",[a.clone(),new u("2",e.number)]),new u("1",e.number)])]);break;case"atanh":s=!0,i=new l("-","subtract",[new u("1",e.number),new l("^","pow",[a.clone(),new u("2",e.number)])]);break;case"asech":s=!0,f=!0,i=new l("*","multiply",[a.clone(),new c("sqrt",[new l("-","subtract",[new u("1",e.number),new l("^","pow",[a.clone(),new u("2",e.number)])])])]);break;case"acsch":s=!0,f=!0,i=new l("*","multiply",[new c("abs",[a.clone()]),new c("sqrt",[new l("+","add",[new l("^","pow",[a.clone(),new u("2",e.number)]),new u("1",e.number)])])]);break;case"acoth":s=!0,f=!0,i=new l("-","subtract",[new u("1",e.number),new l("^","pow",[a.clone(),new u("2",e.number)])]);break;case"abs":i=new l("/","divide",[new c(new p("abs"),[a.clone()]),a.clone()]);break;case"gamma":default:throw new Error('Function "'+t.name+'" not supported by derivative')}var d,m;s?(d="/",m="divide"):(d="*",m="multiply");var h=v(a,r);return f&&(h=new l("-","unaryMinus",[h])),new l(d,m,[h,i])},"OperatorNode, Object":function(t,r){if(void 0!==r[t])return new u("0",e.number);var n=t.args[0],i=t.args[1];switch(t.op){case"+":case"-":return 1==t.args.length?new l(t.op,t.fn,[v(n,r)]):new l(t.op,t.fn,[v(n,r),v(i,r)]);case"*":if(void 0!==r[n]||void 0!==r[i]){var o=void 0!==r[n]?[n.clone(),v(i,r)]:[i.clone(),v(n,r)];return new l("*","multiply",o)}return new l("+","add",[new l("*","multiply",[v(n,r),i.clone()]),new l("*","multiply",[n.clone(),v(i,r)])]);case"/":return void 0!==r[i]?new l("/","divide",[v(n,r),i]):void 0!==r[n]?new l("*","multiply",[new l("-","unaryMinus",[n]),new l("/","divide",[v(i,r),new l("^","pow",[i.clone(),new u("2",e.number)])])]):new l("/","divide",[new l("-","subtract",[new l("*","multiply",[v(n,r),i.clone()]),new l("*","multiply",[n.clone(),v(i,r)])]),new l("^","pow",[i.clone(),new u("2",e.number)])]);case"^":if(void 0!==r[n])return!n.isConstantNode||"0"!=n.value&&"1"!=n.value?new l("*","multiply",[t,new l("*","multiply",[new c("log",[n.clone()]),v(i.clone(),r)])]):new u("0",e.number);if(void 0!==r[i]){if(i.isConstantNode){var a=i.value;if("0"==a)return new u("0",e.number);if("1"==a)return v(n,r)}var s=new l("^","pow",[n.clone(),new l("-","subtract",[i,new u("1",e.number)])]);return new l("*","multiply",[i.clone(),new l("*","multiply",[v(n,r),s])])}return new l("*","multiply",[new l("^","pow",[n.clone(),i.clone()]),new l("+","add",[new l("*","multiply",[v(n,r),new l("/","divide",[i.clone(),n.clone()])]),new l("*","multiply",[v(i,r),new c("log",[n.clone()])])])]);case"%":case"mod":default:throw new Error('Operator "'+t.op+'" not supported by derivative')}}});return d}e.name="derivative",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,o,a){function s(t){return t.transform(function(t,e,r){return t.isParenthesisNode?t.content:t})}function u(t){for(var e=[],r=0;r<t.length;r++){var n,o=t[r],a="undefined"==typeof o?"undefined":i(o);switch(a){case"string":var u=o.split("->");if(2!==u.length)throw SyntaxError("Could not parse rule: "+o);o={l:u[0],r:u[1]};case"object":if(n={l:s(v(o.l)),r:s(v(o.r))},o.context&&(n.evaluate=o.context),o.evaluate&&(n.evaluate=v(o.evaluate)),n.l.isOperatorNode&&M(n.l)){var l=T(n.l),f=c();n.expanded={},n.expanded.l=l([n.l.clone(),f]),O(n.expanded.l),S(n.expanded.l),n.expanded.r=l([n.r,f])}break;case"function":n=o;break;default:throw TypeError("Unsupported type of rule: "+a)}e.push(n)}return e}function c(){return new w("_p"+I++)}function l(t,e){var r,n,i=[],o=T(t);if(E(t,e))for(var a=0;a<t.args.length;a++)n=t.args.slice(0),n.splice(a,1),r=1===n.length?n[0]:o(n),i.push(o([t.args[a],r]));else n=t.args.slice(1),r=1===n.length?n[0]:o(n),i.push(o([t.args[0],r]));return i}function f(t,e){var r={placeholders:{}};if(!t.placeholders&&!e.placeholders)return r;if(!t.placeholders)return e;if(!e.placeholders)return t;for(var n in t.placeholders)if(r.placeholders[n]=t.placeholders[n],e.placeholders.hasOwnProperty(n)&&!h(t.placeholders[n],e.placeholders[n]))return null;for(var n in e.placeholders)r.placeholders[n]=e.placeholders[n];return r}function p(t,e){var r=[];if(0===t.length||0===e.length)return r;for(var n,i=0;i<t.length;i++)for(var o=0;o<e.length;o++)n=f(t[i],e[o]),n&&r.push(n);return r}function d(t){if(0===t.length)return t;for(var e=t.reduce(p),r=[],n={},i=0;i<e.length;i++){var o=JSON.stringify(e[i]);n[o]||(n[o]=!0,r.push(e[i]))}return r}function m(t,e,r){var n=[{placeholders:{}}];if(t instanceof _&&e instanceof _||t instanceof y&&e instanceof y){if(t instanceof _){if(t.op!==e.op||t.fn!==e.fn)return[]}else if(t instanceof y&&t.name!==e.name)return[];if((1!==e.args.length||1!==t.args.length)&&M(e)&&!r){if(e.args.length>=2&&2===t.args.length){for(var i=l(e,t.context),o=[],s=0;s<i.length;s++){var u=m(t,i[s],!0);o=o.concat(u)}return o}if(t.args.length>2)throw Error("Unexpected non-binary associative function: "+t.toString());return[]}for(var c=[],s=0;s<t.args.length;s++){var f=m(t.args[s],e.args[s]);if(0===f.length)return[];c.push(f)}n=d(c)}else if(t instanceof w){if(0===t.name.length)throw new Error("Symbol in rule has 0 length...!?");if(a.hasOwnProperty(t.name)){if(!B[t.name])throw new Error("Built in constant: "+t.name+" is not supported by simplify.");if(t.name!==e.name)return[]}else if("n"==t.name[0]||"_p"==t.name.substring(0,2))n[0].placeholders[t.name]=e;else if("v"==t.name[0]){if(e.isConstantNode)return[];n[0].placeholders[t.name]=e}else{if("c"!=t.name[0])throw new Error("Invalid symbol in rule: "+t.name);if(!(e instanceof g))return[];n[0].placeholders[t.name]=e}}else{if(!(t instanceof g))return[];if(t.value!==e.value)return[]}return n}function h(t,e){if(t instanceof g&&e instanceof g){if(t.value!==e.value)return!1}else if(t instanceof w&&e instanceof w){if(t.name!==e.name)return!1}else{if(!(t instanceof _&&e instanceof _||t instanceof y&&e instanceof y))return!1;if(t instanceof _){if(t.op!==e.op||t.fn!==e.fn)return!1}else if(t instanceof y&&t.name!==e.name)return!1;if(t.args.length!==e.args.length)return!1;for(var r=0;r<t.args.length;r++)if(!h(t.args[r],e.args[r]))return!1}return!0}var v=n(r(487)),g=n(r(504)),y=n(r(509)),_=n(r(508)),x=n(r(510)),w=n(r(495)),b=(n(r(490)),n(r(547))),N=n(r(549)),z=n(r(550)),A=n(r(548)),E=A.isCommutative,M=A.isAssociative,O=A.flatten,S=A.unflattenr,k=A.unflattenl,T=A.createMakeNodeFunction,C=o("simplify",{string:function(t){return C(v(t),C.rules,{})},"string, Object":function(t,e){return C(v(t),C.rules,e)},"string, Array":function(t,e){return C(v(t),e,{})},"Node, Object":function(t,e){return C(t,C.rules,e)},Node:function(t){return C(t,C.rules,{})},"Node, Array":function(t,e){return C(t,e,{})},"Node, Array, Object":function(t,e,r){e=u(e);for(var n=z(t,r),n=s(n),i={},o=n.toString({parenthesis:"all"});!i[o];){i[o]=!0,I=0;for(var a=0;a<e.length;a++)"function"==typeof e[a]?n=e[a](n):(O(n),n=R(n,e[a])),k(n);o=n.toString({parenthesis:"all"})}return n}});C.simplifyCore=N,C.resolve=z;var B={"true":!0,"false":!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};C.rules=[N,{l:"log(e)",r:"1"},{l:"n-n1",r:"n+-n1"},{l:"-(c*v)",r:"(-c) * v"},{l:"-v",r:"(-1) * v"},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{l:"n*n",r:"n^2"},{l:"n * n^n1",r:"n^(n1+1)"},{l:"n^n1 * n^n2",r:"n^(n1+n2)"},{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},{l:"n1*n2 + n2",r:"(n1+1)*n2"},{l:"n1*n3 + n2*n3",r:"(n1+n2)*n3"},b,{l:"(-n)*n1",r:"-(n*n1)"},{l:"c+v",r:"v+c",context:{add:{commutative:!1}}},{l:"v*c",r:"c*v",context:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"n-(n1+n2)",r:"n-n1-n2"},{l:"1*n",r:"n"}];var I=0,R=o("applyRule",{"Node, Object":function(t,e){var r=t;if(r instanceof _||r instanceof y){if(r.args)for(var n=0;n<r.args.length;n++)r.args[n]=R(r.args[n],e)}else r instanceof x&&r.content&&(r.content=R(r.content,e));var i=e.r,o=m(e.l,r)[0];return!o&&e.expanded&&(i=e.expanded.r,o=m(e.expanded.l,r)[0]),o&&(r=i.clone(),r=r.transform(function(t,e,r){if(t.isSymbolNode&&o.placeholders.hasOwnProperty(t.name)){var n=o.placeholders[t.name].clone();return n}return t})),r}});return C}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};e.math=!0,e.name="simplify",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,i,o){function a(t){var e=p(t);return e.isNode?e:x(e)}function s(t,e){try{return w(o[t].apply(null,e))}catch(r){return e=e.map(function(t){return t.isFraction?t.valueOf():t}),w(o[t].apply(null,e))}}function u(t){if(isFinite(t)){var e=o.fraction(t);if(e.valueOf()===t)return e}return t}function c(t){return new _("-","unaryMinus",[t])}function l(t){var e,r=t.s*t.n;return e=r<0?new _("-","unaryMinus",[new y((-r))]):new y(r),1===t.d?e:new _("/","divide",[e,new y(t.d)])}function f(t,e,r){return e.reduce(function(e,n){if(e.isNode||n.isNode)e.isNode?n.isNode||(n=x(n)):e=x(e);else{try{return s(t,[e,n])}catch(i){}e=x(e),n=x(n)}return r([e,n])})}function p(t){switch(t.type){case"SymbolNode":return t;case"ConstantNode":return"number"===t.valueType?w(t.value):t;case"FunctionNode":if(o[t.name]&&o[t.name].rawArgs)return t;case"OperatorNode":var e,r,n=t.fn.toString(),i=g(t);if(1===t.args.length)e=[p(t.args[0])],r=e[0].isNode?i(e):s(n,e);else if(h(t))if(e=v(t),e=e.map(p),m(n)){for(var a=[],u=[],c=0;c<e.length;c++)e[c].isNode?u.push(e[c]):a.push(e[c]);a.length>1?(r=f(n,a,i),
u.unshift(r),r=f(n,u,i)):r=f(n,e,i)}else r=f(n,e,i);else e=t.args.map(p),r=f(n,e,i);return r;case"ParenthesisNode":return p(t.content);case"AccessorNode":case"ArrayNode":case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"IndexNode":case"ObjectNode":case"RangeNode":case"UpdateNode":case"ConditionalNode":default:throw"Unimplemented node type in simplifyConstant: "+t.type}}var d=n(r(548)),m=d.isCommutative,h=d.isAssociative,v=d.allChildren,g=d.createMakeNodeFunction,y=o.expression.node.ConstantNode,_=o.expression.node.OperatorNode,x=i({Fraction:l,number:function(t){return t<0?c(new y((-t))):new y(t)},BigNumber:function(t){return t<0?c(new y(t.negated().toString(),"number")):new y(t.toString(),"number")},Complex:function(t){throw"Cannot convert Complex number to Node"}}),w=i({string:function(t){return"BigNumber"===e.number?o.bignumber(t):"Fraction"===e.number?o.fraction(t):u(parseFloat(t))},Fraction:function(t){return t},BigNumber:function(t){return t},number:function(t){return u(t)},Complex:function(t){return 0!==t.im?t:u(t.re)}});return a}r(196).digits;e.math=!0,e.name="simplifyConstant",e.path="algebra.simplify",e.factory=n},function(t,e){"use strict";function r(t,e,r,n,i){function o(t,e){if(!t.args||t.args.length<=1)return!0;var r=t.fn.toString();return e&&e.hasOwnProperty(r)&&e[r].hasOwnProperty("commutative")?e[r].commutative:h[r]||!1}function a(t,e){if(!t.args||t.args.length<=1)return!0;var r=t.fn.toString();return e&&e.hasOwnProperty(r)&&e[r].hasOwnProperty("associative")?e[r].associative:v[r]||!1}function s(t){if(!t.args||0===t.args.length)return t;t.args=u(t);for(var e=0;e<t.args.length;e++)s(t.args[e])}function u(t){var e,r=[],n=function i(t){for(var n=0;n<t.args.length;n++){var o=t.args[n];o.isOperatorNode&&e===o.op?i(o):r.push(o)}};return t.isOperatorNode&&a(t)?(e=t.op,n(t),r):t.args}function c(t){if(t.args&&0!==t.args.length){for(var e=f(t),r=t.args.length,n=0;n<r;n++)c(t.args[n]);if(r>2&&a(t)){for(var i=t.args.pop();t.args.length>0;)i=e([t.args.pop(),i]);t.args=i.args}}}function l(t){if(t.args&&0!==t.args.length){for(var e=f(t),r=t.args.length,n=0;n<r;n++)l(t.args[n]);if(r>2&&a(t)){for(var i=t.args.shift();t.args.length>0;)i=e([i,t.args.shift()]);t.args=i.args}}}function f(t){return t.isOperatorNode?function(e){try{return new d(t.op,t.fn,e)}catch(r){return console.error(r),[]}}:function(e){return new p(new m(t.name),e)}}var p=i.expression.node.FunctionNode,d=i.expression.node.OperatorNode,m=i.expression.node.SymbolNode,h={add:!0,multiply:!0},v={add:!0,multiply:!0};return{createMakeNodeFunction:f,isCommutative:o,isAssociative:a,flatten:s,allChildren:u,unflattenr:c,unflattenl:l}}e.factory=r,e.math=!0},function(t,e){"use strict";function r(t,e,r,n,i){function o(t){if(t.isOperatorNode&&t.args.length<=2){var e=o(t.args[0]),r=t.args[1]&&o(t.args[1]);if("+"===t.op){if(1===t.args.length)return t.args[0];if(e.isConstantNode){if("0"===e.value)return r;if(r.isConstantNode&&e.value&&e.value.length<5&&r.value&&r.value.length<5)return new a(Number(e.value)+Number(r.value))}return r&&r.isConstantNode&&"0"===r.value?e:new s(t.op,t.fn,r?[e,r]:[e])}if("-"===t.op){if(e.isConstantNode&&r){if(r.isConstantNode&&e.value&&e.value.length<5&&r.value&&r.value.length<5)return new a(Number(e.value)-Number(r.value));if("0"===e.value)return new s("-","unaryMinus",[r])}if("subtract"===t.fn)return r.isConstantNode&&"0"===r.value?e:r.isOperatorNode&&"unaryMinus"===r.fn?o(new s("+","add",[e,r.args[0]])):new s(t.op,t.fn,[e,r]);if("unaryMinus"===t.fn)return new s(t.op,t.fn,[e])}else{if("*"===t.op){if(e.isConstantNode){if("0"===e.value)return c;if("1"===e.value)return r;if(r.isConstantNode&&e.value&&e.value.length<5&&r.value&&r.value.length<5)return new a(Number(e.value)*Number(r.value))}if(r.isConstantNode){if("0"===r.value)return c;if("1"===r.value)return e;if(e.isOperatorNode&&e.op===t.op){var n=e.args[0];if(n.isConstantNode&&r.value&&r.value.length<5&&n.value&&n.value.length<5){var f=new a(Number(e.args[0].value)*Number(r.value));return new s(t.op,t.fn,[f,e.args[1]])}}return new s(t.op,t.fn,[r,e])}return new s(t.op,t.fn,[e,r])}if("/"===t.op){if(e.isConstantNode){if("0"===e.value)return c;if(r.isConstantNode&&e.value&&e.value.length<5&&("1"===r.value||"2"===r.value||"4"===r.value))return new a(Number(e.value)/Number(r.value))}return new s(t.op,t.fn,[e,r])}if("^"===t.op){if(r.isConstantNode){if("0"===r.value)return l;if("1"===r.value)return e;if(r.isConstantNode&&e.value&&e.value.length<5&&r.value&&r.value.length<2)return new a(i.pow(Number(e.value),Number(r.value)))}return new s(t.op,t.fn,[e,r])}}}else{if(t.isParenthesisNode){var p=o(t.content);return p.isParenthesisNode||p.isSymbolNode||p.isConstantNode?p:new ParenthesisNode(p)}if(t.isFunctionNode){var d=t.args.map(function(t){return o(t)});return 1===d.length&&d[0].isParenthesisNode&&(d[0]=d[0].content),new u(t.name,d)}}return t}var a=i.expression.node.ConstantNode,s=i.expression.node.OperatorNode,u=i.expression.node.FunctionNode,c=new a(0),l=new a(1);return o}e.math=!0,e.name="simplifyCore",e.path="algebra.simplify",e.factory=r},function(t,e){"use strict";function r(t,e,r,n,i){function o(t,e){if(null==e)return t;if(t.isSymbolNode){var r=e[t.name];if(r instanceof a)return o(r,e);if("number"==typeof r)return i.parse(String(r))}else{if(t.isOperatorNode){var n=t.args.map(function(t){return o(t,e)});return new s(t.op,t.fn,n)}if(t.isParenthesisNode)return new c(o(t.content,e));if(t.isFunctionNode){var n=t.args.map(function(t){return o(t,e)});return new u(t.name,n)}}return t}var a=i.expression.node.Node,s=i.expression.node.OperatorNode,u=i.expression.node.FunctionNode,c=i.expression.node.ParenthesisNode;return o}e.math=!0,e.name="resolve",e.path="algebra.simplify",e.factory=r},function(t,e,r){"use strict";function n(t,e,n,i){var o=n(r(242)),a=n(r(279)),s=n(r(273)),u=(n(r(552)),n(r(553))),c=(n(r(554)),n(r(555))),l=(n(r(276)),n(r(556))),f=n(r(557)),p=n(r(558)),d=n(r(268)),m=n(r(243)),h=n(r(271)),v=n(r(270)),g=n(r(267)),y=i("qr",{DenseMatrix:function(t){return _(t)},SparseMatrix:function(t){return x(t)},Array:function(t){var e=o(t),r=_(e);return{Q:r.Q.valueOf(),R:r.R.valueOf()}}}),_=function(t){var e,r,n,i=t._size[0],o=t._size[1],y=s([i],"dense"),_=y._data,x=t.clone(),w=x._data,b=a([i],"");for(n=0;n<Math.min(o,i);++n){var N=w[n][n],z=d(l(N)),A=p(z),E=0;for(e=n;e<i;e++)E=m(E,v(w[e][n],p(w[e][n])));var M=v(z,f(E));if(!u(M)){var O=g(N,M);for(b[n]=1,e=n+1;e<i;e++)b[e]=h(w[e][n],O);var S,k=d(p(h(O,M)));for(r=n;r<o;r++){for(S=0,e=n;e<i;e++)S=m(S,v(p(b[e]),w[e][r]));for(S=v(S,k),e=n;e<i;e++)w[e][r]=v(g(w[e][r],v(b[e],S)),A)}for(e=0;e<i;e++){for(S=0,r=n;r<i;r++)S=m(S,v(_[e][r],b[r]));for(S=v(S,k),r=n;r<i;++r)_[e][r]=h(g(_[e][r],v(S,p(b[r]))),A)}}}for(e=0;e<i;++e)for(r=0;r<e&&r<o;++r){if(c(0,h(w[e][r],1e5)))throw new Error("math.qr(): unknown error - R is not lower triangular (element ("+e+", "+r+")  = "+w[e][r]+")");w[e][r]=v(w[e][r],0)}return{Q:y,R:x,toString:function(){return"Q: "+this.Q.toString()+"\nR: "+this.R.toString()}}},x=function(t){throw new Error("qr not implemented for sparse matrices yet")};return y}e.name="qr",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("clone",{any:i.clone});return o.toTex=void 0,o}var i=r(193);e.name="clone",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("isZero",{number:function(t){return 0===t},BigNumber:function(t){return t.isZero()},Complex:function(t){return 0===t.re&&0===t.im},Fraction:function(t){return 1===t.d&&0===t.n},Unit:function(t){return o(t.value)},"Array | Matrix":function(t){return i(t,o)}});return o}var i=r(208);r(196);e.name="isZero",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("isPositive",{number:function(t){return t>0},BigNumber:function(t){return!t.isNeg()&&!t.isZero()&&!t.isNaN()},Fraction:function(t){return t.s>0&&t.n>0},Unit:function(t){return o(t.value)},"Array | Matrix":function(t){return i(t,o)}});return o}var i=r(208);r(196);e.name="isPositive",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,a){var s=n(r(242)),u=n(r(251)),c=n(r(252)),l=n(r(253)),f=n(r(247)),p=n(r(248)),d=r(221),m=a("unequal",{"any, any":function(t,e){return null===t?null!==e:null===e?null!==t:void 0===t?void 0!==e:void 0===e?void 0!==t:h(t,e)},"Matrix, Matrix":function(t,e){var r;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":r=c(t,e,h);break;default:r=u(e,t,h,!0)}break;default:switch(e.storage()){case"sparse":r=u(t,e,h,!1);break;default:r=f(t,e,h)}}return r},"Array, Array":function(t,e){return m(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return m(s(t),e)},"Matrix, Array":function(t,e){return m(t,s(e))},"Matrix, any":function(t,e){var r;switch(t.storage()){case"sparse":r=l(t,e,h,!1);break;default:r=p(t,e,h,!1)}return r},"any, Matrix":function(t,e){var r;switch(e.storage()){case"sparse":r=l(e,t,h,!0);break;default:r=p(e,t,h,!0)}return r},"Array, any":function(t,e){return p(s(t),e,h,!1).valueOf()},"any, Array":function(t,e){return p(s(e),t,h,!0).valueOf()}}),h=a("_unequal",{"boolean, boolean":function(t,e){return t!==e},"number, number":function(t,r){return!i(t,r,e.epsilon)},"BigNumber, BigNumber":function(t,r){return!o(t,r,e.epsilon)},"Fraction, Fraction":function(t,e){return!t.equals(e)},"Complex, Complex":function(t,e){return!t.equals(e)},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return m(t.value,e.value)},"string, string":function(t,e){return t!==e}});return m.toTex={2:"\\left(${args[0]}"+d.operators.unequal+"${args[1]}\\right)"},m}var i=r(196).nearlyEqual,o=r(239);e.name="unequal",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var a=n("sign",{number:i.sign,Complex:function(t){return t.sign()},BigNumber:function(e){return new t.BigNumber(e.cmp(0))},Fraction:function(e){return new t.Fraction(e.s,1)},"Array | Matrix":function(t){return o(t,a,!0)},Unit:function(t){return a(t.value)}});return a.toTex={1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},a}var i=r(196),o=r(208);e.name="sign",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){function o(r){return r>=0||e.predictable?Math.sqrt(r):new t.Complex(r,0).sqrt()}var a=n("sqrt",{number:o,Complex:function(t){return t.sqrt()},BigNumber:function(t){return!t.isNegative()||e.predictable?t.sqrt():o(t.toNumber())},"Array | Matrix":function(t){return i(t,a,!0)},Unit:function(t){return t.pow(.5)}});return a.toTex={1:"\\sqrt{${args[0]}}"},a}var i=r(208);e.name="sqrt",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("conj",{number:function(t){return t},BigNumber:function(t){return t},Complex:function(t){return t.conjugate()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\left(${args[0]}\\right)^*"},o}var i=r(208);e.name="conj",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,i){var a=n(r(242)),s=n(r(276)),u=n(r(243)),c=n(r(271)),l=n(r(270)),f=n(r(267)),p=n(r(254)),d=n(r(238)),m=n(r(268)),h=t.SparseMatrix,v=t.DenseMatrix,g=t.Spa,y=i("lup",{DenseMatrix:function(t){return _(t)},SparseMatrix:function(t){return x(t)},Array:function(t){var e=a(t),r=_(e);return{L:r.L.valueOf(),U:r.U.valueOf(),p:r.p}}}),_=function(t){var e,r,n,i=t._size[0],a=t._size[1],m=Math.min(i,a),h=o.clone(t._data),g=[],y=[i,m],_=[],x=[m,a],w=[];for(e=0;e<i;e++)w[e]=e;for(r=0;r<a;r++){if(r>0)for(e=0;e<i;e++){var b=Math.min(e,r),N=0;for(n=0;n<b;n++)N=u(N,l(h[e][n],h[n][r]));h[e][r]=f(h[e][r],N)}var z=r,A=0,E=0;for(e=r;e<i;e++){var M=h[e][r],O=s(M);p(O,A)&&(z=e,A=O,E=M)}if(r!==z&&(w[r]=[w[z],w[z]=w[r]][0],v._swapRows(r,z,h)),r<i)for(e=r+1;e<i;e++){var S=h[e][r];d(S,0)||(h[e][r]=c(h[e][r],E))}}for(r=0;r<a;r++)for(e=0;e<i;e++)0===r&&(e<a&&(_[e]=[]),g[e]=[]),e<r?(e<a&&(_[e][r]=h[e][r]),r<i&&(g[e][r]=0)):e!==r?(e<a&&(_[e][r]=0),r<i&&(g[e][r]=h[e][r])):(e<a&&(_[e][r]=h[e][r]),r<i&&(g[e][r]=1));var k=new v({data:g,size:y}),T=new v({data:_,size:x}),C=[];for(e=0,m=w.length;e<m;e++)C[w[e]]=e;return{L:k,U:T,p:C,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}},x=function(t){var e,r,n,i=t._size[0],o=t._size[1],a=Math.min(i,o),u=t._values,f=t._index,v=t._ptr,y=[],_=[],x=[],w=[i,a],b=[],N=[],z=[],A=[a,o],E=[],M=[];for(e=0;e<i;e++)E[e]=e,M[e]=e;var O=function(t,e){var r=M[t],n=M[e];E[r]=e,E[n]=t,M[t]=n,M[e]=r};for(r=0;r<o;r++){var S=new g;r<i&&(x.push(y.length),y.push(1),_.push(r)),z.push(b.length);var k=v[r],T=v[r+1];for(n=k;n<T;n++)e=f[n],S.set(E[e],u[n]);r>0&&S.forEach(0,r-1,function(t,e){h._forEachRow(t,y,_,x,function(r,n){r>t&&S.accumulate(r,m(l(n,e)))})});var C=r,B=S.get(r),I=s(B);S.forEach(r+1,i-1,function(t,e){var r=s(e);p(r,I)&&(C=t,I=r,B=e)}),r!==C&&(h._swapRows(r,C,w[1],y,_,x),h._swapRows(r,C,A[1],b,N,z),S.swap(r,C),O(r,C)),S.forEach(0,i-1,function(t,e){t<=r?(b.push(e),N.push(t)):(e=c(e,B),d(e,0)||(y.push(e),_.push(t)))})}return z.push(b.length),x.push(y.length),{L:new h({values:y,index:_,ptr:x,size:w}),U:new h({values:b,index:N,ptr:z,size:A}),p:E,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}};return y}var i=r(228),o=i.object;e.name="lup",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,i){var o=n(r(561)),s=n(r(572)),u=i("slu",{"SparseMatrix, number, number":function(t,e,r){if(!a(e)||e<0||e>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(r<0||r>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var n=o(e,t,!1),i=s(t,n,r);return{L:i.L,U:i.U,p:i.pinv,q:n.q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}});return u}var i=r(228),o=i.number,a=o.isInteger;e.name="slu",e.factory=n},function(t,e,r){"use strict";function n(t,e,n){var i=n(r(562)),o=n(r(567)),a=n(r(568)),s=n(r(569)),u=n(r(570)),c=function(t,e,r){var n,c=e._ptr,f=e._size,p=f[1],d={};if(d.q=i(t,e),t&&!d.q)return null;if(r){var m=t?o(e,null,d.q,0):e;d.parent=a(m,1);var h=s(d.parent,p);if(d.cp=u(m,d.parent,h,1),m&&d.parent&&d.cp&&l(m,d))for(d.unz=0,n=0;n<p;n++)d.unz+=d.cp[n]}else d.unz=4*c[p]+p,d.lnz=d.unz;return d},l=function(t,e){var r=t._ptr,n=t._index,i=t._size,o=i[0],a=i[1];e.pinv=[],e.leftmost=[];var s,u,c,l,f,p=e.parent,d=e.pinv,m=e.leftmost,h=[],v=0,g=o,y=o+a,_=o+2*a;for(u=0;u<a;u++)h[g+u]=-1,h[y+u]=-1,h[_+u]=0;for(s=0;s<o;s++)m[s]=-1;for(u=a-1;u>=0;u--)for(l=r[u],f=r[u+1],c=l;c<f;c++)m[n[c]]=u;for(s=o-1;s>=0;s--)d[s]=-1,u=m[s],u!=-1&&(0===h[_+u]++&&(h[y+u]=s),h[v+s]=h[g+u],h[g+u]=s);for(e.lnz=0,e.m2=o,u=0;u<a;u++)if(s=h[g+u],e.lnz++,s<0&&(s=e.m2++),d[s]=u,!(--_[u]<=0)){e.lnz+=h[_+u];var x=p[u];x!=-1&&(0===h[_+x]&&(h[y+x]=h[y+u]),h[v+h[y+u]]=h[g+x],h[g+x]=h[v+s],h[_+x]+=h[_+u])}for(s=0;s<o;s++)d[s]<0&&(d[s]=u++);return!0};return c}e.name="cs_sqr",e.path="sparse",e.factory=n},function(t,e,r){"use strict";function n(t,e,n){var i=n(r(563)),o=n(r(564)),a=n(r(565)),s=n(r(241)),u=n(r(274)),c=n(r(566)),l=function(t,e){if(!e||t<=0||t>3)return null;var r=e._size,n=r[0],s=r[1],u=0,c=Math.max(16,10*Math.sqrt(s));c=Math.min(s-2,c);var l=f(t,e,n,s,c);o(l,h,null);for(var v,g,y,_,x,w,b,N,z,A,E,M,O,S,k,T,C=l._index,B=l._ptr,I=B[s],R=[],P=[],U=0,L=s+1,q=2*(s+1),F=3*(s+1),j=4*(s+1),D=5*(s+1),$=6*(s+1),H=7*(s+1),G=R,V=p(s,B,P,U,F,G,q,H,L,$,j,D),Z=d(s,B,P,D,j,$,c,L,F,G,q),W=0;Z<s;){for(y=-1;W<s&&(y=P[F+W])==-1;W++);P[q+y]!=-1&&(G[P[q+y]]=-1),P[F+W]=P[q+y];var Y=P[j+y],X=P[L+y];Z+=X;var J=0;P[L+y]=-X;var Q=B[y],K=0===Y?Q:I,tt=K;for(_=1;_<=Y+1;_++){for(_>Y?(w=y,b=Q,N=P[U+y]-Y):(w=C[Q++],b=B[w],N=P[U+w]),x=1;x<=N;x++)v=C[b++],(z=P[L+v])<=0||(J+=z,P[L+v]=-z,C[tt++]=v,P[q+v]!=-1&&(G[P[q+v]]=G[v]),G[v]!=-1?P[q+G[v]]=P[q+v]:P[F+P[D+v]]=P[q+v]);w!=y&&(B[w]=i(y),P[$+w]=0)}for(0!==Y&&(I=tt),P[D+y]=J,B[y]=K,P[U+y]=tt-K,P[j+y]=-2,V=m(V,u,P,$,s),A=K;A<tt;A++)if(v=C[A],!((E=P[j+v])<=0)){z=-P[L+v];var et=V-z;for(Q=B[v],M=B[v]+E-1;Q<=M;Q++)w=C[Q],P[$+w]>=V?P[$+w]-=z:0!==P[$+w]&&(P[$+w]=P[D+w]+et)}for(A=K;A<tt;A++){for(v=C[A],M=B[v],O=M+P[j+v]-1,S=M,k=0,T=0,Q=M;Q<=O;Q++)if(w=C[Q],0!==P[$+w]){var rt=P[$+w]-V;rt>0?(T+=rt,C[S++]=w,k+=w):(B[w]=i(y),P[$+w]=0)}P[j+v]=S-M+1;var nt=S,it=M+P[U+v];for(Q=O+1;Q<it;Q++){g=C[Q];var ot=P[L+g];ot<=0||(T+=ot,C[S++]=g,k+=g)}0===T?(B[v]=i(y),z=-P[L+v],J-=z,X+=z,Z+=z,P[L+v]=0,P[j+v]=-1):(P[D+v]=Math.min(P[D+v],T),C[S]=C[nt],C[nt]=C[M],C[M]=y,P[U+v]=S-M+1,k=(k<0?-k:k)%s,P[q+v]=P[H+k],P[H+k]=v,G[v]=k)}for(P[D+y]=J,u=Math.max(u,J),V=m(V+u,u,P,$,s),A=K;A<tt;A++)if(v=C[A],!(P[L+v]>=0))for(k=G[v],v=P[H+k],P[H+k]=-1;v!=-1&&P[q+v]!=-1;v=P[q+v],V++){for(N=P[U+v],E=P[j+v],Q=B[v]+1;Q<=B[v]+N-1;Q++)P[$+C[Q]]=V;var at=v;for(g=P[q+v];g!=-1;){var st=P[U+g]===N&&P[j+g]===E;for(Q=B[g]+1;st&&Q<=B[g]+N-1;Q++)P[$+C[Q]]!=V&&(st=0);st?(B[g]=i(v),P[L+v]+=P[L+g],P[L+g]=0,P[j+g]=-1,g=P[q+g],P[q+at]=g):(at=g,g=P[q+g])}}for(Q=K,A=K;A<tt;A++)v=C[A],(z=-P[L+v])<=0||(P[L+v]=z,T=P[D+v]+J-z,T=Math.min(T,s-Z-z),P[F+T]!=-1&&(G[P[F+T]]=v),P[q+v]=P[F+T],G[v]=-1,P[F+T]=v,W=Math.min(W,T),P[D+v]=T,C[Q++]=v);P[L+y]=X,0===(P[U+y]=Q-K)&&(B[y]=-1,P[$+y]=0),0!==Y&&(I=Q)}for(v=0;v<s;v++)B[v]=i(B[v]);for(g=0;g<=s;g++)P[F+g]=-1;for(g=s;g>=0;g--)P[L+g]>0||(P[q+g]=P[F+B[g]],P[F+B[g]]=g);for(w=s;w>=0;w--)P[L+w]<=0||B[w]!=-1&&(P[q+w]=P[F+B[w]],P[F+B[w]]=w);for(y=0,v=0;v<=s;v++)B[v]==-1&&(y=a(v,y,P,F,q,R,$));return R.splice(R.length-1,1),R},f=function(t,e,r,n,i){var o=c(e);if(1===t&&n===r)return s(e,o);if(2==t){for(var a=o._index,l=o._ptr,f=0,p=0;p<r;p++){var d=l[p];if(l[p]=f,!(l[p+1]-d>i))for(var m=l[p+1];d<m;d++)a[f++]=a[d]}return l[r]=f,e=c(o),u(o,e)}return u(o,e)},p=function(t,e,r,n,i,o,a,s,u,c,l,f){for(var p=0;p<t;p++)r[n+p]=e[p+1]-e[p];r[n+t]=0;for(var d=0;d<=t;d++)r[i+d]=-1,o[d]=-1,r[a+d]=-1,r[s+d]=-1,r[u+d]=1,r[c+d]=1,r[l+d]=0,r[f+d]=r[n+d];var h=m(0,0,r,c,t);return r[l+t]=-2,e[t]=-1,r[c+t]=0,h},d=function(t,e,r,n,o,a,s,u,c,l,f){for(var p=0,d=0;d<t;d++){var m=r[n+d];if(0===m)r[o+d]=-2,p++,e[d]=-1,r[a+d]=0;else if(m>s)r[u+d]=0,r[o+d]=-1,p++,e[d]=i(t),r[u+t]++;else{var h=r[c+m];h!=-1&&(l[h]=d),r[f+d]=r[c+m],r[c+m]=d}}return p},m=function(t,e,r,n,i){if(t<2||t+e<0){for(var o=0;o<i;o++)0!==r[n+o]&&(r[n+o]=1);t=2}return t},h=function(t,e){return t!=e};return l}e.name="cs_amd",e.path="sparse",e.factory=n},function(t,e){"use strict";function r(){var t=function(t){return-t-2};return t}e.name="cs_flip",e.path="sparse",e.factory=r},function(t,e){"use strict";function r(){var t=function(t,e,r){for(var n=t._values,i=t._index,o=t._ptr,a=t._size,s=a[1],u=0,c=0;c<s;c++){var l=o[c];for(o[c]=u;l<o[c+1];l++)e(i[l],c,n?n[l]:1,r)&&(i[u]=i[l],n&&(n[u]=n[l]),u++)}return o[s]=u,i.splice(u,i.length-u),n&&n.splice(u,n.length-u),u};return t}e.name="cs_fkeep",e.path="sparse",e.factory=r},function(t,e){"use strict";function r(){var t=function(t,e,r,n,i,o,a){var s=0;for(r[a]=t;s>=0;){var u=r[a+s],c=r[n+u];c==-1?(s--,o[e++]=u):(r[n+u]=r[i+c],++s,r[a+s]=c)}return e};return t}e.name="cs_tdfs",e.path="sparse",e.factory=r},function(t,e,r){"use strict";function n(t,e,n,a){var s=r(221),u=n(r(242)),c=t.DenseMatrix,l=t.SparseMatrix,f=a("transpose",{Array:function(t){return f(u(t)).valueOf()},Matrix:function(t){var e,r=t.size();switch(r.length){case 1:e=t.clone();break;case 2:var n=r[0],i=r[1];if(0===i)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+o(r)+")");switch(t.storage()){case"dense":e=p(t,n,i);break;case"sparse":e=d(t,n,i)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+o(this._size)+")")}return e},any:function(t){return i(t)}}),p=function(t,e,r){for(var n,o=t._data,a=[],s=0;s<r;s++){n=a[s]=[];for(var u=0;u<e;u++)n[u]=i(o[u][s])}return new c({data:a,size:[r,e],datatype:t._datatype})},d=function(t,e,r){for(var n=t._values,o=t._index,a=t._ptr,s=n?[]:void 0,u=[],c=[],f=[],p=0;p<e;p++)f[p]=0;var d,m,h;for(d=0,m=o.length;d<m;d++)f[o[d]]++;for(var v=0,g=0;g<e;g++)c.push(v),v+=f[g],f[g]=c[g];for(c.push(v),h=0;h<r;h++)for(var y=a[h],_=a[h+1],x=y;x<_;x++){var w=f[o[x]]++;u[w]=h,n&&(s[w]=i(n[x]))}return new l({values:s,index:u,ptr:c,size:[r,e],datatype:t._datatype})};return f.toTex={1:"\\left(${args[0]}\\right)"+s.operators.transpose},f}var i=r(193).clone,o=r(212).format;e.name="transpose",e.factory=n},function(t,e){"use strict";function r(t){var e=t.SparseMatrix,r=function(t,r,n,i){for(var o=t._values,a=t._index,s=t._ptr,u=t._size,c=t._datatype,l=u[0],f=u[1],p=i&&t._values?[]:null,d=[],m=[],h=0,v=0;v<f;v++){m[v]=h;for(var g=n?n[v]:v,y=s[g],_=s[g+1],x=y;x<_;x++){var w=r?r[a[x]]:a[x];d[h]=w,p&&(p[h]=o[x]),h++}}return m[f]=h,new e({values:p,index:d,ptr:m,size:[l,f],datatype:c})};return r}e.name="cs_permute",e.path="sparse",e.factory=r},function(t,e){"use strict";function r(){var t=function(t,e){if(!t)return null;var r,n,i=t._index,o=t._ptr,a=t._size,s=a[0],u=a[1],c=[],l=[],f=0,p=u;if(e)for(r=0;r<s;r++)l[p+r]=-1;for(var d=0;d<u;d++){c[d]=-1,l[f+d]=-1;for(var m=o[d],h=o[d+1],v=m;v<h;v++){var g=i[v];for(r=e?l[p+g]:g;r!=-1&&r<d;r=n)n=l[f+r],l[f+r]=d,n==-1&&(c[r]=d);e&&(l[p+g]=d)}}return c};return t}e.name="cs_etree",e.path="sparse",e.factory=r},function(t,e,r){"use strict";function n(t,e,n){var i=n(r(565)),o=function(t,e){if(!t)return null;var r,n=0,o=[],a=[],s=0,u=e,c=2*e;for(r=0;r<e;r++)a[s+r]=-1;for(r=e-1;r>=0;r--)t[r]!=-1&&(a[u+r]=a[s+t[r]],a[s+t[r]]=r);for(r=0;r<e;r++)t[r]==-1&&(n=i(r,n,a,s,u,o,c));return o};return o}e.name="cs_post",e.path="sparse",e.factory=n},function(t,e,r){"use strict";function n(t,e,n){var i=n(r(566)),o=n(r(571)),a=function(t,e,r,n){if(!t||!e||!r)return null;var a,s,u,c,l,f,p,d=t._size,m=d[0],h=d[1],v=4*h+(n?h+m+1:0),g=[],y=0,_=h,x=2*h,w=3*h,b=4*h,N=5*h+1;for(u=0;u<v;u++)g[u]=-1;var z=[],A=i(t),E=A._index,M=A._ptr;for(u=0;u<h;u++)for(s=r[u],z[s]=g[w+s]==-1?1:0;s!=-1&&g[w+s]==-1;s=e[s])g[w+s]=u;if(n){for(u=0;u<h;u++)g[r[u]]=u;for(a=0;a<m;a++){for(u=h,f=M[a],p=M[a+1],l=f;l<p;l++)u=Math.min(u,g[E[l]]);g[N+a]=g[b+u],g[b+u]=a}}for(a=0;a<h;a++)g[y+a]=a;for(u=0;u<h;u++){for(s=r[u],e[s]!=-1&&z[e[s]]--,c=n?g[b+u]:s;c!=-1;c=n?g[N+c]:-1)for(l=M[c];l<M[c+1];l++){a=E[l];var O=o(a,s,g,w,_,x,y);O.jleaf>=1&&z[s]++,2==O.jleaf&&z[O.q]--}e[s]!=-1&&(g[y+s]=e[s])}for(s=0;s<h;s++)e[s]!=-1&&(z[e[s]]+=z[s]);return z};return a}e.name="cs_counts",e.path="sparse",e.factory=n},function(t,e){"use strict";function r(){var t=function(t,e,r,n,i,o,a){var s,u,c,l,f=0;if(t<=e||r[n+e]<=r[i+t])return-1;if(r[i+t]=r[n+e],c=r[o+t],r[o+t]=e,c===-1)f=1,l=t;else{for(f=2,l=c;l!=r[a+l];l=r[a+l]);for(s=c;s!=l;s=u)u=r[a+s],r[a+s]=l}return{jleaf:f,q:l}};return t}e.name="cs_leaf",e.path="sparse",e.factory=r},function(t,e,r){"use strict";function n(t,e,n){var i=n(r(276)),o=n(r(271)),a=n(r(274)),s=n(r(254)),u=n(r(573)),c=n(r(574)),l=t.SparseMatrix,f=function(t,e,r){if(!t)return null;var n,f=t._size,p=f[1],d=100,m=100;e&&(n=e.q,d=e.lnz||d,m=e.unz||m);var h,v,g=[],y=[],_=[],x=new l({values:g,index:y,ptr:_,size:[p,p]}),w=[],b=[],N=[],z=new l({values:w,index:b,ptr:N,size:[p,p]}),A=[],E=[],M=[];for(h=0;h<p;h++)E[h]=0,A[h]=-1,_[h+1]=0;d=0,m=0;for(var O=0;O<p;O++){_[O]=d,N[O]=m;var S=n?n[O]:O,k=c(x,t,S,M,E,A,1),T=-1,C=-1;for(v=k;v<p;v++)if(h=M[v],A[h]<0){var B=i(E[h]);s(B,C)&&(C=B,T=h)}else b[m]=A[h],w[m++]=E[h];if(T==-1||C<=0)return null;A[S]<0&&u(i(E[S]),a(C,r))&&(T=S);var I=E[T];for(b[m]=O,w[m++]=I,A[T]=O,y[d]=T,g[d++]=1,v=k;v<p;v++)h=M[v],A[h]<0&&(y[d]=h,g[d++]=o(E[h],I)),E[h]=0}for(_[p]=d,N[p]=m,v=0;v<d;v++)y[v]=A[y[v]];return g.splice(d,g.length-d),y.splice(d,y.length-d),w.splice(m,w.length-m),b.splice(m,b.length-m),{L:x,U:z,pinv:A}};return f}e.name="cs_lu",e.path="sparse",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,a){var s=n(r(242)),u=n(r(251)),c=n(r(252)),l=n(r(253)),f=n(r(247)),p=n(r(248)),d=r(221),m=a("largerEq",{"boolean, boolean":function(t,e){return t>=e},"number, number":function(t,r){return t>=r||i(t,r,e.epsilon)},"BigNumber, BigNumber":function(t,r){return t.gte(r)||o(t,r,e.epsilon)},"Fraction, Fraction":function(t,e){return t.compare(e)!==-1},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return m(t.value,e.value)},"string, string":function(t,e){return t>=e},"Matrix, Matrix":function(t,e){var r;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":r=c(t,e,m);break;default:r=u(e,t,m,!0)}break;default:switch(e.storage()){case"sparse":r=u(t,e,m,!1);break;default:r=f(t,e,m)}}return r},"Array, Array":function(t,e){return m(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return m(s(t),e)},"Matrix, Array":function(t,e){return m(t,s(e))},"Matrix, any":function(t,e){var r;switch(t.storage()){case"sparse":r=l(t,e,m,!1);break;default:r=p(t,e,m,!1)}return r},"any, Matrix":function(t,e){var r;switch(e.storage()){case"sparse":r=l(e,t,m,!0);break;default:r=p(e,t,m,!0)}return r},"Array, any":function(t,e){return p(s(t),e,m,!1).valueOf()},"any, Array":function(t,e){return p(s(e),t,m,!0).valueOf()}});return m.toTex={2:"\\left(${args[0]}"+d.operators.largerEq+"${args[1]}\\right)"},m}var i=r(196).nearlyEqual,o=r(239);e.name="largerEq",e.factory=n},function(t,e,r){"use strict";function n(t,e,n){var i=n(r(271)),o=n(r(274)),a=n(r(267)),s=n(r(575)),u=function(t,e,r,n,u,c,l){var f,p,d,m,h=t._values,v=t._index,g=t._ptr,y=t._size,_=y[1],x=e._values,w=e._index,b=e._ptr,N=s(t,e,r,n,c);for(f=N;f<_;f++)u[n[f]]=0;for(p=b[r],d=b[r+1],f=p;f<d;f++)u[w[f]]=x[f];for(var z=N;z<_;z++){var A=n[z],E=c?c[A]:A;if(!(E<0))for(p=g[E],d=g[E+1],u[A]=i(u[A],h[l?p:d-1]),f=l?p+1:p,m=l?d:d-1;f<m;f++){var M=v[f];u[M]=a(u[M],o(h[f],u[A]))}}return N};return u}e.name="cs_spsolve",e.path="sparse",e.factory=n},function(t,e,r){"use strict";function n(t,e,n){var i=n(r(576)),o=n(r(577)),a=n(r(578)),s=function(t,e,r,n,s){var u,c,l,f=t._ptr,p=t._size,d=e._index,m=e._ptr,h=p[1],v=h;for(c=m[r],l=m[r+1],u=c;u<l;u++){var g=d[u];o(f,g)||(v=i(g,t,v,n,s))}for(u=v;u<h;u++)a(f,n[u]);return v};return s}e.name="cs_reach",e.path="sparse",e.factory=n},function(t,e,r){"use strict";function n(t,e,n){var i=n(r(577)),o=n(r(578)),a=n(r(579)),s=function(t,e,r,n,s){var u,c,l,f=e._index,p=e._ptr,d=e._size,m=d[1],h=0;for(n[0]=t;h>=0;){t=n[h];var v=s?s[t]:t;i(p,t)||(o(p,t),n[m+h]=v<0?0:a(p[v]));var g=1;for(c=n[m+h],l=v<0?0:a(p[v+1]);c<l;c++)if(u=f[c],!i(p,u)){n[m+h]=c,n[++h]=u,g=0;break}g&&(h--,n[--r]=t)}return r};return s}e.name="cs_dfs",e.path="sparse",e.factory=n},function(t,e){"use strict";function r(){var t=function(t,e){return t[e]<0};return t}e.name="cs_marked",e.path="sparse",e.factory=r},function(t,e,r){"use strict";function n(t,e,n){var i=n(r(563)),o=function(t,e){t[e]=i(t[e])};return o}e.name="cs_mark",e.path="sparse",e.factory=n},function(t,e,r){"use strict";function n(t,e,n){var i=n(r(563)),o=function(t){return t<0?i(t):t};return o}e.name="cs_unflip",e.path="sparse",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,i){var o=n(r(242)),a=n(r(271)),s=n(r(270)),u=n(r(267)),c=n(r(238)),l=n(r(581)),f=t.DenseMatrix,p=i("lsolve",{"SparseMatrix, Array | Matrix":function(t,e){return m(t,e)},"DenseMatrix, Array | Matrix":function(t,e){return d(t,e)},"Array, Array | Matrix":function(t,e){var r=o(t),n=d(r,e);return n.valueOf()}}),d=function(t,e){e=l(t,e,!0);for(var r=e._data,n=t._size[0],i=t._size[1],o=[],p=t._data,d=0;d<i;d++){var m,h=r[d][0]||0;if(c(h,0))m=0;else{var v=p[d][d];if(c(v,0))throw new Error("Linear system cannot be solved since matrix is singular");m=a(h,v);for(var g=d+1;g<n;g++)r[g]=[u(r[g][0]||0,s(m,p[g][d]))]}o[d]=[m]}return new f({data:o,size:[n,1]})},m=function(t,e){e=l(t,e,!0);for(var r,n,i=e._data,o=t._size[0],p=t._size[1],d=t._values,m=t._index,h=t._ptr,v=[],g=0;g<p;g++){var y=i[g][0]||0;if(c(y,0))v[g]=[0];else{var _=0,x=[],w=[],b=h[g+1];for(n=h[g];n<b;n++)r=m[n],r===g?_=d[n]:r>g&&(x.push(d[n]),w.push(r));if(c(_,0))throw new Error("Linear system cannot be solved since matrix is singular");var N=a(y,_);for(n=0,b=w.length;n<b;n++)r=w[n],i[r]=[u(i[r][0]||0,s(N,x[n]))];v[g]=[N]}}return new f({data:v,size:[o,1]})};return p}e.name="lsolve",e.factory=n},function(t,e,r){"use strict";function n(t){var e=t.DenseMatrix,r=function(t,r,n){var i=t.size();if(2!==i.length)throw new RangeError("Matrix must be two dimensional (size: "+o.format(i)+")");var u=i[0],c=i[1];if(u!==c)throw new RangeError("Matrix must be square (size: "+o.format(i)+")");var l,f,p;if(r&&r.isMatrix===!0){var d=r.size();if(1===d.length){if(d[0]!==u)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(l=[],p=r._data,f=0;f<u;f++)l[f]=[p[f]];return new e({data:l,size:[u,1],datatype:r._datatype})}if(2===d.length){if(d[0]!==u||1!==d[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(r.isDenseMatrix===!0){if(n){for(l=[],p=r._data,f=0;f<u;f++)l[f]=[p[f][0]];return new e({data:l,size:[u,1],datatype:r._datatype})}return r}for(l=[],f=0;f<u;f++)l[f]=[0];for(var m=r._values,h=r._index,v=r._ptr,g=v[1],y=v[0];y<g;y++)f=h[y],l[f][0]=m[y];return new e({data:l,size:[u,1],datatype:r._datatype})}throw new RangeError("Dimension mismatch. Matrix columns must match vector length.")}if(s(r)){var _=a.size(r);if(1===_.length){if(_[0]!==u)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(l=[],f=0;f<u;f++)l[f]=[r[f]];return new e({data:l,size:[u,1]})}if(2===_.length){if(_[0]!==u||1!==_[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(l=[],f=0;f<u;f++)l[f]=[r[f][0]];return new e({data:l,size:[u,1]})}throw new RangeError("Dimension mismatch. Matrix columns must match vector length.")}};return r}var i=r(228),o=i.string,a=i.array,s=Array.isArray;e.factory=n},function(t,e,r){"use strict";function n(t,e,n,o){var a=n(r(242)),s=n(r(559)),u=n(r(560)),c=n(r(583)),l=n(r(581)),f=n(r(584)),p=n(r(580)),d=o("lusolve",{"Array, Array | Matrix":function(t,e){t=a(t);var r=s(t),n=h(r.L,r.U,r.p,null,e);return n.valueOf()},"DenseMatrix, Array | Matrix":function(t,e){var r=s(t);return h(r.L,r.U,r.p,null,e)},"SparseMatrix, Array | Matrix":function(t,e){var r=s(t);return h(r.L,r.U,r.p,null,e)},"SparseMatrix, Array | Matrix, number, number":function(t,e,r,n){var i=u(t,r,n);return h(i.L,i.U,i.p,i.q,e)},"Object, Array | Matrix":function(t,e){return h(t.L,t.U,t.p,t.q,e)}}),m=function(t){if(t&&t.isMatrix===!0)return t;if(i(t))return a(t);throw new TypeError("Invalid Matrix LU decomposition")},h=function(t,e,r,n,i){t=m(t),e=m(e),i=l(t,i,!1),r&&(i._data=c(r,i._data));var o=p(t,i),a=f(e,o);return n&&(a._data=c(n,a._data)),a};return d}var i=Array.isArray;e.name="lusolve",e.factory=n},function(t,e){"use strict";function r(){var t=function(t,e,r){var n,r=e.length,i=[];if(t)for(n=0;n<r;n++)i[t[n]]=e[n];else for(n=0;n<r;n++)i[n]=e[n];return i};return t}e.name="cs_ipvec",e.path="sparse",e.factory=r},function(t,e,r){"use strict";function n(t,e,n,i){var o=n(r(242)),a=n(r(271)),s=n(r(270)),u=n(r(267)),c=n(r(238)),l=n(r(581)),f=t.DenseMatrix,p=i("usolve",{"SparseMatrix, Array | Matrix":function(t,e){return m(t,e)},"DenseMatrix, Array | Matrix":function(t,e){return d(t,e)},"Array, Array | Matrix":function(t,e){var r=o(t),n=d(r,e);return n.valueOf()}}),d=function(t,e){e=l(t,e,!0);for(var r=e._data,n=t._size[0],i=t._size[1],o=[],p=t._data,d=i-1;d>=0;d--){var m,h=r[d][0]||0;if(c(h,0))m=0;else{var v=p[d][d];if(c(v,0))throw new Error("Linear system cannot be solved since matrix is singular");m=a(h,v);for(var g=d-1;g>=0;g--)r[g]=[u(r[g][0]||0,s(m,p[g][d]))]}o[d]=[m]}return new f({data:o,size:[n,1]})},m=function(t,e){e=l(t,e,!0);for(var r,n,i=e._data,o=t._size[0],p=t._size[1],d=t._values,m=t._index,h=t._ptr,v=[],g=p-1;g>=0;g--){var y=i[g][0]||0;if(c(y,0))v[g]=[0];else{var _=0,x=[],w=[],b=h[g],N=h[g+1];for(n=N-1;n>=b;n--)r=m[n],r===g?_=d[n]:r<g&&(x.push(d[n]),w.push(r));if(c(_,0))throw new Error("Linear system cannot be solved since matrix is singular");var z=a(y,_);for(n=0,N=w.length;n<N;n++)r=w[n],i[r]=[u(i[r][0],s(z,x[n]))];v[g]=[z]}}return new f({data:v,size:[o,1]})};return p}e.name="usolve",e.factory=n},function(t,e,r){"use strict";t.exports=[r(276),r(241),r(243),r(586),r(588),r(589),r(534),r(590),r(592),r(594),r(595),r(277),r(596),r(597),r(598),r(599),r(602),r(603),r(604),r(274),r(605),r(607),r(272),r(278),r(556),r(557),r(608),r(267),r(268),r(609),r(610)];
},function(t,e,r){"use strict";function n(t,e,n,a){function s(r,n){var i=r.arg()/3,a=r.abs(),s=new t.Complex(o(a),0).mul(new t.Complex(0,i).exp());if(n){var u=[s,new t.Complex(o(a),0).mul(new t.Complex(0,i+2*Math.PI/3).exp()),new t.Complex(o(a),0).mul(new t.Complex(0,i-2*Math.PI/3).exp())];return"Array"===e.matrix?u:f(u)}return s}function u(e){if(e.value&&e.value.isComplex){var r=e.clone();return r.value=1,r=r.pow(1/3),r.value=s(e.value),r}var n=l(e.value);n&&(e.value=c(e.value));var i;i=e.value&&e.value.isBigNumber?new t.BigNumber(1).div(3):e.value&&e.value.isFraction?new t.Fraction(1,3):1/3;var r=e.pow(i);return n&&(r.value=c(r.value)),r}var c=n(r(268)),l=n(r(587)),f=n(r(242)),p=a("cbrt",{number:o,Complex:s,"Complex, boolean":s,BigNumber:function(t){return t.cbrt()},Unit:u,"Array | Matrix":function(t){return i(t,p,!0)}});return p.toTex={1:"\\sqrt[3]{${args[0]}}"},p}var i=r(208),o=Math.cbrt||function(t){if(0===t)return t;var e,r=t<0;return r&&(t=-t),isFinite(t)?(e=Math.exp(Math.log(t)/3),e=(t/(e*e)+2*e)/3):e=t,r?-e:e};e.name="cbrt",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("isNegative",{number:function(t){return t<0},BigNumber:function(t){return t.isNeg()&&!t.isZero()&&!t.isNaN()},Fraction:function(t){return t.s<0},Unit:function(t){return o(t.value)},"Array | Matrix":function(t){return i(t,o)}});return o}var i=r(208);r(196);e.name="isNegative",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("ceil",{number:Math.ceil,Complex:function(t){return t.ceil()},BigNumber:function(t){return t.ceil()},Fraction:function(t){return t.ceil()},"Array | Matrix":function(t){return i(t,o,!0)}});return o.toTex={1:"\\left\\lceil${args[0]}\\right\\rceil"},o}var i=r(208);e.name="ceil",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("cube",{number:function(t){return t*t*t},Complex:function(t){return t.mul(t).mul(t)},BigNumber:function(t){return t.times(t).times(t)},Fraction:function(t){return t.pow(3)},"Array | Matrix":function(t){return i(t,o,!0)},Unit:function(t){return t.pow(3)}});return o.toTex={1:"\\left(${args[0]}\\right)^3"},o}var i=r(208);e.name="cube",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,i){var o=n(r(242)),a=n(r(271)),s=r(221),u=n(r(591)),c=n(r(251)),l=n(r(252)),f=n(r(275)),p=n(r(253)),d=n(r(247)),m=n(r(248)),h=i("dotDivide",{"any, any":a,"Matrix, Matrix":function(t,e){var r;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":r=l(t,e,a,!1);break;default:r=u(e,t,a,!0)}break;default:switch(e.storage()){case"sparse":r=c(t,e,a,!1);break;default:r=d(t,e,a)}}return r},"Array, Array":function(t,e){return h(o(t),o(e)).valueOf()},"Array, Matrix":function(t,e){return h(o(t),e)},"Matrix, Array":function(t,e){return h(t,o(e))},"Matrix, any":function(t,e){var r;switch(t.storage()){case"sparse":r=f(t,e,a,!1);break;default:r=m(t,e,a,!1)}return r},"any, Matrix":function(t,e){var r;switch(e.storage()){case"sparse":r=p(e,t,a,!0);break;default:r=m(e,t,a,!0)}return r},"Array, any":function(t,e){return m(o(t),e,a,!1).valueOf()},"any, Array":function(t,e){return m(o(e),t,a,!0).valueOf()}});return h.toTex={2:"\\left(${args[0]}"+s.operators.dotDivide+"${args[1]}\\right)"},h}e.name="dotDivide",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,o){var a=n(r(238)),s=t.SparseMatrix,u=function(t,e,r,n){var u=t._data,c=t._size,l=t._datatype,f=e._values,p=e._index,d=e._ptr,m=e._size,h=e._datatype;if(c.length!==m.length)throw new i(c.length,m.length);if(c[0]!==m[0]||c[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+m+")");if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var v,g=c[0],y=c[1],_=a,x=0,w=r;"string"==typeof l&&l===h&&(v=l,_=o.find(a,[v,v]),x=o.convert(0,v),w=o.find(r,[v,v]));for(var b=[],N=[],z=[],A=0;A<y;A++){z[A]=N.length;for(var E=d[A],M=d[A+1],O=E;O<M;O++){var S=p[O],k=n?w(f[O],u[S][A]):w(u[S][A],f[O]);_(k,x)||(N.push(S),b.push(k))}}return z[y]=N.length,new s({values:b,index:N,ptr:z,size:[g,y],datatype:v})};return u}var i=r(231);e.name="algorithm02",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,i){var o=n(r(242)),a=n(r(270)),s=r(221),u=n(r(591)),c=n(r(593)),l=n(r(275)),f=n(r(247)),p=n(r(248)),d=i("dotMultiply",{"any, any":a,"Matrix, Matrix":function(t,e){var r;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":r=c(t,e,a,!1);break;default:r=u(e,t,a,!0)}break;default:switch(e.storage()){case"sparse":r=u(t,e,a,!1);break;default:r=f(t,e,a)}}return r},"Array, Array":function(t,e){return d(o(t),o(e)).valueOf()},"Array, Matrix":function(t,e){return d(o(t),e)},"Matrix, Array":function(t,e){return d(t,o(e))},"Matrix, any":function(t,e){var r;switch(t.storage()){case"sparse":r=l(t,e,a,!1);break;default:r=p(t,e,a,!1)}return r},"any, Matrix":function(t,e){var r;switch(e.storage()){case"sparse":r=l(e,t,a,!0);break;default:r=p(e,t,a,!0)}return r},"Array, any":function(t,e){return p(o(t),e,a,!1).valueOf()},"any, Array":function(t,e){return p(o(e),t,a,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}"+s.operators.dotMultiply+"${args[1]}\\right)"},d}e.name="dotMultiply",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,o){var a=n(r(238)),s=t.SparseMatrix,u=function(t,e,r){var n=t._values,u=t._index,c=t._ptr,l=t._size,f=t._datatype,p=e._values,d=e._index,m=e._ptr,h=e._size,v=e._datatype;if(l.length!==h.length)throw new i(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");var g,y=l[0],_=l[1],x=a,w=0,b=r;"string"==typeof f&&f===v&&(g=f,x=o.find(a,[g,g]),w=o.convert(0,g),b=o.find(r,[g,g]));var N,z,A,E,M,O=n&&p?[]:void 0,S=[],k=[],T=new s({values:O,index:S,ptr:k,size:[y,_],datatype:g}),C=O?[]:void 0,B=[];for(z=0;z<_;z++){k[z]=S.length;var I=z+1;if(C)for(E=m[z],M=m[z+1],A=E;A<M;A++)N=d[A],B[N]=I,C[N]=p[A];for(E=c[z],M=c[z+1],A=E;A<M;A++)if(N=u[A],C){var R=B[N]===I?C[N]:w,P=b(n[A],R);x(P,w)||(S.push(N),O.push(P))}else S.push(N)}return k[_]=S.length,T};return u}var i=r(231);e.name="algorithm09",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,i){var o=n(r(242)),a=n(r(272)),s=r(221),u=n(r(251)),c=n(r(252)),l=n(r(275)),f=n(r(253)),p=n(r(247)),d=n(r(248)),m=i("dotPow",{"any, any":a,"Matrix, Matrix":function(t,e){var r;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":r=c(t,e,a,!1);break;default:r=u(e,t,a,!0)}break;default:switch(e.storage()){case"sparse":r=u(t,e,a,!1);break;default:r=p(t,e,a)}}return r},"Array, Array":function(t,e){return m(o(t),o(e)).valueOf()},"Array, Matrix":function(t,e){return m(o(t),e)},"Matrix, Array":function(t,e){return m(t,o(e))},"Matrix, any":function(t,e){var r;switch(t.storage()){case"sparse":r=l(t,e,m,!1);break;default:r=d(t,e,m,!1)}return r},"any, Matrix":function(t,e){var r;switch(e.storage()){case"sparse":r=f(e,t,m,!0);break;default:r=d(e,t,m,!0)}return r},"Array, any":function(t,e){return d(o(t),e,m,!1).valueOf()},"any, Array":function(t,e){return d(o(e),t,m,!0).valueOf()}});return m.toTex={2:"\\left(${args[0]}"+s.operators.dotPow+"${args[1]}\\right)"},m}e.name="dotPow",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("exp",{number:Math.exp,Complex:function(t){return t.exp()},BigNumber:function(t){return t.exp()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\exp\\left(${args[0]}\\right)"},o}var i=r(208);e.name="exp",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("floor",{number:Math.floor,Complex:function(t){return t.floor()},BigNumber:function(t){return t.floor()},Fraction:function(t){return t.floor()},"Array | Matrix":function(t){return i(t,o,!0)}});return o.toTex={1:"\\left\\lfloor${args[0]}\\right\\rfloor"},o}var i=r(208);e.name="floor",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,o){function a(e,r){if(!e.isInt()||!r.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var n=new t.BigNumber(0);!r.isZero();){var i=e.mod(r);e=r,r=i}return e.lt(n)?e.neg():e}var s=n(r(242)),u=n(r(244)),c=n(r(245)),l=n(r(246)),f=n(r(247)),p=n(r(248)),d=o("gcd",{"number, number":i,"BigNumber, BigNumber":a,"Fraction, Fraction":function(t,e){return t.gcd(e)},"Matrix, Matrix":function(t,e){var r;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":r=c(t,e,d);break;default:r=u(e,t,d,!0)}break;default:switch(e.storage()){case"sparse":r=u(t,e,d,!1);break;default:r=f(t,e,d)}}return r},"Array, Array":function(t,e){return d(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return d(s(t),e)},"Matrix, Array":function(t,e){return d(t,s(e))},"Matrix, number | BigNumber":function(t,e){var r;switch(t.storage()){case"sparse":r=l(t,e,d,!1);break;default:r=p(t,e,d,!1)}return r},"number | BigNumber, Matrix":function(t,e){var r;switch(e.storage()){case"sparse":r=l(e,t,d,!0);break;default:r=p(e,t,d,!0)}return r},"Array, number | BigNumber":function(t,e){return p(s(t),e,d,!1).valueOf()},"number | BigNumber, Array":function(t,e){return p(s(e),t,d,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(t,e,r){for(var n=d(t,e),i=0;i<r.length;i++)n=d(n,r[i]);return n}});return d.toTex="\\gcd\\left(${args}\\right)",d}function i(t,e){if(!o(t)||!o(e))throw new Error("Parameters in function gcd must be integer numbers");for(var r;0!=e;)r=t%e,t=e,e=r;return t<0?-t:t}var o=r(196).isInteger;e.name="gcd",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,o){function a(t){for(var e=0,r=0,n=0;n<t.length;n++){var i=s(t[n]);p(r,i)?(e=l(e,l(c(r,i),c(r,i))),e=u(e,1),r=i):e=u(e,d(i)?l(c(i,r),c(i,r)):i)}return l(r,f(e))}var s=n(r(276)),u=n(r(243)),c=n(r(271)),l=n(r(270)),f=n(r(557)),p=n(r(250)),d=n(r(554)),m=o("hypot",{"... number | BigNumber":a,Array:function(t){return m.apply(m,i(t))},Matrix:function(t){return m.apply(m,i(t.toArray()))}});return m.toTex="\\hypot\\left(${args}\\right)",m}var i=r(229).flatten;e.name="hypot",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,o){function a(e,r){if(!e.isInt()||!r.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(e.isZero()||r.isZero())return new t.BigNumber(0);for(var n=e.times(r);!r.isZero();){var i=r;r=e.mod(i),e=i}return n.div(e).abs()}var s=n(r(242)),u=n(r(591)),c=n(r(600)),l=n(r(275)),f=n(r(247)),p=n(r(248)),d=o("lcm",{"number, number":i,"BigNumber, BigNumber":a,"Fraction, Fraction":function(t,e){return t.lcm(e)},"Matrix, Matrix":function(t,e){var r;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":r=c(t,e,d);break;default:r=u(e,t,d,!0)}break;default:switch(e.storage()){case"sparse":r=u(t,e,d,!1);break;default:r=f(t,e,d)}}return r},"Array, Array":function(t,e){return d(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return d(s(t),e)},"Matrix, Array":function(t,e){return d(t,s(e))},"Matrix, number | BigNumber":function(t,e){var r;switch(t.storage()){case"sparse":r=l(t,e,d,!1);break;default:r=p(t,e,d,!1)}return r},"number | BigNumber, Matrix":function(t,e){var r;switch(e.storage()){case"sparse":r=l(e,t,d,!0);break;default:r=p(e,t,d,!0)}return r},"Array, number | BigNumber":function(t,e){return p(s(t),e,d,!1).valueOf()},"number | BigNumber, Array":function(t,e){return p(s(e),t,d,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(t,e,r){for(var n=d(t,e),i=0;i<r.length;i++)n=d(n,r[i]);return n}});return d.toTex=void 0,d}function i(t,e){if(!o(t)||!o(e))throw new Error("Parameters in function lcm must be integer numbers");if(0==t||0==e)return 0;for(var r,n=t*e;0!=e;)r=e,e=t%r,t=r;return Math.abs(n/t)}var o=r(196).isInteger;e.name="lcm",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,a){var s=n(r(238)),u=t.SparseMatrix,c=function(t,e,r){var n=t._values,c=t._size,l=t._datatype,f=e._values,p=e._size,d=e._datatype;if(c.length!==p.length)throw new o(c.length,p.length);if(c[0]!==p[0]||c[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+p+")");var m,h=c[0],v=c[1],g=s,y=0,_=r;"string"==typeof l&&l===d&&(m=l,g=a.find(s,[m,m]),y=a.convert(0,m),_=a.find(r,[m,m]));for(var x=n&&f?[]:void 0,w=[],b=[],N=new u({values:x,index:w,ptr:b,size:[h,v],datatype:m}),z=x?[]:void 0,A=[],E=[],M=0;M<v;M++){b[M]=w.length;var O=M+1;if(i(t,M,A,z,E,O,N,_),i(e,M,A,z,E,O,N,_),z)for(var S=b[M];S<w.length;){var k=w[S];if(E[k]===O){var T=z[k];g(T,y)?w.splice(S,1):(x.push(T),S++)}else w.splice(S,1)}else for(var C=b[M];C<w.length;){var B=w[C];E[B]!==O?w.splice(C,1):C++}}return b[v]=w.length,N};return c}var i=r(601),o=r(231);e.name="algorithm06",e.factory=n},function(t,e){"use strict";t.exports=function(t,e,r,n,i,o,a,s,u,c,l){var f,p,d,m,h=t._values,v=t._index,g=t._ptr,y=a._index;if(n)for(p=g[e],d=g[e+1],f=p;f<d;f++)m=v[f],r[m]!==o?(r[m]=o,y.push(m),c?(n[m]=u?s(h[f],l):s(l,h[f]),i[m]=o):n[m]=h[f]):(n[m]=u?s(h[f],n[m]):s(n[m],h[f]),i[m]=o);else for(p=g[e],d=g[e+1],f=p;f<d;f++)m=v[f],r[m]!==o?(r[m]=o,y.push(m)):i[m]=o}},function(t,e,r){"use strict";function n(t,e,n,o){var a=n(r(271)),s=o("log",{number:function(r){return r>=0||e.predictable?Math.log(r):new t.Complex(r,0).log()},Complex:function(t){return t.log()},BigNumber:function(r){return!r.isNegative()||e.predictable?r.ln():new t.Complex(r.toNumber(),0).log()},"Array | Matrix":function(t){return i(t,s)},"any, any":function(t,e){return a(s(t),s(e))}});return s.toTex={1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},s}var i=r(208);e.name="log",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var a=n("log10",{number:function(r){return r>=0||e.predictable?o(r):new t.Complex(r,0).log().div(Math.LN10)},Complex:function(e){return new t.Complex(e).log().div(Math.LN10)},BigNumber:function(r){return!r.isNegative()||e.predictable?r.log():new t.Complex(r.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":function(t){return i(t,a)}});return a.toTex={1:"\\log_{10}\\left(${args[0]}\\right)"},a}var i=r(208),o=Math.log10||function(t){return Math.log(t)/Math.LN10};e.name="log10",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,i){function o(t,e){if(e>0)return t-e*Math.floor(t/e);if(0===e)return t;throw new Error("Cannot calculate mod for a negative divisor")}var a=n(r(242)),s=r(221),u=n(r(591)),c=n(r(251)),l=n(r(269)),f=n(r(275)),p=n(r(253)),d=n(r(247)),m=n(r(248)),h=i("mod",{"number, number":o,"BigNumber, BigNumber":function(t,e){return e.isZero()?t:t.mod(e)},"Fraction, Fraction":function(t,e){return t.mod(e)},"Matrix, Matrix":function(t,e){var r;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":r=l(t,e,h,!1);break;default:r=u(e,t,h,!0)}break;default:switch(e.storage()){case"sparse":r=c(t,e,h,!1);break;default:r=d(t,e,h)}}return r},"Array, Array":function(t,e){return h(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){return h(a(t),e)},"Matrix, Array":function(t,e){return h(t,a(e))},"Matrix, any":function(t,e){var r;switch(t.storage()){case"sparse":r=f(t,e,h,!1);break;default:r=m(t,e,h,!1)}return r},"any, Matrix":function(t,e){var r;switch(e.storage()){case"sparse":r=p(e,t,h,!0);break;default:r=m(e,t,h,!0)}return r},"Array, any":function(t,e){return m(a(t),e,h,!1).valueOf()},"any, Array":function(t,e){return m(a(e),t,h,!0).valueOf()}});return h.toTex={2:"\\left(${args[0]}"+s.operators.mod+"${args[1]}\\right)"},h}e.name="mod",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,i){function o(t,e){var r=t.size();if(1==r.length){if(e===Number.POSITIVE_INFINITY||"inf"===e){var n=0;return t.forEach(function(t){var e=a(t);p(e,n)&&(n=e)},!0),n}if(e===Number.NEGATIVE_INFINITY||"-inf"===e){var i;return t.forEach(function(t){var e=a(t);i&&!d(e,i)||(i=e)},!0),i||0}if("fro"===e)return o(t,2);if("number"==typeof e&&!isNaN(e)){if(!f(e,0)){var m=0;return t.forEach(function(t){m=s(u(a(t),e),m)},!0),u(m,1/e)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}if(2==r.length){if(1===e){var g=[],y=0;return t.forEach(function(t,e){var r=e[1],n=s(g[r]||0,a(t));p(n,y)&&(y=n),g[r]=n},!0),y}if(e===Number.POSITIVE_INFINITY||"inf"===e){var _=[],x=0;return t.forEach(function(t,e){var r=e[0],n=s(_[r]||0,a(t));p(n,x)&&(x=n),_[r]=n},!0),x}if("fro"===e)return c(h(l(v(t),t)));if(2===e)throw new Error("Unsupported parameter value, missing implementation of matrix singular value decomposition");throw new Error("Unsupported parameter value")}}var a=n(r(276)),s=n(r(241)),u=n(r(272)),c=n(r(557)),l=n(r(274)),f=n(r(238)),p=n(r(254)),d=n(r(250)),m=n(r(242)),h=n(r(606)),v=n(r(566)),g=i("norm",{number:Math.abs,Complex:function(t){return t.abs()},BigNumber:function(t){return t.abs()},"boolean | null":function(t){return Math.abs(t)},Array:function(t){return o(m(t),2)},Matrix:function(t){return o(t,2)},"number | Complex | BigNumber | boolean | null, number | BigNumber | string":function(t){return g(t)},"Array, number | BigNumber | string":function(t,e){return o(m(t),e)},"Matrix, number | BigNumber | string":function(t,e){return o(t,e)}});return g.toTex={1:"\\left\\|${args[0]}\\right\\|",2:void 0},g}e.name="norm",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,a){var s=n(r(242)),u=n(r(241)),c=a("trace",{Array:function(t){return c(s(t))},Matrix:function(t){var e;switch(t.storage()){case"dense":e=l(t);break;case"sparse":e=f(t)}return e},any:i}),l=function(t){var e=t._size,r=t._data;switch(e.length){case 1:if(1==e[0])return i(r[0]);throw new RangeError("Matrix must be square (size: "+o(e)+")");case 2:var n=e[0],a=e[1];if(n===a){for(var s=0,c=0;c<n;c++)s=u(s,r[c][c]);return s}throw new RangeError("Matrix must be square (size: "+o(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+o(e)+")")}},f=function(t){var e=t._values,r=t._index,n=t._ptr,i=t._size,a=i[0],s=i[1];if(a===s){var c=0;if(e.length>0)for(var l=0;l<s;l++)for(var f=n[l],p=n[l+1],d=f;d<p;d++){var m=r[d];if(m===l){c=u(c,e[d]);break}if(m>l)break}return c}throw new RangeError("Matrix must be square (size: "+o(i)+")")};return c.toTex={1:"\\mathrm{tr}\\left(${args[0]}\\right)"},c}var i=r(193).clone,o=r(212).format;e.name="trace",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,a){function s(e,r){var n=t.BigNumber.precision,i=t.BigNumber.clone({precision:n+2}),o=new t.BigNumber(0),a=new i(1),s=r.isNegative();if(s&&(r=r.neg()),r.isZero())throw new Error("Root must be non-zero");if(e.isNegative()&&!r.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(e.isZero())return s?new i(1/0):0;if(!e.isFinite())return s?o:e;var u=e.abs().pow(a.div(r));return u=e.isNeg()?u.neg():u,new t.BigNumber((s?a.div(u):u).toPrecision(n))}var u=n(r(242)),c=n(r(244)),l=n(r(591)),f=n(r(600)),p=n(r(275)),d=n(r(247)),m=n(r(248)),h=a("nthRoot",{number:function(t){return i(t,2)},"number, number":i,BigNumber:function(e){return s(e,new t.BigNumber(2))},Complex:function(t){return o(t,2)},"Complex, number":o,"BigNumber, BigNumber":s,"Array | Matrix":function(t){return h(t,2)},"Matrix, Matrix":function(t,e){var r;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":if(1!==e.density())throw new Error("Root must be non-zero");r=f(t,e,h);break;default:r=l(e,t,h,!0)}break;default:switch(e.storage()){case"sparse":if(1!==e.density())throw new Error("Root must be non-zero");r=c(t,e,h,!1);break;default:r=d(t,e,h)}}return r},"Array, Array":function(t,e){return h(u(t),u(e)).valueOf()},"Array, Matrix":function(t,e){return h(u(t),e)},"Matrix, Array":function(t,e){return h(t,u(e))},"Matrix, number | BigNumber":function(t,e){var r;switch(t.storage()){case"sparse":r=p(t,e,h,!1);break;default:r=m(t,e,h,!1)}return r},"number | BigNumber, Matrix":function(t,e){var r;switch(e.storage()){case"sparse":if(1!==e.density())throw new Error("Root must be non-zero");r=p(e,t,h,!0);break;default:r=m(e,t,h,!0)}return r},"Array, number | BigNumber":function(t,e){return h(u(t),e).valueOf()},"number | BigNumber, Array":function(t,e){return h(t,u(e)).valueOf()}});return h.toTex={2:"\\sqrt[${args[1]}]{${args[0]}}"},h}function i(t,e){var r=e<0;if(r&&(e=-e),0===e)throw new Error("Root must be non-zero");if(t<0&&Math.abs(e)%2!=1)throw new Error("Root must be odd when a is negative.");if(0==t)return r?1/0:0;if(!isFinite(t))return r?0:t;var n=Math.pow(Math.abs(t),1/e);return n=t<0?-n:n,r?1/n:n}function o(t,e){if(e<0)throw new Error("Root must be greater than zero");if(0===e)throw new Error("Root must be non-zero");if(e%1!==0)throw new Error("Root must be an integer");for(var r=t.arg(),n=t.abs(),i=[],o=Math.pow(n,1/e),a=0;a<e;a++)i.push({r:o,phi:(r+2*Math.PI*a)/e});return i}e.name="nthRoot",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("square",{number:function(t){return t*t},Complex:function(t){return t.mul(t)},BigNumber:function(t){return t.times(t)},Fraction:function(t){return t.mul(t)},"Array | Matrix":function(t){return i(t,o,!0)},Unit:function(t){return t.pow(2)}});return o.toTex={1:"\\left(${args[0]}\\right)^2"},o}var i=r(208);e.name="square",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,o){var a=r(221),s=o("unaryPlus",{number:function(t){return t},Complex:function(t){return t},BigNumber:function(t){return t},Fraction:function(t){return t},Unit:function(t){return t.clone()},"Array | Matrix":function(t){return i(t,s,!0)},"boolean | string | null":function(r){return"BigNumber"==e.number?new t.BigNumber((+r)):+r}});return s.toTex={1:a.operators.unaryPlus+"\\left(${args[0]}\\right)"},s}var i=r(208);e.name="unaryPlus",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,o){function a(t,r){var n,o,a,s=0,c=1,l=1,f=0;if(!i(t)||!i(r))throw new Error("Parameters in function xgcd must be integer numbers");for(;r;)o=Math.floor(t/r),a=t-o*r,n=s,s=c-o*s,c=n,n=l,l=f-o*l,f=n,t=r,r=a;var p;return p=t<0?[-t,-c,-f]:[t,t?c:0,f],"Array"===e.matrix?p:u(p)}function s(r,n){var i,o,a,s=new t.BigNumber(0),c=new t.BigNumber(1),l=s,f=c,p=c,d=s;if(!r.isInt()||!n.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!n.isZero();)o=r.div(n).floor(),a=r.mod(n),i=l,l=f.minus(o.times(l)),f=i,i=p,p=d.minus(o.times(p)),d=i,r=n,n=a;var m;return m=r.lt(s)?[r.neg(),f.neg(),d.neg()]:[r,r.isZero()?0:f,d],"Array"===e.matrix?m:u(m)}var u=n(r(242)),c=o("xgcd",{"number, number":a,"BigNumber, BigNumber":s});return c.toTex=void 0,c}var i=r(196).isInteger;e.name="xgcd",e.factory=n},function(t,e,r){"use strict";t.exports=[r(612),r(616),r(617),r(619),r(621),r(624),r(626)]},function(t,e,r){"use strict";function n(t,e,n,a){var s=r(221),u=n(r(242)),c=n(r(591)),l=n(r(600)),f=n(r(275)),p=n(r(247)),d=n(r(248)),m=a("bitAnd",{"number, number":function(t,e){if(!i(t)||!i(e))throw new Error("Integers expected in function bitAnd");return t&e},"BigNumber, BigNumber":o,"Matrix, Matrix":function(t,e){var r;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":r=l(t,e,m,!1);break;default:r=c(e,t,m,!0)}break;default:switch(e.storage()){case"sparse":r=c(t,e,m,!1);break;default:r=p(t,e,m)}}return r},"Array, Array":function(t,e){return m(u(t),u(e)).valueOf()},"Array, Matrix":function(t,e){return m(u(t),e)},"Matrix, Array":function(t,e){return m(t,u(e))},"Matrix, any":function(t,e){var r;switch(t.storage()){case"sparse":r=f(t,e,m,!1);break;default:r=d(t,e,m,!1)}return r},"any, Matrix":function(t,e){var r;switch(e.storage()){case"sparse":r=f(e,t,m,!0);break;default:r=d(e,t,m,!0)}return r},"Array, any":function(t,e){return d(u(t),e,m,!1).valueOf()},"any, Array":function(t,e){return d(u(e),t,m,!0).valueOf()}});return m.toTex={2:"\\left(${args[0]}"+s.operators.bitAnd+"${args[1]}\\right)"},m}var i=r(196).isInteger,o=r(613);e.name="bitAnd",e.factory=n},function(t,e,r){"use strict";var n=r(614);t.exports=function(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitAnd");var r=t.constructor;if(t.isNaN()||e.isNaN())return new r(NaN);if(t.isZero()||e.eq(-1)||t.eq(e))return t;if(e.isZero()||t.eq(-1))return e;if(!t.isFinite()||!e.isFinite()){if(!t.isFinite()&&!e.isFinite())return t.isNegative()==e.isNegative()?t:new r(0);if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new r(0):e;if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new r(0):t}return n(t,e,function(t,e){return t&e})}},function(t,e,r){"use strict";function n(t){for(var e=t.d,r=e[0]+"",n=1;n<e.length;++n){for(var i=e[n]+"",o=7-i.length;o--;)i="0"+i;r+=i}var a;for(a=r.length-1;"0"==r.charAt(a);--a);var s=t.e,u=r.slice(0,a+1||1),c=u.length;if(s>0)if(++s>c)for(s-=c;s--;u+="0");else s<c&&(u=u.slice(0,s)+"."+u.slice(s));for(var l=[0],n=0;n<u.length;){for(var f=l.length;f--;l[f]*=10);l[0]+=u.charAt(n++)<<0;for(var a=0;a<l.length;++a)l[a]>1&&(null==l[a+1]&&(l[a+1]=0),l[a+1]+=l[a]>>1,l[a]&=1)}return l.reverse()}var i=r(615);t.exports=function(t,e,r){var o,a,s=t.constructor,u=+(t.s<0),c=+(e.s<0);if(u){o=n(i(t));for(var l=0;l<o.length;++l)o[l]^=1}else o=n(t);if(c){a=n(i(e));for(var l=0;l<a.length;++l)a[l]^=1}else a=n(e);var f,p,d;o.length<=a.length?(f=o,p=a,d=u):(f=a,p=o,d=c);var m=f.length,h=p.length,v=1^r(u,c),g=new s(1^v),y=new s(1),_=new s(2),x=s.precision;for(s.config({precision:1e9});m>0;)r(f[--m],p[--h])==v&&(g=g.plus(y)),y=y.times(_);for(;h>0;)r(d,p[--h])==v&&(g=g.plus(y)),y=y.times(_);return s.config({precision:x}),0==v&&(g.s=-g.s),g}},function(t,e){"use strict";t.exports=function(t){if(t.isFinite()&&!t.isInteger())throw new Error("Integer expected in function bitNot");var e=t.constructor,r=e.precision;e.config({precision:1e9});var t=t.plus(new e(1));return t.s=-t.s||null,e.config({precision:r}),t}},function(t,e,r){"use strict";function n(t,e,n,s){var u=r(221),c=s("bitNot",{number:function(t){if(!a(t))throw new Error("Integer expected in function bitNot");return~t},BigNumber:o,"Array | Matrix":function(t){return i(t,c)}});return c.toTex={1:u.operators.bitNot+"\\left(${args[0]}\\right)"},c}var i=r(208),o=r(615),a=r(196).isInteger;e.name="bitNot",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,a){var s=r(221),u=n(r(242)),c=n(r(244)),l=n(r(245)),f=n(r(246)),p=n(r(247)),d=n(r(248)),m=a("bitOr",{"number, number":function(t,e){if(!i(t)||!i(e))throw new Error("Integers expected in function bitOr");return t|e},"BigNumber, BigNumber":o,"Matrix, Matrix":function(t,e){var r;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":r=l(t,e,m);break;default:r=c(e,t,m,!0)}break;default:switch(e.storage()){case"sparse":r=c(t,e,m,!1);break;default:r=p(t,e,m)}}return r},"Array, Array":function(t,e){return m(u(t),u(e)).valueOf()},"Array, Matrix":function(t,e){return m(u(t),e)},"Matrix, Array":function(t,e){return m(t,u(e))},"Matrix, any":function(t,e){var r;switch(t.storage()){case"sparse":r=f(t,e,m,!1);break;default:r=d(t,e,m,!1)}return r},"any, Matrix":function(t,e){var r;switch(e.storage()){case"sparse":r=f(e,t,m,!0);break;default:r=d(e,t,m,!0)}return r},"Array, any":function(t,e){return d(u(t),e,m,!1).valueOf()},"any, Array":function(t,e){return d(u(e),t,m,!0).valueOf()}});return m.toTex={2:"\\left(${args[0]}"+s.operators.bitOr+"${args[1]}\\right)"},m}var i=r(196).isInteger,o=r(618);e.name="bitOr",e.factory=n},function(t,e,r){"use strict";var n=r(614);t.exports=function(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitOr");var r=t.constructor;if(t.isNaN()||e.isNaN())return new r(NaN);var i=new r((-1));return t.isZero()||e.eq(i)||t.eq(e)?e:e.isZero()||t.eq(i)?t:t.isFinite()&&e.isFinite()?n(t,e,function(t,e){return t|e}):!t.isFinite()&&!t.isNegative()&&e.isNegative()||t.isNegative()&&!e.isNegative()&&!e.isFinite()?i:t.isNegative()&&e.isNegative()?t.isFinite()?t:e:t.isFinite()?e:t}},function(t,e,r){"use strict";function n(t,e,n,a){var s=r(221),u=n(r(242)),c=n(r(251)),l=n(r(252)),f=n(r(253)),p=n(r(247)),d=n(r(248)),m=a("bitXor",{"number, number":function(t,e){if(!i(t)||!i(e))throw new Error("Integers expected in function bitXor");return t^e},"BigNumber, BigNumber":o,"Matrix, Matrix":function(t,e){var r;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":r=l(t,e,m);break;default:r=c(e,t,m,!0)}break;default:switch(e.storage()){case"sparse":r=c(t,e,m,!1);break;default:r=p(t,e,m)}}return r},"Array, Array":function(t,e){return m(u(t),u(e)).valueOf()},"Array, Matrix":function(t,e){return m(u(t),e)},"Matrix, Array":function(t,e){return m(t,u(e))},"Matrix, any":function(t,e){var r;switch(t.storage()){case"sparse":r=f(t,e,m,!1);break;default:r=d(t,e,m,!1)}return r},"any, Matrix":function(t,e){var r;switch(e.storage()){case"sparse":r=f(e,t,m,!0);break;default:r=d(e,t,m,!0)}return r},"Array, any":function(t,e){return d(u(t),e,m,!1).valueOf()},"any, Array":function(t,e){return d(u(e),t,m,!0).valueOf()}});return m.toTex={2:"\\left(${args[0]}"+s.operators.bitXor+"${args[1]}\\right)"},m}var i=r(196).isInteger,o=r(620);e.name="bitXor",e.factory=n},function(t,e,r){"use strict";var n=r(614),i=r(615);t.exports=function(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitXor");var r=t.constructor;if(t.isNaN()||e.isNaN())return new r(NaN);if(t.isZero())return e;if(e.isZero())return t;if(t.eq(e))return new r(0);var o=new r((-1));return t.eq(o)?i(e):e.eq(o)?i(t):t.isFinite()&&e.isFinite()?n(t,e,function(t,e){return t^e}):t.isFinite()||e.isFinite()?new r(t.isNegative()==e.isNegative()?1/0:-(1/0)):o}},function(t,e,r){"use strict";function n(t,e,n,a){var s=r(221),u=n(r(242)),c=n(r(238)),l=n(r(279)),f=n(r(244)),p=n(r(591)),d=n(r(623)),m=n(r(246)),h=n(r(275)),v=n(r(247)),g=n(r(248)),y=a("leftShift",{"number, number":function(t,e){if(!i(t)||!i(e))throw new Error("Integers expected in function leftShift");return t<<e},"BigNumber, BigNumber":o,"Matrix, Matrix":function(t,e){var r;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":r=d(t,e,y,!1);break;default:r=p(e,t,y,!0)}break;default:switch(e.storage()){case"sparse":r=f(t,e,y,!1);break;default:r=v(t,e,y)}}return r},"Array, Array":function(t,e){return y(u(t),u(e)).valueOf()},"Array, Matrix":function(t,e){return y(u(t),e)},"Matrix, Array":function(t,e){return y(t,u(e))},"Matrix, number | BigNumber":function(t,e){if(!c(e,0)){var r;switch(t.storage()){case"sparse":r=h(t,e,y,!1);break;default:r=g(t,e,y,!1)}return r}return t.clone()},"number | BigNumber, Matrix":function(t,e){if(!c(t,0)){var r;switch(e.storage()){case"sparse":r=m(e,t,y,!0);break;default:r=g(e,t,y,!0)}return r}return l(e.size(),e.storage())},"Array, number | BigNumber":function(t,e){return y(u(t),e).valueOf()},"number | BigNumber, Array":function(t,e){return y(t,u(e)).valueOf()}});return y.toTex={2:"\\left(${args[0]}"+s.operators.leftShift+"${args[1]}\\right)"},y}var i=r(196).isInteger,o=r(622);e.name="leftShift",e.factory=n},function(t,e){"use strict";t.exports=function(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function leftShift");var r=t.constructor;return t.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new r(NaN):t.isZero()||e.isZero()?t:t.isFinite()||e.isFinite()?e.lt(55)?t.times(Math.pow(2,e.toNumber())+""):t.times(new r(2).pow(e)):new r(NaN)}},function(t,e,r){"use strict";function n(t,e,n,o){var a=n(r(238)),s=t.SparseMatrix,u=function(t,e,r){var n=t._values,u=t._index,c=t._ptr,l=t._size,f=t._datatype,p=e._values,d=e._index,m=e._ptr,h=e._size,v=e._datatype;if(l.length!==h.length)throw new i(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");if(!n||!p)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var g,y=l[0],_=l[1],x=a,w=0,b=r;"string"==typeof f&&f===v&&(g=f,x=o.find(a,[g,g]),w=o.convert(0,g),b=o.find(r,[g,g]));for(var N,z,A,E,M=[],O=[],S=[],k=new s({values:M,index:O,ptr:S,size:[y,_],datatype:g}),T=[],C=[],B=0;B<_;B++){S[B]=O.length;var I=B+1;for(z=c[B],A=c[B+1],N=z;N<A;N++)E=u[N],C[E]=I,T[E]=n[N],O.push(E);for(z=m[B],A=m[B+1],N=z;N<A;N++)E=d[N],C[E]===I&&(T[E]=b(T[E],p[N]));for(N=S[B];N<O.length;){
E=O[N];var R=T[E];x(R,w)?O.splice(N,1):(M.push(R),N++)}}return S[_]=O.length,k};return u}var i=r(231);e.name="algorithm08",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,a){var s=r(221),u=n(r(242)),c=n(r(238)),l=n(r(279)),f=n(r(244)),p=n(r(591)),d=n(r(623)),m=n(r(246)),h=n(r(275)),v=n(r(247)),g=n(r(248)),y=a("rightArithShift",{"number, number":function(t,e){if(!i(t)||!i(e))throw new Error("Integers expected in function rightArithShift");return t>>e},"BigNumber, BigNumber":o,"Matrix, Matrix":function(t,e){var r;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":r=d(t,e,y,!1);break;default:r=p(e,t,y,!0)}break;default:switch(e.storage()){case"sparse":r=f(t,e,y,!1);break;default:r=v(t,e,y)}}return r},"Array, Array":function(t,e){return y(u(t),u(e)).valueOf()},"Array, Matrix":function(t,e){return y(u(t),e)},"Matrix, Array":function(t,e){return y(t,u(e))},"Matrix, number | BigNumber":function(t,e){if(!c(e,0)){var r;switch(t.storage()){case"sparse":r=h(t,e,y,!1);break;default:r=g(t,e,y,!1)}return r}return t.clone()},"number | BigNumber, Matrix":function(t,e){if(!c(t,0)){var r;switch(e.storage()){case"sparse":r=m(e,t,y,!0);break;default:r=g(e,t,y,!0)}return r}return l(e.size(),e.storage())},"Array, number | BigNumber":function(t,e){return y(u(t),e).valueOf()},"number | BigNumber, Array":function(t,e){return y(t,u(e)).valueOf()}});return y.toTex={2:"\\left(${args[0]}"+s.operators.rightArithShift+"${args[1]}\\right)"},y}var i=r(196).isInteger,o=r(625);e.name="rightArithShift",e.factory=n},function(t,e){"use strict";t.exports=function(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function rightArithShift");var r=t.constructor;return t.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new r(NaN):t.isZero()||e.isZero()?t:e.isFinite()?e.lt(55)?t.div(Math.pow(2,e.toNumber())+"").floor():t.div(new r(2).pow(e)).floor():new r(t.isNegative()?-1:t.isFinite()?0:NaN)}},function(t,e,r){"use strict";function n(t,e,n,o){var a=r(221),s=n(r(242)),u=n(r(238)),c=n(r(279)),l=n(r(244)),f=n(r(591)),p=n(r(623)),d=n(r(246)),m=n(r(275)),h=n(r(247)),v=n(r(248)),g=o("rightLogShift",{"number, number":function(t,e){if(!i(t)||!i(e))throw new Error("Integers expected in function rightLogShift");return t>>>e},"Matrix, Matrix":function(t,e){var r;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":r=p(t,e,g,!1);break;default:r=f(e,t,g,!0)}break;default:switch(e.storage()){case"sparse":r=l(t,e,g,!1);break;default:r=h(t,e,g)}}return r},"Array, Array":function(t,e){return g(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return g(s(t),e)},"Matrix, Array":function(t,e){return g(t,s(e))},"Matrix, number | BigNumber":function(t,e){if(!u(e,0)){var r;switch(t.storage()){case"sparse":r=m(t,e,g,!1);break;default:r=v(t,e,g,!1)}return r}return t.clone()},"number | BigNumber, Matrix":function(t,e){if(!u(t,0)){var r;switch(e.storage()){case"sparse":r=d(e,t,g,!0);break;default:r=v(e,t,g,!0)}return r}return c(e.size(),e.storage())},"Array, number | BigNumber":function(t,e){return g(s(t),e).valueOf()},"number | BigNumber, Array":function(t,e){return g(t,s(e)).valueOf()}});return g.toTex={2:"\\left(${args[0]}"+a.operators.rightLogShift+"${args[1]}\\right)"},g}var i=r(196).isInteger;e.name="rightLogShift",e.factory=n},function(t,e,r){"use strict";t.exports=[r(628),r(634),r(629),r(635)]},function(t,e,r){"use strict";function n(t,e,n,i){var o=n(r(241)),a=n(r(629)),s=n(r(587)),u=n(r(633)),c=i("bellNumbers",{"number | BigNumber":function(t){if(!u(t)||s(t))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var e=0,r=0;r<=t;r++)e=o(e,a(t,r));return e}});return c.toTex={1:"\\mathrm{B}_{${args[0]}}"},c}e.name="bellNumbers",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,i){var o=n(r(241)),a=n(r(267)),s=n(r(274)),u=n(r(534)),c=n(r(272)),l=n(r(630)),f=n(r(632)),p=n(r(587)),d=n(r(633)),m=n(r(254)),h=i("stirlingS2",{"number | BigNumber, number | BigNumber":function(t,e){if(!d(t)||p(t)||!d(e)||p(e))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(m(e,t))throw new TypeError("k must be less than or equal to n in function stirlingS2");for(var r=l(e),n=0,i=0;i<=e;i++){var h=c(-1,a(e,i)),v=f(e,i),g=c(i,t);n=o(n,s(s(v,g),h))}return u(n,r)}});return h.toTex={2:"\\mathrm{S}\\left(${args}\\right)"},h}e.name="stirlingS2",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,o){var a=n(r(631)),s=r(221),u=o("factorial",{number:function(t){if(t<0)throw new Error("Value must be non-negative");return a(t+1)},BigNumber:function(t){if(t.isNegative())throw new Error("Value must be non-negative");return a(t.plus(1))},"Array | Matrix":function(t){return i(t,u)}});return u.toTex={1:"\\left(${args[0]}\\right)"+s.operators.factorial},u}var i=r(208);e.name="factorial",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,u){function c(r){if(r.isZero())return new t.BigNumber(1);for(var n=e.precision+(0|Math.log(r.toNumber())),i=t.BigNumber.clone({precision:n}),o=new i(r),a=r.toNumber()-1;a>1;)o=o.times(a),a--;return new t.BigNumber(o.toPrecision(t.BigNumber.precision))}var l=n(r(274)),f=n(r(272)),p=u("gamma",{number:function(t){var e,r;if(o(t)){if(t<=0)return isFinite(t)?1/0:NaN;if(t>171)return 1/0;for(var n=t-2,i=t-1;n>1;)i*=n,n--;return 0==i&&(i=1),i}if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*p(1-t));if(t>=171.35)return 1/0;if(t>85){var u=t*t,c=u*t,l=c*t,f=l*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*u)-139/(51840*c)-571/(2488320*l)+163879/(209018880*f)+5246819/(75246796800*f*t))}--t,r=s[0];for(var d=1;d<s.length;++d)r+=s[d]/(t+d);return e=t+a+.5,Math.sqrt(2*Math.PI)*Math.pow(e,t+.5)*Math.exp(-e)*r},Complex:function(e){var r,n;if(0==e.im)return p(e.re);e=new t.Complex(e.re-1,e.im),n=new t.Complex(s[0],0);for(var i=1;i<s.length;++i){var o=e.re+i,u=o*o+e.im*e.im;0!=u?(n.re+=s[i]*o/u,n.im+=-(s[i]*e.im)/u):n.re=s[i]<0?-(1/0):1/0}r=new t.Complex(e.re+a+.5,e.im);var c=Math.sqrt(2*Math.PI);e.re+=.5;var d=f(r,e);0==d.im?d.re*=c:0==d.re?d.im*=c:(d.re*=c,d.im*=c);var m=Math.exp(-r.re);return r.re=m*Math.cos(-r.im),r.im=m*Math.sin(-r.im),l(l(d,r),n)},BigNumber:function(e){if(e.isInteger())return e.isNegative()||e.isZero()?new t.BigNumber(1/0):c(e.minus(1));if(!e.isFinite())return new t.BigNumber(e.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")},"Array | Matrix":function(t){return i(t,p)}});return p.toTex={1:"\\Gamma\\left(${args[0]}\\right)"},p}var i=r(208),o=r(196).isInteger,a=4.7421875,s=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];e.name="gamma",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var a=n("combinations",{"number, number":function(t,e){var r,n,i;if(!o(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(!o(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>t)throw new TypeError("k must be less than or equal to n");for(r=Math.max(e,t-e),n=1,i=1;i<=t-r;i++)n=n*(r+i)/i;return n},"BigNumber, BigNumber":function(e,r){var n,o,a,s,u=new t.BigNumber(1);if(!i(e)||!i(r))throw new TypeError("Positive integer value expected in function combinations");if(r.gt(e))throw new TypeError("k must be less than n in function combinations");for(n=e.minus(r),r.lt(n)&&(n=r),o=u,a=u,s=e.minus(n);a.lte(s);a=a.plus(1))o=o.times(n.plus(a)).dividedBy(a);return o}});return a.toTex={2:"\\binom{${args[0]}}{${args[1]}}"},a}function i(t){return t.isInteger()&&t.gte(0)}var o=r(196).isInteger;e.name="combinations",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var a=n("isInteger",{number:o.isInteger,BigNumber:function(t){return t.isInt()},Fraction:function(t){return 1===t.d&&isFinite(t.n)},"Array | Matrix":function(t){return i(t,a)}});return a}var i=r(208),o=r(196);e.name="isInteger",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,i){var o=n(r(632)),a=n(r(243)),s=n(r(554)),u=n(r(633)),c=n(r(254)),l=i("composition",{"number | BigNumber, number | BigNumber":function(t,e){if(!(u(t)&&s(t)&&u(e)&&s(e)))throw new TypeError("Positive integer value expected in function composition");if(c(e,t))throw new TypeError("k must be less than or equal to n in function composition");return o(a(t,-1),a(e,-1))}});return l.toTex=void 0,l}e.name="composition",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,i){var o=n(r(241)),a=n(r(534)),s=n(r(274)),u=n(r(632)),c=n(r(587)),l=n(r(633)),f=i("catalan",{"number | BigNumber":function(t){if(!l(t)||c(t))throw new TypeError("Non-negative integer value expected in function catalan");return a(u(s(t,2),t),o(t,1))}});return f.toTex={1:"\\mathrm{C}_{${args[0]}}"},f}e.name="catalan",e.factory=n},function(t,e,r){"use strict";t.exports=[r(637),r(558),r(638),r(639)]},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("arg",{number:function(t){return Math.atan2(0,t)},BigNumber:function(e){return t.BigNumber.atan2(0,e)},Complex:function(t){return t.arg()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\arg\\left(${args[0]}\\right)"},o}var i=r(208);e.name="arg",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("im",{number:function(t){return 0},BigNumber:function(e){return new t.BigNumber(0)},Complex:function(t){return t.im},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},o}var i=r(208);e.name="im",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("re",{number:function(t){return t},BigNumber:function(t){return t},Complex:function(t){return t.re},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},o}var i=r(208);e.name="re",e.factory=n},function(t,e,r){"use strict";t.exports=[r(641),r(642)]},function(t,e,r){"use strict";function n(t,e,n,i){function o(t){return 2===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]}function a(t){return 3===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]&&"number"==typeof t[2]}function s(t){return 4===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]&&"number"==typeof t[2]&&"number"==typeof t[3]}function u(t,r,n,i){var o=t,a=n,s=h(o,r),u=h(a,i),c=s[0]*u[1]-u[0]*s[1];if(f(c)<e.epsilon)return null;var l=(u[0]*o[1]-u[1]*o[0]-u[0]*a[1]+u[1]*a[0])/c;return p(m(s,l),o)}function c(t,e,r,n,i,o,a,s,u,c,l,f){var p=(t-a)*(c-a)+(e-s)*(l-s)+(r-u)*(f-u),d=(c-a)*(n-t)+(l-s)*(i-e)+(f-u)*(o-r),m=(t-a)*(n-t)+(e-s)*(i-e)+(r-u)*(o-r),h=(c-a)*(c-a)+(l-s)*(l-s)+(f-u)*(f-u),v=(n-t)*(n-t)+(i-e)*(i-e)+(o-r)*(o-r),g=(p*d-m*h)/(v*h-d*d),y=(p+g*d)/h,_=t+g*(n-t),x=e+g*(i-e),w=r+g*(o-r),b=a+y*(c-a),N=s+y*(l-s),z=u+y*(f-u);return _===b&&x===N&&w===z?[_,x,w]:null}function l(t,e,r,n,i,o,a,s,u,c){var l=(c-t*a-e*s-r*u)/(n*a+i*s+o*u-t*a-e*s-r*u),f=t+l*(n-t),p=e+l*(i-e),d=r+l*(o-r);return[f,p,d]}var f=n(r(276)),p=n(r(241)),d=n(r(242)),m=n(r(274)),h=n(r(267)),v=i("intersect",{"Array, Array, Array":function(t,e,r){if(!a(t))throw new TypeError("Array with 3 numbers expected for first argument");if(!a(e))throw new TypeError("Array with 3 numbers expected for second argument");if(!s(r))throw new TypeError("Array with 4 numbers expected as third argument");return l(t[0],t[1],t[2],e[0],e[1],e[2],r[0],r[1],r[2],r[3])},"Array, Array, Array, Array":function(t,e,r,n){if(2===t.length){if(!o(t))throw new TypeError("Array with 2 numbers expected for first argument");if(!o(e))throw new TypeError("Array with 2 numbers expected for second argument");if(!o(r))throw new TypeError("Array with 2 numbers expected for third argument");if(!o(n))throw new TypeError("Array with 2 numbers expected for fourth argument");return u(t,e,r,n)}if(3===t.length){if(!a(t))throw new TypeError("Array with 3 numbers expected for first argument");if(!a(e))throw new TypeError("Array with 3 numbers expected for second argument");if(!a(r))throw new TypeError("Array with 3 numbers expected for third argument");if(!a(n))throw new TypeError("Array with 3 numbers expected for fourth argument");return c(t[0],t[1],t[2],e[0],e[1],e[2],r[0],r[1],r[2],n[0],n[1],n[2])}throw new TypeError("Arrays with two or thee dimensional points expected")},"Matrix, Matrix, Matrix":function(t,e,r){return d(v(t.valueOf(),e.valueOf(),r.valueOf()))},"Matrix, Matrix, Matrix, Matrix":function(t,e,r,n){return d(v(t.valueOf(),e.valueOf(),r.valueOf(),n.valueOf()))}});return v}e.name="intersect",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,s){var m=(n(r(242)),s("distance",{"Array, Array, Array":function(t,e,r){if(2==t.length&&2==e.length&&2==r.length){if(!i(t))throw new TypeError("Array with 2 numbers expected for first argument");if(!i(e))throw new TypeError("Array with 2 numbers expected for second argument");if(!i(r))throw new TypeError("Array with 2 numbers expected for third argument");var n=(r[1]-r[0])/(e[1]-e[0]),o=n*n*e[0],a=-1*(n*e[0]),s=t[1];return c(t[0],t[1],o,a,s)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(t,e,r){if(2==Object.keys(t).length&&2==Object.keys(e).length&&2==Object.keys(r).length){if(!i(t))throw new TypeError("Values of pointX and pointY should be numbers");if(!i(e))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers");if(!i(r))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers");if(t.hasOwnProperty("pointX")&&t.hasOwnProperty("pointY")&&e.hasOwnProperty("lineOnePtX")&&e.hasOwnProperty("lineOnePtY")&&r.hasOwnProperty("lineTwoPtX")&&r.hasOwnProperty("lineTwoPtY")){var n=(r.lineTwoPtY-r.lineTwoPtX)/(e.lineOnePtY-e.lineOnePtX),o=n*n*e.lineOnePtX,a=-1*(n*e.lineOnePtX),s=t.pointX;return c(t.pointX,t.pointY,o,a,s)}throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(t,e){if(2==t.length&&3==e.length){if(!i(t))throw new TypeError("Array with 2 numbers expected for first argument");if(!o(e))throw new TypeError("Array with 3 numbers expected for second argument");return c(t[0],t[1],e[0],e[1],e[2])}if(3==t.length&&6==e.length){if(!o(t))throw new TypeError("Array with 3 numbers expected for first argument");if(!a(e))throw new TypeError("Array with 6 numbers expected for second argument");return l(t[0],t[1],t[2],e[0],e[1],e[2],e[3],e[4],e[5])}if(2==t.length&&2==e.length){if(!i(t))throw new TypeError("Array with 2 numbers expected for first argument");if(!i(e))throw new TypeError("Array with 2 numbers expected for second argument");return f(t[0],t[1],e[0],e[1])}if(3==t.length&&3==e.length){if(!o(t))throw new TypeError("Array with 3 numbers expected for first argument");if(!o(e))throw new TypeError("Array with 3 numbers expected for second argument");return p(t[0],t[1],t[2],e[0],e[1],e[2])}throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(t,e){if(2==Object.keys(t).length&&3==Object.keys(e).length){if(!i(t))throw new TypeError("Values of pointX and pointY should be numbers");if(!o(e))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers");if(t.hasOwnProperty("pointX")&&t.hasOwnProperty("pointY")&&e.hasOwnProperty("xCoeffLine")&&e.hasOwnProperty("yCoeffLine")&&e.hasOwnProperty("yCoeffLine"))return c(t.pointX,t.pointY,e.xCoeffLine,e.yCoeffLine,e.constant);throw new TypeError("Key names do not match")}if(3==Object.keys(t).length&&6==Object.keys(e).length){if(!o(t))throw new TypeError("Values of pointX, pointY and pointZ should be numbers");if(!a(e))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers");if(t.hasOwnProperty("pointX")&&t.hasOwnProperty("pointY")&&e.hasOwnProperty("x0")&&e.hasOwnProperty("y0")&&e.hasOwnProperty("z0")&&e.hasOwnProperty("a")&&e.hasOwnProperty("b")&&e.hasOwnProperty("c"))return l(t.pointX,t.pointY,t.pointZ,e.x0,e.y0,e.z0,e.a,e.b,e.c);throw new TypeError("Key names do not match")}if(2==Object.keys(t).length&&2==Object.keys(e).length){if(!i(t))throw new TypeError("Values of pointOneX and pointOneY should be numbers");if(!i(e))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers");if(t.hasOwnProperty("pointOneX")&&t.hasOwnProperty("pointOneY")&&e.hasOwnProperty("pointTwoX")&&e.hasOwnProperty("pointTwoY"))return f(t.pointOneX,t.pointOneY,e.pointTwoX,e.pointTwoY);throw new TypeError("Key names do not match")}if(3==Object.keys(t).length&&3==Object.keys(e).length){if(!o(t))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers");if(!o(e))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers");if(t.hasOwnProperty("pointOneX")&&t.hasOwnProperty("pointOneY")&&t.hasOwnProperty("pointOneZ")&&e.hasOwnProperty("pointTwoX")&&e.hasOwnProperty("pointTwoY")&&e.hasOwnProperty("pointTwoZ"))return p(t.pointOneX,t.pointOneY,t.pointOneZ,e.pointTwoX,e.pointTwoY,e.pointTwoZ);throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},Array:function(t){if(!u(t))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return d(t)}}));return m}function i(t){return t.constructor!==Array&&(t=s(t)),"number"==typeof t[0]&&"number"==typeof t[1]}function o(t){return t.constructor!==Array&&(t=s(t)),"number"==typeof t[0]&&"number"==typeof t[1]&&"number"==typeof t[2]}function a(t){return t.constructor!==Array&&(t=s(t)),"number"==typeof t[0]&&"number"==typeof t[1]&&"number"==typeof t[2]&&"number"==typeof t[3]&&"number"==typeof t[4]&&"number"==typeof t[5]}function s(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;n++)r.push(t[e[n]]);return r}function u(t){if(2==t[0].length&&"number"==typeof t[0][0]&&"number"==typeof t[0][1]){for(var e in t)if(2!=t[e].length||"number"!=typeof t[e][0]||"number"!=typeof t[e][1])return!1}else{if(3!=t[0].length||"number"!=typeof t[0][0]||"number"!=typeof t[0][1]||"number"!=typeof t[0][2])return!1;for(var e in t)if(3!=t[e].length||"number"!=typeof t[e][0]||"number"!=typeof t[e][1]||"number"!=typeof t[e][2])return!1}return!0}function c(t,e,r,n,i){var o=Math.abs(r*t+n*e+i),a=Math.pow(r*r+n*n,.5),s=o/a;return s}function l(t,e,r,n,i,o,a,s,u){var c=[(i-e)*u-(o-r)*s,(o-r)*a-(n-t)*u,(n-t)*s-(i-e)*a];c=Math.pow(c[0]*c[0]+c[1]*c[1]+c[2]*c[2],.5);var l=Math.pow(a*a+s*s+u*u,.5),f=c/l;return f}function f(t,e,r,n){var i=n-e,o=r-t,a=i*i+o*o,s=Math.pow(a,.5);return s}function p(t,e,r,n,i,o){var a=o-r,s=i-e,u=n-t,c=a*a+s*s+u*u,l=Math.pow(c,.5);return l}function d(t){for(var e=[],r=0;r<t.length-1;r++)for(var n=r+1;n<t.length;n++)2==t[0].length?e.push(f(t[r][0],t[r][1],t[n][0],t[n][1])):3==t[0].length&&e.push(p(t[r][0],t[r][1],t[r][2],t[n][0],t[n][1],t[n][2]));return e}e.name="distance",e.factory=n},function(t,e,r){"use strict";t.exports=[r(644),r(645),r(646),r(647)]},function(t,e,r){"use strict";function n(t,e,n,i){var o=r(221),a=n(r(242)),s=n(r(279)),u=n(r(645)),c=(n(r(553)),n(r(591))),l=n(r(600)),f=n(r(275)),p=n(r(247)),d=n(r(248)),m=i("and",{"number, number":function(t,e){return!(!t||!e)},"Complex, Complex":function(t,e){return!(0===t.re&&0===t.im||0===e.re&&0===e.im)},"BigNumber, BigNumber":function(t,e){return!(t.isZero()||e.isZero()||t.isNaN()||e.isNaN())},"Unit, Unit":function(t,e){return m(t.value,e.value)},"Matrix, Matrix":function(t,e){var r;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":r=l(t,e,m,!1);break;default:r=c(e,t,m,!0)}break;default:switch(e.storage()){case"sparse":r=c(t,e,m,!1);break;default:r=p(t,e,m)}}return r},"Array, Array":function(t,e){return m(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){return m(a(t),e)},"Matrix, Array":function(t,e){return m(t,a(e))},"Matrix, any":function(t,e){if(u(e))return s(t.size(),t.storage());var r;switch(t.storage()){case"sparse":r=f(t,e,m,!1);break;default:r=d(t,e,m,!1)}return r},"any, Matrix":function(t,e){if(u(t))return s(t.size(),t.storage());var r;switch(e.storage()){case"sparse":r=f(e,t,m,!0);break;default:r=d(e,t,m,!0)}return r},"Array, any":function(t,e){return m(a(t),e).valueOf()},"any, Array":function(t,e){return m(t,a(e)).valueOf()}});return m.toTex={2:"\\left(${args[0]}"+o.operators.and+"${args[1]}\\right)"},m}e.name="and",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,o){var a=r(221),s=o("not",{number:function(t){return!t},Complex:function(t){return 0===t.re&&0===t.im},BigNumber:function(t){return t.isZero()||t.isNaN()},Unit:function(t){return s(t.value)},"Array | Matrix":function(t){return i(t,s)}});return s.toTex={1:a.operators.not+"\\left(${args[0]}\\right)"},s}var i=r(208);e.name="not",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,i){var o=r(221),a=n(r(242)),s=n(r(251)),u=n(r(269)),c=n(r(253)),l=n(r(247)),f=n(r(248)),p=i("or",{"number, number":function(t,e){return!(!t&&!e)},"Complex, Complex":function(t,e){return 0!==t.re||0!==t.im||0!==e.re||0!==e.im},"BigNumber, BigNumber":function(t,e){return!t.isZero()&&!t.isNaN()||!e.isZero()&&!e.isNaN()},"Unit, Unit":function(t,e){return p(t.value,e.value)},"Matrix, Matrix":function(t,e){var r;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":r=u(t,e,p);break;default:r=s(e,t,p,!0)}break;default:switch(e.storage()){case"sparse":r=s(t,e,p,!1);break;default:r=l(t,e,p)}}return r},"Array, Array":function(t,e){return p(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){return p(a(t),e)},"Matrix, Array":function(t,e){return p(t,a(e))},"Matrix, any":function(t,e){var r;switch(t.storage()){case"sparse":r=c(t,e,p,!1);break;default:r=f(t,e,p,!1)}return r},"any, Matrix":function(t,e){var r;switch(e.storage()){case"sparse":r=c(e,t,p,!0);break;default:r=f(e,t,p,!0)}return r},"Array, any":function(t,e){return f(a(t),e,p,!1).valueOf()},"any, Array":function(t,e){return f(a(e),t,p,!0).valueOf()}});return p.toTex={2:"\\left(${args[0]}"+o.operators.or+"${args[1]}\\right)"},p}e.name="or",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,i){var o=r(221),a=n(r(242)),s=n(r(251)),u=n(r(252)),c=n(r(253)),l=n(r(247)),f=n(r(248)),p=i("xor",{"number, number":function(t,e){return!!t!=!!e},"Complex, Complex":function(t,e){return(0!==t.re||0!==t.im)!=(0!==e.re||0!==e.im)},"BigNumber, BigNumber":function(t,e){return(!t.isZero()&&!t.isNaN())!=(!e.isZero()&&!e.isNaN())},"Unit, Unit":function(t,e){return p(t.value,e.value)},"Matrix, Matrix":function(t,e){var r;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":r=u(t,e,p);break;default:r=s(e,t,p,!0)}break;default:switch(e.storage()){case"sparse":r=s(t,e,p,!1);break;default:r=l(t,e,p)}}return r},"Array, Array":function(t,e){return p(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){return p(a(t),e)},"Matrix, Array":function(t,e){return p(t,a(e))},"Matrix, any":function(t,e){var r;switch(t.storage()){case"sparse":r=c(t,e,p,!1);break;default:r=f(t,e,p,!1)}return r},"any, Matrix":function(t,e){var r;switch(e.storage()){case"sparse":r=c(e,t,p,!0);break;default:r=f(e,t,p,!0)}return r},"Array, any":function(t,e){return f(a(t),e,p,!1).valueOf()},"any, Array":function(t,e){return f(a(e),t,p,!0).valueOf()}});return p.toTex={2:"\\left(${args[0]}"+o.operators.xor+"${args[1]}\\right)"},p}e.name="xor",e.factory=n},function(t,e,r){"use strict";t.exports=[r(520),r(649),r(536),r(650),r(651),r(273),r(652),r(653),r(654),r(535),r(655),r(656),r(657),r(658),r(540),r(660),r(661),r(662),r(663),r(666),r(498),r(606),r(566),r(279)]},function(t,e,r){"use strict";function n(t,e,n,o){function a(t,e){var r=Math.max(i.size(t).length,i.size(e).length);t=i.squeeze(t),e=i.squeeze(e);var n=i.size(t),o=i.size(e);if(1!=n.length||1!=o.length||3!=n[0]||3!=o[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+n.join(", ")+"], B = ["+o.join(", ")+"])");var a=[u(c(t[1],e[2]),c(t[2],e[1])),u(c(t[2],e[0]),c(t[0],e[2])),u(c(t[0],e[1]),c(t[1],e[0]))];return r>1?[a]:a}var s=n(r(242)),u=n(r(267)),c=n(r(274)),l=o("cross",{"Matrix, Matrix":function(t,e){return s(a(t.toArray(),e.toArray()))},"Matrix, Array":function(t,e){return s(a(t.toArray(),e))},"Array, Matrix":function(t,e){return s(a(t,e.toArray()))},"Array, Array":a});return l.toTex={2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},l}var i=r(229);e.name="cross",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,a){function s(t,e,r,n){if(!o(e))throw new TypeError("Second parameter in function diag must be an integer");var i=e>0?e:0,a=e<0?-e:0;switch(r.length){case 1:return u(t,e,n,r[0],a,i);case 2:return c(t,e,n,r,a,i)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function u(e,r,n,i,o,a){var s=[i+o,i+a],u=t.Matrix.storage(n||"dense"),c=u.diagonal(s,e,r);return null!==n?c:c.valueOf()}function c(t,e,r,n,i,o){if(t&&t.isMatrix===!0){var a=t.diagonal(e);return null!==r?r!==a.storage()?l(a,r):a:a.valueOf()}for(var s=Math.min(n[0]-i,n[1]-o),u=[],c=0;c<s;c++)u[c]=t[c+i][c+o];return null!==r?l(u):u}var l=n(r(242)),f=a("diag",{Array:function(t){return s(t,0,i.size(t),null)},"Array, number":function(t,e){return s(t,e,i.size(t),null)},"Array, BigNumber":function(t,e){return s(t,e.toNumber(),i.size(t),null)},"Array, string":function(t,e){return s(t,0,i.size(t),e)},"Array, number, string":function(t,e,r){return s(t,e,i.size(t),r)},"Array, BigNumber, string":function(t,e,r){return s(t,e.toNumber(),i.size(t),r)},Matrix:function(t){return s(t,0,t.size(),t.storage())},"Matrix, number":function(t,e){return s(t,e,t.size(),t.storage())},"Matrix, BigNumber":function(t,e){return s(t,e.toNumber(),t.size(),t.storage())},"Matrix, string":function(t,e){return s(t,0,t.size(),e)},"Matrix, number, string":function(t,e,r){return s(t,e,t.size(),r)},"Matrix, BigNumber, string":function(t,e,r){return s(t,e.toNumber(),t.size(),r)}});return f.toTex=void 0,f}var i=r(229),o=(r(193).clone,r(196).isInteger);e.name="diag",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,o){function a(t,e){var r=i(t),n=i(e),o=r[0];if(1!==r.length||1!==n.length)throw new RangeError("Vector expected");if(r[0]!=n[0])throw new RangeError("Vectors must have equal length ("+r[0]+" != "+n[0]+")");if(0==o)throw new RangeError("Cannot calculate the dot product of empty vectors");for(var a=0,c=0;c<o;c++)a=s(a,u(t[c],e[c]));return a}var s=n(r(241)),u=n(r(274)),c=o("dot",{"Matrix, Matrix":function(t,e){return a(t.toArray(),e.toArray())},"Matrix, Array":function(t,e){return a(t.toArray(),e)},"Array, Matrix":function(t,e){return a(t,e.toArray())},"Array, Array":a});return c.toTex={2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},c}var i=r(229).size;e.name="dot",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,o){var s=n(r(242)),u=o("filter",{"Array, function":i,"Matrix, function":function(t,e){return s(i(t.toArray(),e))},"Array, RegExp":a,"Matrix, RegExp":function(t,e){return s(a(t.toArray(),e))}});return u.toTex=void 0,u}function i(t,e){var r=s(e);return o(t,function(t,n,i){return 1===r?e(t):2===r?e(t,[n]):e(t,[n],i)})}var o=r(229).filter,a=r(229).filterRegExp,s=r(234).maxArgumentCount;e.name="filter",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,a){var s=n(r(242)),u=a("flatten",{Array:function(t){return o(i(t))},Matrix:function(t){var e=o(i(t.toArray()));return s(e)}});return u.toTex=void 0,u}var i=r(193).clone,o=r(229).flatten;e.name="flatten",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("forEach",{"Array, function":i,"Matrix, function":function(t,e){return t.forEach(e)}});return o.toTex=void 0,o}function i(t,e){var r=o(e),n=function i(n,o){Array.isArray(n)?a(n,function(t,e){i(t,o.concat(e))}):1===r?e(n):2===r?e(n,o):e(n,o,t)};n(t,[])}var o=r(234).maxArgumentCount,a=r(229).forEach;e.name="forEach",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,o){function a(t,e){if(1===i(t).length&&(t=[t]),1===i(e).length&&(e=[e]),i(t).length>2||i(e).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(t.length)+", y = "+JSON.stringify(e.length)+")");var r=[],n=[];return t.map(function(t){return e.map(function(e){return t.map(function(t){return e.map(function(e){return n.push(u(t,e))})},r.push(n=[]))})},r=[])&&r}var s=n(r(242)),u=n(r(270)),c=o("kron",{"Matrix, Matrix":function(t,e){return s(a(t.toArray(),e.toArray()))},"Matrix, Array":function(t,e){return s(a(t.toArray(),e))},"Array, Matrix":function(t,e){return s(a(t,e.toArray()))},"Array, Array":a});return c}var i=r(229).size;e.name="kron",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("map",{"Array, function":i,"Matrix, function":function(t,e){return t.map(e)}});return o.toTex=void 0,o}function i(t,e){var r=o(e),n=function i(n,o){return Array.isArray(n)?n.map(function(t,e){return i(t,o.concat(e))}):1===r?e(n):2===r?e(n,o):e(n,o,t)};return n(t,[])}var o=r(234).maxArgumentCount;e.name="map",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,a){function s(e,r){var n=u(e),i=n?new t.BigNumber(1):1;if(c(e),r){var a=l(r);return e.length>0?a.resize(e,i):a}var s=[];return e.length>0?o(s,e,i):s}function u(t){var e=!1;return t.forEach(function(t,r,n){t&&t.isBigNumber===!0&&(e=!0,n[r]=t.toNumber())}),e}function c(t){t.forEach(function(t){if("number"!=typeof t||!i(t)||t<0)throw new Error("Parameters in function ones must be positive integers")})}var l=n(r(242)),f=a("ones",{"":function(){return"Array"===e.matrix?s([]):s([],"default")},"...number | BigNumber | string":function(t){var r=t[t.length-1];if("string"==typeof r){var n=t.pop();return s(t,n)}return"Array"===e.matrix?s(t):s(t,"default")},Array:s,Matrix:function(t){var e=t.storage();return s(t.valueOf(),e)},"Array | Matrix, string":function(t,e){return s(t.valueOf(),e)}});return f.toTex=void 0,f}var i=r(196).isInteger,o=r(229).resize;e.name="ones",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,o){function a(t,e){return-c(t,e)}function s(t,e,r){if(!i(e)||e<0)throw new Error("k must be a non-negative integer");if(t&&t.isMatrix){var n=t.size();if(n.length>1)throw new Error("Only one dimensional matrices supported");return u(t.valueOf(),e,r)}if(Array.isArray(t))return u(t,e,r)}function u(t,e,r){if(e>=t.length)throw new Error("k out of bounds");for(var n=0,i=t.length-1;n<i;){for(var o=n,a=i,s=t[Math.floor(Math.random()*(i-n+1))+n];o<a;)if(r(t[o],s)>=0){var u=t[a];t[a]=t[o],t[o]=u,--a}else++o;r(t[o],s)>0&&--o,e<=o?i=o:n=o+1}return t[e]}var c=n(r(659));return o("partitionSelect",{"Array | Matrix, number":function(t,e){return s(t,e,c)},"Array | Matrix, number, string":function(t,e,r){if("asc"===r)return s(t,e,c);if("desc"===r)return s(t,e,a);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":s})}var i=r(196).isInteger;e.name="partitionSelect",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,a){var s=n(r(242)),u=n(r(251)),c=n(r(269)),l=n(r(253)),f=n(r(247)),p=n(r(248)),d=a("compare",{"boolean, boolean":function(t,e){return t===e?0:t>e?1:-1},"number, number":function(t,r){return t===r||i(t,r,e.epsilon)?0:t>r?1:-1},"BigNumber, BigNumber":function(r,n){return r.eq(n)||o(r,n,e.epsilon)?new t.BigNumber(0):new t.BigNumber(r.cmp(n))},"Fraction, Fraction":function(e,r){return new t.Fraction(e.compare(r))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return d(t.value,e.value)},"string, string":function(t,e){return t===e?0:t>e?1:-1},"Matrix, Matrix":function(t,e){var r;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":r=c(t,e,d);break;default:r=u(e,t,d,!0)}break;default:switch(e.storage()){case"sparse":r=u(t,e,d,!1);break;default:r=f(t,e,d)}}return r},"Array, Array":function(t,e){return d(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return d(s(t),e)},"Matrix, Array":function(t,e){return d(t,s(e))},"Matrix, any":function(t,e){var r;switch(t.storage()){case"sparse":
r=l(t,e,d,!1);break;default:r=p(t,e,d,!1)}return r},"any, Matrix":function(t,e){var r;switch(e.storage()){case"sparse":r=l(e,t,d,!0);break;default:r=p(e,t,d,!0)}return r},"Array, any":function(t,e){return p(s(t),e,d,!1).valueOf()},"any, Array":function(t,e){return p(s(e),t,d,!0).valueOf()}});return d.toTex=void 0,d}var i=r(196).nearlyEqual,o=r(239);e.name="compare",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,a){var s=n(r(242)),u=a("reshape",{"Matrix, Array":function(t,e){return t.reshape?t.reshape(e):s(o.reshape(t.valueOf(),e))},"Array, Array":function(t,e){return e.forEach(function(t){if(!i(t))throw new TypeError("Invalid size for dimension: "+t)}),o.reshape(t,e)}});return u.toTex=void 0,u}var i=(r(231),r(196).isInteger),o=r(229);e.name="reshape",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,l){function f(t,e,r){if(void 0!==r){if("string"!=typeof r||1!==r.length)throw new TypeError("Single character expected as defaultValue")}else r=" ";if(1!==e.length)throw new i(e.length,1);var n=e[0];if("number"!=typeof n||!a(n))throw new TypeError("Invalid size, must contain positive integers (size: "+s(e)+")");if(t.length>n)return t.substring(0,n);if(t.length<n){for(var o=t,u=0,c=n-t.length;u<c;u++)o+=r;return o}return t}var p=n(r(242)),d=function(t,r,n){if(2!=arguments.length&&3!=arguments.length)throw new o("resize",arguments.length,2,3);if(r&&r.isMatrix===!0&&(r=r.valueOf()),r.length&&r[0]&&r[0].isBigNumber===!0&&(r=r.map(function(t){return t&&t.isBigNumber===!0?t.toNumber():t})),t&&t.isMatrix===!0)return t.resize(r,n,!0);if("string"==typeof t)return f(t,r,n);var i=!Array.isArray(t)&&"Array"!==e.matrix;if(0==r.length){for(;Array.isArray(t);)t=t[0];return u(t)}Array.isArray(t)||(t=[t]),t=u(t);var a=c.resize(t,r,n);return i?p(a):a};return d.toTex=void 0,d}var i=r(231),o=r(200),a=r(196).isInteger,s=r(212).format,u=r(193).clone,c=r(229);e.name="resize",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,o){var a=n(r(242)),s=o("size",{Matrix:function(t){return a(t.size())},Array:i.size,string:function(t){return"Array"===e.matrix?[t.length]:a([t.length])},"number | Complex | BigNumber | Unit | boolean | null":function(t){return"Array"===e.matrix?[]:a([])}});return s.toTex=void 0,s}var i=r(229);e.name="size",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,o){function a(t){if("asc"===t)return l;if("desc"===t)return f;if("natural"===t)return p;throw new Error('String "asc", "desc", or "natural" expected')}function s(t){if(1!==i(t).length)throw new Error("One dimensional array expected")}function u(t){if(1!==t.size().length)throw new Error("One dimensional matrix expected")}var c=n(r(242)),l=n(r(659)),f=function(t,e){return-l(t,e)},p=n(r(664)),d=o("sort",{Array:function(t){return s(t),t.sort(l)},Matrix:function(t){return u(t),c(t.toArray().sort(l),t.storage())},"Array, function":function(t,e){return s(t),t.sort(e)},"Matrix, function":function(t,e){return u(t),c(t.toArray().sort(e),t.storage())},"Array, string":function(t,e){return s(t),t.sort(a(e))},"Matrix, string":function(t,e){return u(t),c(t.toArray().sort(a(e)),t.storage())}});return d.toTex=void 0,d}var i=r(229).size;e.name="sort",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,a){function s(t,e){return t&&t.isSparseMatrix&&e&&e.isSparseMatrix?u(t.toJSON().values,e.toJSON().values):t&&t.isSparseMatrix?s(t.toArray(),e):e&&e.isSparseMatrix?s(t,e.toArray()):t&&t.isDenseMatrix?s(t.toJSON().data,e):e&&e.isDenseMatrix?s(t,e.toJSON().data):Array.isArray(t)?Array.isArray(e)?u(t,e):s(t,[e]):s([t],e)}function u(t,e){for(var r=0,n=Math.min(t.length,e.length);r<n;r++){var i=d(t[r],e[r]);if(0!==i)return i}return t.length>e.length?1:t.length<e.length?-1:0}function c(t,e){var r=Object.keys(t),n=Object.keys(e);r.sort(o),n.sort(o);var i=u(r,n);if(0!==i)return i;for(var a=0;a<r.length;a++){var s=d(t[r[a]],e[n[a]]);if(0!==s)return s}return 0}var l=n(r(283)),f=(n(r(242)),n(r(659))),p=f.signatures["boolean,boolean"],d=a("compareNatural",{"any, any":function(t,e){var r,n=l(t),a=l(e);if(!("number"!==n&&"BigNumber"!==n&&"Fraction"!==n||"number"!==a&&"BigNumber"!==a&&"Fraction"!==a))return r=f(t,e),"0"!==r.toString()?r>0?1:-1:o(n,a);if("Array"===n||"Matrix"===n||"Array"===a||"Matrix"===a)return r=s(t,e),0!==r?r:o(n,a);if(n!==a)return o(n,a);if("Complex"===n)return i(t,e);if("Unit"===n)return t.equalBase(e)?d(t.value,e.value):u(t.formatUnits(),e.formatUnits());if("boolean"===n)return p(t,e);if("string"===n)return o(t,e);if("Object"===n)return c(t,e);if("null"===n)return 0;if("undefined"===n)return 0;throw new TypeError('Unsupported type of value "'+n+'"')}});return d.toTex=void 0,d}function i(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0}var o=r(665);e.name="compareNatural",e.factory=n},function(t,e){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};t.exports=function n(t,e){var i,o,a=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,s=/(^[ ]*|[ ]*$)/g,u=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,c=/^0x[0-9a-f]+$/i,l=/^0/,f=function(t){return n.insensitive&&(""+t).toLowerCase()||""+t},p=f(t).replace(s,"")||"",d=f(e).replace(s,"")||"",m=p.replace(a,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),h=d.replace(a,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),v=parseInt(p.match(c),16)||1!==m.length&&p.match(u)&&Date.parse(p),g=parseInt(d.match(c),16)||v&&d.match(u)&&Date.parse(d)||null;if(g){if(v<g)return-1;if(v>g)return 1}for(var y=0,_=Math.max(m.length,h.length);y<_;y++){if(i=!(m[y]||"").match(l)&&parseFloat(m[y])||m[y]||0,o=!(h[y]||"").match(l)&&parseFloat(h[y])||h[y]||0,isNaN(i)!==isNaN(o))return isNaN(i)?1:-1;if(("undefined"==typeof i?"undefined":r(i))!==("undefined"==typeof o?"undefined":r(o))&&(i+="",o+=""),i<o)return-1;if(i>o)return 1}return 0}},function(t,e,r){"use strict";function n(t,e,n,a){var s=n(r(242)),u=a("squeeze",{Array:function(t){return o.squeeze(i.clone(t))},Matrix:function(t){var e=o.squeeze(t.toArray());return Array.isArray(e)?s(e):e},any:function(t){return i.clone(t)}});return u.toTex=void 0,u}var i=r(193),o=r(229);e.name="squeeze",e.factory=n},function(t,e,r){"use strict";t.exports=[r(632),r(630),r(631),r(668),r(670),r(671),r(672),r(676),r(677)]},function(t,e,r){"use strict";function n(t,e,n,i){function o(t,e){var r=e.size().length,n=t.size().length;if(r>1)throw new Error("first object must be one dimensional");if(n>1)throw new Error("second object must be one dimensional");if(r!==n)throw new Error("Length of two vectors must be equal");var i=u(t);if(0===i)throw new Error("Sum of elements in first object must be non zero");var o=u(e);if(0===o)throw new Error("Sum of elements in second object must be non zero");var a=s(t,u(t)),d=s(e,u(e)),m=u(c(a,f(l(a,d))));return p(m)?m:Number.NaN}var a=n(r(242)),s=n(r(534)),u=n(r(669)),c=n(r(274)),l=n(r(590)),f=n(r(602)),p=n(r(281)),d=i("kldivergence",{"Array, Array":function(t,e){return o(a(t),a(e))},"Matrix, Array":function(t,e){return o(t,a(e))},"Array, Matrix":function(t,e){return o(a(t),e)},"Matrix, Matrix":function(t,e){return o(t,e)}});return d}e.name="kldivergence",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,o){function a(r){var n=void 0;if(i(r,function(t){n=void 0===n?t:s(n,t)}),void 0===n)switch(e.number){case"number":return 0;case"BigNumber":return new t.BigNumber(0);case"Fraction":return new t.Fraction(0);default:return 0}return n}var s=n(r(243)),u=o("sum",{"Array | Matrix":function(t){return a(t)},"Array | Matrix, number | BigNumber":function(){throw new Error("sum(A, dim) is not yet supported")},"...":function(t){return a(t)}});return u.toTex=void 0,u}var i=r(529);e.name="sum",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,o){var a=n(r(241)),s=n(r(274)),u=n(r(534)),c=n(r(630)),l=n(r(633)),f=n(r(554));return o("multinomial",{"Array | Matrix":function(t){var e=0,r=1;return i(t,function(t){if(!l(t)||!f(t))throw new TypeError("Positive integer value expected in function multinomial");e=a(e,t),r=s(r,c(t))}),u(c(e),r)}})}var i=r(529);e.name="multinomial",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,a){var s=n(r(630)),u=a("permutations",{"number | BigNumber":s,"number, number":function(t,e){var r,n;if(!o(t)||t<0)throw new TypeError("Positive integer value expected in function permutations");if(!o(e)||e<0)throw new TypeError("Positive integer value expected in function permutations");if(e>t)throw new TypeError("second argument k must be less than or equal to first argument n");for(r=1,n=t-e+1;n<=t;n++)r*=n;return r},"BigNumber, BigNumber":function(e,r){var n,o;if(!i(e)||!i(r))throw new TypeError("Positive integer value expected in function permutations");if(r.gt(e))throw new TypeError("second argument k must be less than or equal to first argument n");for(n=new t.BigNumber(1),o=e.minus(r).plus(1);o.lte(e);o=o.plus(1))n=n.times(o);return n}});return u.toTex=void 0,u}function i(t){return t.isInteger()&&t.gte(0)}var o=r(196).isInteger;e.name="permutations",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,i){var o=n(r(673)),a=o("uniform").pickRandom;return a.toTex=void 0,a}e.name="pickRandom",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,s,u){function c(t){if(!d.hasOwnProperty(t))throw new Error("Unknown distribution "+t);var e=Array.prototype.slice.call(arguments,1),r=d[t].apply(this,e);return function(t){var e={random:function(t,e,r){var s,u,f;if(arguments.length>3)throw new i("random",arguments.length,0,3);if(1===arguments.length?o(t)?s=t:f=t:2===arguments.length?o(t)?(s=t,f=e):(u=t,f=e):(s=t,u=e,f=r),void 0!==u&&!a(u)||void 0!==f&&!a(f))throw new TypeError("Invalid argument in function random");if(void 0===f&&(f=1),void 0===u&&(u=0),void 0!==s){var p=c(s.valueOf(),u,f,n);return s&&s.isMatrix===!0?l(p):p}return n(u,f)},randomInt:s({"number | Array":function(t){var e=0;if(o(t)){var r=t,n=1,i=c(r.valueOf(),e,n,u);return r&&r.isMatrix===!0?l(i):i}var n=t;return u(e,n)},"number | Array, number":function(t,e){if(o(t)){var r=t,n=e,i=0,a=c(r.valueOf(),i,n,u);return r&&r.isMatrix===!0?l(a):a}var i=t,n=e;return u(i,n)},"Array, number, number":function(t,e,r){var n=c(t.valueOf(),e,r,u);return t&&t.isMatrix===!0?l(n):n}}),pickRandom:s({Array:function(t){return r(t)},"Array, number | Array":function(t,e){var n,i;if(Array.isArray(e))i=e;else{if(!a(e))throw new TypeError("Invalid argument in function pickRandom");n=e}return r(t,n,i)},"Array, number | Array, Array | number":function(t,e,n){var i,o;if(Array.isArray(e)?(o=e,i=n):(o=n,i=e),!Array.isArray(o)||!a(i))throw new TypeError("Invalid argument in function pickRandom");return r(t,i,o)}})},r=function(t,e,r){var n="undefined"==typeof e;if(n&&(e=1),t&&t.isMatrix===!0)t=t.valueOf();else if(!Array.isArray(t))throw new TypeError("Unsupported type of value in function pickRandom");if(f.size(t).length>1)throw new Error("Only one dimensional vectors supported");if("undefined"!=typeof r){if(r.length!=t.length)throw new Error("Weights must have the same length as possibles");for(var i=0,o=0,s=r.length;o<s;o++){if(!a(r[o])||r[o]<0)throw new Error("Weights must be an array of positive numbers");i+=r[o]}}var u=t.length;if(0==u)return[];if(e>=u)return t;for(var c,l=[];l.length<e;){if("undefined"==typeof r)c=t[Math.floor(p()*u)];else for(var d=p()*i,o=0,s=t.length;o<s;o++)if(d-=r[o],d<0){c=t[o];break}l.indexOf(c)==-1&&l.push(c)}return n?l[0]:l},n=function(e,r){return e+t()*(r-e)},u=function(e,r){return Math.floor(e+t()*(r-e))},c=function d(t,e,r,n){var i,o,a=[];if(t=t.slice(0),t.length>1)for(var o=0,i=t.shift();o<i;o++)a.push(d(t,e,r,n));else for(var o=0,i=t.shift();o<i;o++)a.push(n(e,r));return a};return e}(r)}var l=n(r(242)),f=r(229),p=n(r(674)),d={uniform:function(){return p},normal:function(){return function(){for(var t,e,r=-1;r<0||r>1;)t=p(),e=p(),r=1/6*Math.pow(-2*Math.log(t),.5)*Math.cos(2*Math.PI*e)+.5;return r}}};return c.toTex=void 0,c}var i=r(200),o=r(527),a=r(196).isNumber;e.name="distribution",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n,a){function s(t){c=null===t?o:i(String(t))}function u(){return c()}var c;return s(e.randomSeed),a.on("config",function(t,e,r){void 0!==r.randomSeed&&s(t.randomSeed)}),u}var i=r(675),o=i();e.factory=n,e.math=!0},function(t,e){(function(e){"use strict";function r(t){var e,r=t.length,n=this,i=0,o=n.i=n.j=0,a=n.S=[];for(r||(t=[r++]);i<u;)a[i]=i++;for(i=0;i<u;i++)a[i]=a[o=v&o+t[i%r]+(e=a[i])],a[o]=e;(n.g=function(t){for(var e,r=0,i=n.i,o=n.j,a=n.S;t--;)e=a[i=v&i+1],r=r*u+a[v&(a[i]=a[o=v&o+e])+(a[o]=e)];return n.i=i,n.j=o,r})(u)}function n(t,e){var r,i=[],o=("undefined"==typeof t?"undefined":s(t))[0];if(e&&"o"==o)for(r in t)try{i.push(n(t[r],e-1))}catch(a){}return i.length?i:"s"==o?t:t+"\0"}function i(t,e){for(var r,n=t+"",i=0;i<n.length;)e[v&i]=v&(r^=19*e[v&i])+n.charCodeAt(i++);return a(e)}function o(t){try{return p.crypto.getRandomValues(t=new Uint8Array(u)),a(t)}catch(e){return[+new Date,p,p.navigator&&p.navigator.plugins,p.screen,a(f)]}}function a(t){return String.fromCharCode.apply(0,t)}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},u=256,c=6,l=52,f=[],p="undefined"==typeof e?window:e,d=Math.pow(u,c),m=Math.pow(2,l),h=2*m,v=u-1,g=Math.random;t.exports=function(e,s){if(s&&s.global===!0)return s.global=!1,Math.random=t.exports(e,s),s.global=!0,Math.random;var l=s&&s.entropy||!1,p=[],v=(i(n(l?[e,a(f)]:0 in arguments?e:o(),3),p),new r(p));return i(a(v.S),f),function(){for(var t=v.g(c),e=d,r=0;t<m;)t=(t+r)*u,e*=u,r=v.g(1);for(;t>=h;)t/=2,e/=2,r>>>=1;return(t+r)/e}},t.exports.resetGlobal=function(){Math.random=g},i(Math.random(),f)}).call(e,function(){return this}())},function(t,e,r){"use strict";function n(t,e,n,i){var o=n(r(673)),a=o("uniform").random;return a.toTex=void 0,a}e.name="random",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,i){var o=n(r(673)),a=o("uniform").randomInt;return a.toTex=void 0,a}e.name="randomInt",e.factory=n},function(t,e,r){"use strict";t.exports=[r(659),r(664),r(679),r(280),r(254),r(573),r(250),r(680),r(555)]},function(t,e,r){"use strict";function n(t,e,n,i){function o(t,e){if(Array.isArray(t)){if(Array.isArray(e)){var r=t.length;if(r!==e.length)return!1;for(var n=0;n<r;n++)if(!o(t[n],e[n]))return!1;return!0}return!1}return!Array.isArray(e)&&a(t,e)}var a=n(r(280)),s=i("deepEqual",{"any, any":function(t,e){return o(t.valueOf(),e.valueOf())}});return s.toTex=void 0,s}e.name="deepEqual",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,a){var s=n(r(242)),u=n(r(251)),c=n(r(252)),l=n(r(253)),f=n(r(247)),p=n(r(248)),d=r(221),m=a("smallerEq",{"boolean, boolean":function(t,e){return t<=e},"number, number":function(t,r){return t<=r||i(t,r,e.epsilon)},"BigNumber, BigNumber":function(t,r){return t.lte(r)||o(t,r,e.epsilon)},"Fraction, Fraction":function(t,e){return 1!==t.compare(e)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return m(t.value,e.value)},"string, string":function(t,e){return t<=e},"Matrix, Matrix":function(t,e){var r;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":r=c(t,e,m);break;default:r=u(e,t,m,!0)}break;default:switch(e.storage()){case"sparse":r=u(t,e,m,!1);break;default:r=f(t,e,m)}}return r},"Array, Array":function(t,e){return m(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return m(s(t),e)},"Matrix, Array":function(t,e){return m(t,s(e))},"Matrix, any":function(t,e){var r;switch(t.storage()){case"sparse":r=l(t,e,m,!1);break;default:r=p(t,e,m,!1)}return r},"any, Matrix":function(t,e){var r;switch(e.storage()){case"sparse":r=l(e,t,m,!0);break;default:r=p(e,t,m,!0)}return r},"Array, any":function(t,e){return p(s(t),e,m,!1).valueOf()},"any, Array":function(t,e){return p(s(e),t,m,!0).valueOf()}});return m.toTex={2:"\\left(${args[0]}"+d.operators.smallerEq+"${args[1]}\\right)"},m}var i=r(196).nearlyEqual,o=r(239);e.name="smallerEq",e.factory=n},function(t,e,r){"use strict";t.exports=[r(682),r(683),r(684),r(685),r(686),r(687),r(688),r(689),r(690),r(691)]},function(t,e,r){"use strict";function n(t,e,n,o){var a=n(r(256)),s=n(r(235)),u=n(r(662)),c=n(r(498)),l=n(r(664)),f=o("setCartesian",{"Array | Matrix, Array | Matrix":function(t,e){if(0===c(u(t),new a(0))||0===c(u(e),new a(0)))var r=[];else for(var n=i(Array.isArray(t)?t:t.toArray()).sort(l),o=i(Array.isArray(e)?e:e.toArray()).sort(l),r=[],f=0;f<n.length;f++)for(var p=0;p<o.length;p++)r.push([n[f],o[p]]);return Array.isArray(t)&&Array.isArray(e)?r:new s(r)}});return f}var i=r(229).flatten;e.name="setCartesian",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,s){var u=n(r(280)),c=n(r(256)),l=n(r(235)),f=n(r(662)),p=n(r(498)),d=n(r(664)),m=s("setDifference",{"Array | Matrix, Array | Matrix":function(t,e){if(0===p(f(t),new c(0)))var r=[];else{if(0===p(f(e),new c(0)))return i(t.toArray());for(var n,s=o(i(Array.isArray(t)?t:t.toArray()).sort(d)),m=o(i(Array.isArray(e)?e:e.toArray()).sort(d)),r=[],h=0;h<s.length;h++){n=!1;for(var v=0;v<m.length;v++)if(u(s[h].value,m[v].value)&&s[h].identifier===m[v].identifier){n=!0;break}n||r.push(s[h])}}return Array.isArray(t)&&Array.isArray(e)?a(r):new l(a(r))}});return m}var i=r(229).flatten,o=r(229).identify,a=r(229).generalize;e.name="setDifference",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,o){var a=n(r(280)),s=n(r(256)),u=n(r(235)),c=n(r(662)),l=n(r(498)),f=n(r(664)),p=o("setDistinct",{"Array | Matrix":function(t){if(0===l(c(t),new s(0)))var e=[];else{var r=i(Array.isArray(t)?t:t.toArray()).sort(f),e=[];e.push(r[0]);for(var n=1;n<r.length;n++)a(r[n],r[n-1])||e.push(r[n])}return Array.isArray(t)?e:new u(e)}});return p}var i=r(229).flatten;e.name="setDistinct",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,s){var u=n(r(280)),c=n(r(256)),l=n(r(235)),f=n(r(662)),p=n(r(498)),d=n(r(664)),m=s("setIntersect",{"Array | Matrix, Array | Matrix":function(t,e){if(0===p(f(t),new c(0))||0===p(f(e),new c(0)))var r=[];else for(var n=o(i(Array.isArray(t)?t:t.toArray()).sort(d)),s=o(i(Array.isArray(e)?e:e.toArray()).sort(d)),r=[],m=0;m<n.length;m++)for(var h=0;h<s.length;h++)if(u(n[m].value,s[h].value)&&n[m].identifier===s[h].identifier){r.push(n[m]);break}return Array.isArray(t)&&Array.isArray(e)?a(r):new l(a(r))}});return m}var i=r(229).flatten,o=r(229).identify,a=r(229).generalize;e.name="setIntersect",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,a){var s=n(r(280)),u=n(r(256)),c=n(r(662)),l=n(r(498)),f=n(r(664)),p=a("setIsSubset",{"Array | Matrix, Array | Matrix":function(t,e){if(0===l(c(t),new u(0)))return!0;if(0===l(c(e),new u(0)))return!1;for(var r,n=o(i(Array.isArray(t)?t:t.toArray()).sort(f)),a=o(i(Array.isArray(e)?e:e.toArray()).sort(f)),p=0;p<n.length;p++){r=!1;for(var d=0;d<a.length;d++)if(s(n[p].value,a[d].value)&&n[p].identifier===a[d].identifier){r=!0;break}if(r===!1)return!1}return!0}});return p}var i=r(229).flatten,o=r(229).identify;e.name="setIsSubset",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,o){var a=n(r(280)),s=n(r(256)),u=n(r(662)),c=n(r(498)),l=o("setMultiplicity",{"number | BigNumber | Fraction | Complex, Array | Matrix":function(t,e){if(0===c(u(e),new s(0)))return 0;for(var r=i(Array.isArray(e)?e:e.toArray()),n=0,o=0;o<r.length;o++)a(r[o],t)&&n++;return n}});return l}var i=r(229).flatten;e.name="setMultiplicity",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,o){function a(t,e){for(var r=[],n=0;n<e.length;n++)"1"===e[n]&&r.push(t[n]);return r}function s(t){for(var e=[],r=t.length-1;r>0;r--)for(var n=0;n<r;n++)t[n].length>t[n+1].length&&(e=t[n],t[n]=t[n+1],t[n+1]=e);return t}var u=n(r(256)),c=n(r(662)),l=n(r(498)),f=n(r(664)),p=o("setPowerset",{"Array | Matrix":function(t){if(0===l(c(t),new u(0)))return[];for(var e=i(Array.isArray(t)?t:t.toArray()).sort(f),r=[],n=0;n.toString(2).length<=e.length;)r.push(a(e,n.toString(2).split("").reverse())),n++;return s(r)}});return p}var i=r(229).flatten;e.name="setPowerset",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,o){var a=n(r(280)),s=n(r(664)),u=o("setSize",{"Array | Matrix":function(t){return Array.isArray(t)?i(t).length:i(t.toArray()).length},"Array | Matrix, boolean":function(t,e){if(e===!1||0===t.length)return Array.isArray(t)?i(t).length:i(t.toArray()).length;for(var r=i(Array.isArray(t)?t:t.toArray()).sort(s),n=1,o=1;o<r.length;o++)a(r[o],r[o-1])||n++;return n}});return u}var i=r(229).flatten;e.name="setSize",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,o){var a=n(r(256)),s=n(r(520)),u=n(r(662)),c=(n(r(663)),n(r(498))),l=n(r(683)),f=o("setSymDifference",{"Array | Matrix, Array | Matrix":function(t,e){if(0===c(u(t),new a(0)))return i(e);if(0===c(u(e),new a(0)))return i(t);var r=i(t),n=i(e);return s(l(r,n),l(n,r))}});return f}var i=r(229).flatten;e.name="setSymDifference",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,o){var a=n(r(256)),s=n(r(520)),u=n(r(662)),c=n(r(498)),l=n(r(685)),f=n(r(690)),p=o("setUnion",{"Array | Matrix, Array | Matrix":function(t,e){if(0===c(u(t),new a(0)))return i(e);if(0===c(u(e),new a(0)))return i(t);var r=i(t),n=i(e);return s(f(r,n),l(r,n))}});return p}var i=r(229).flatten;e.name="setUnion",e.factory=n},function(t,e,r){"use strict";t.exports=[r(693)]},function(t,e,r){"use strict";function n(t,e,r,n){function f(t){var e,r=t*t,n=u[0][4]*r,i=r;for(e=0;e<3;e+=1)n=(n+u[0][e])*r,i=(i+c[0][e])*r;return t*(n+u[0][3])/(i+c[0][3])}function p(t){var e,r=u[1][8]*t,n=t;for(e=0;e<7;e+=1)r=(r+u[1][e])*t,n=(n+c[1][e])*t;var i=(r+u[1][7])/(n+c[1][7]),o=parseInt(16*t)/16,a=(t-o)*(t+o);return Math.exp(-o*o)*Math.exp(-a)*i}function d(t){var e,r=1/(t*t),n=u[2][5]*r,i=r;for(e=0;e<4;e+=1)n=(n+u[2][e])*r,i=(i+c[2][e])*r;var o=r*(n+u[2][4])/(i+c[2][4]);o=(s-o)/t,r=parseInt(16*t)/16;var a=(t-r)*(t+r);return Math.exp(-r*r)*Math.exp(-a)*o}var m=n("erf",{number:function(t){var e=Math.abs(t);return e>=l?o(t):e<=a?o(t)*f(e):e<=4?o(t)*(1-p(e)):o(t)*(1-d(e))},BigNumber:function(e){return new t.BigNumber(m(e.toNumber()))},"Array | Matrix":function(t){return i(t,m)}});return m.toTex={1:"erf\\left(${args[0]}\\right)"},m}var i=r(208),o=r(196).sign,a=.46875,s=.5641895835477563,u=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,2.1531153547440383e-8],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],c=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],l=Math.pow(2,53);e.name="erf",e.factory=n},function(t,e,r){"use strict";t.exports=[r(695),r(528),r(533),r(696),r(538),r(697),r(698),r(699),r(700),r(669),r(701)]},function(t,e,r){"use strict";function n(t,e,n,o){function a(t){if(t=i(t.valueOf()),0===t.length)throw new Error("Cannot calculate median absolute deviation of an empty array");var e=c(t);return c(u(t,function(t){return s(l(t,e))}))}var s=n(r(276)),u=n(r(656)),c=n(r(696)),l=n(r(267)),f=o("mad",{"Array | Matrix":a,"...":function(t){return a(t)}});return f.toTex=void 0,f}var i=r(229).flatten;e.name="mad",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,a){function s(t){t=i(t.valueOf());var e=t.length;if(0==e)throw new Error("Cannot calculate median of an empty array");if(e%2==0){for(var r=e/2-1,n=f(t,r+1),o=t[r],a=0;a<r;++a)l(t[a],o)>0&&(o=t[a]);return m(o,n)}var s=f(t,(e-1)/2);return d(s)}var u=n(r(243)),c=n(r(271)),l=n(r(659)),f=n(r(658)),p=a("median",{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(t,e){throw new Error("median(A, dim) is not yet supported")},"...":function(t){if(o(t))throw new TypeError("Scalar values expected in function median");return s(t)}}),d=a({"number | BigNumber | Complex | Unit":function(t){return t}}),m=a({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(t,e){return c(u(t,e),2)}});return p.toTex=void 0,p}var i=r(229).flatten,o=(r(530),r(531));e.name="median",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){function o(t){t=i(t.valueOf());var e=t.length;if(0==e)throw new Error("Cannot calculate mode of an empty array");var r={},n=[],o=0;for(var a in t)t[a]in r||(r[t[a]]=0),r[t[a]]++,r[t[a]]==o?n.push(t[a]):r[t[a]]>o&&(o=r[t[a]],n=[t[a]]);return n}var a=n("mode",{"Array | Matrix":o,"...":function(t){return o(t)}});return a}var i=r(229).flatten;e.name="mode",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,o){function a(t){var e=void 0;if(i(t,function(t){e=void 0===e?t:s(e,t)}),void 0===e)throw new Error("Cannot calculate prod of an empty array");return e}var s=n(r(270)),u=o("prod",{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(t,e){throw new Error("prod(A, dim) is not yet supported")},"...":function(t){return a(t)}});return u.toTex=void 0,u}var i=r(529);e.name="prod",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,u){function c(e,r,n){var a,u,c;if(arguments.length<2||arguments.length>3)throw new SyntaxError("Function quantileSeq requires two or three parameters");if(s(e)){if(n=n||!1,"boolean"==typeof n){if(u=e.valueOf(),o(r)){if(r<0)throw new Error("N/prob must be non-negative");if(r<=1)return l(u,r,n);if(r>1){if(!i(r))throw new Error("N must be a positive integer");var f=r+1;a=new Array(r);for(var p=0;p<r;)a[p]=l(u,++p/f,n);return a}}if(r&&r.isBigNumber){if(r.isNegative())throw new Error("N/prob must be non-negative");if(c=new r.constructor(1),r.lte(c))return l(u,r,n);if(r.gt(c)){if(!r.isInteger())throw new Error("N must be a positive integer");var d=r.toNumber();if(d>4294967295)throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var f=new t.BigNumber(d+1);a=new Array(d);for(var p=0;p<d;)a[p]=l(u,new t.BigNumber((++p)).div(f),n);return a}}if(Array.isArray(r)){a=new Array(r.length);for(var p=0;p<a.length;++p){var m=r[p];if(o(m)){if(m<0||m>1)throw new Error("Probability must be between 0 and 1, inclusive")}else{if(!m||!m.isBigNumber)throw new TypeError("Unexpected type of argument in function quantileSeq");if(c=new m.constructor(1),m.isNegative()||m.gt(c))throw new Error("Probability must be between 0 and 1, inclusive")}a[p]=l(u,m,n)}return a}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}function l(t,e,r){var n=a(t),i=n.length;if(0===i)throw new Error("Cannot calculate quantile of an empty sequence");if(o(e)){var s=e*(i-1),u=s%1;if(0===u){var c=r?n[s]:d(n,s);return h(c),c}var l,v,g=Math.floor(s);if(r)l=n[g],v=n[g+1];else{v=d(n,g+1),l=n[g];for(var y=0;y<g;++y)m(n[y],l)>0&&(l=n[y])}return h(l),h(v),f(p(l,1-u),p(v,u))}var s=e.times(i-1);if(s.isInteger()){s=s.toNumber();var c=r?n[s]:d(n,s);return h(c),c}var l,v,g=s.floor(),u=s.minus(g),_=g.toNumber();if(r)l=n[_],v=n[_+1];else{v=d(n,_+1),l=n[_];for(var y=0;y<_;++y)m(n[y],l)>0&&(l=n[y])}h(l),h(v);var x=new u.constructor(1);return f(p(l,x.minus(u)),p(v,u))}var f=n(r(241)),p=n(r(274)),d=n(r(658)),m=n(r(659)),h=u({"number | BigNumber | Unit":function(t){return t}});return c}var i=r(196).isInteger,o=r(196).isNumber,a=r(229).flatten,s=r(527);e.name="quantileSeq",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,i){function o(t,e){if(0==t.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");return a(s.apply(null,arguments))}var a=n(r(557)),s=n(r(701)),u=i("std",{"Array | Matrix":o,"Array | Matrix, string":o,"...":function(t){return o(t)}});return u.toTex=void 0,u}e.name="std",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,a){function s(e,r){var n=0,i=0;if(0==e.length)throw new SyntaxError("Function var requires one or more parameters (0 provided)");if(o(e,function(t){n=u(n,t),i++}),0===i)throw new Error("Cannot calculate var of an empty array");var a=f(n,i);switch(n=0,o(e,function(t){var e=c(t,a);n=u(n,l(e,e))}),r){case"uncorrected":return f(n,i);case"biased":return f(n,i+1);case"unbiased":var s=n&&n.isBigNumber===!0?new t.BigNumber(0):0;return 1==i?s:f(n,i-1);default:throw new Error('Unknown normalization "'+r+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}var u=n(r(243)),c=n(r(267)),l=n(r(270)),f=n(r(271)),p=a("variance",{"Array | Matrix":function(t){return s(t,i)},"Array | Matrix, string":s,"...":function(t){return s(t,i)}});return p.toTex="\\mathrm{Var}\\left(${args}\\right)",p}var i="unbiased",o=r(529);e.name="var",e.factory=n},function(t,e,r){"use strict";t.exports=[r(282),r(703)]},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("print",{"string, Object":i,"string, Object, number | Object":i});return o.toTex=void 0,o}function i(t,e,r){return t.replace(/\$([\w\.]+)/g,function(t,n){for(var i=n.split("."),s=e[i.shift()];i.length&&void 0!==s;){var u=i.shift();s=u?s[u]:s+"."}return void 0!==s?o(s)?s:a(s,r):t})}var o=r(212).isString,a=r(212).format;e.name="print",e.factory=n},function(t,e,r){"use strict";t.exports=[r(705),r(706),r(707),r(708),r(709),r(710),r(711),r(712),r(713),r(714),r(715),r(716),r(717),r(718),r(719),r(720),r(721),r(722),r(723),r(724),r(725),r(726),r(727),r(728),r(729)]},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("acos",{number:function(r){return r>=-1&&r<=1||e.predictable?Math.acos(r):new t.Complex(r,0).acos()},Complex:function(t){return t.acos()},BigNumber:function(t){return t.acos()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\cos^{-1}\\left(${args[0]}\\right)"},o}var i=r(208);e.name="acos",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var a=n("acosh",{number:function(r){return r>=1||e.predictable?o(r):r<=-1?new t.Complex(Math.log(Math.sqrt(r*r-1)-r),Math.PI):new t.Complex(r,0).acosh()},Complex:function(t){return t.acosh()},BigNumber:function(t){return t.acosh()},"Array | Matrix":function(t){return i(t,a)}});return a.toTex={1:"\\cosh^{-1}\\left(${args[0]}\\right)"},a}var i=r(208),o=Math.acosh||function(t){return Math.log(Math.sqrt(t*t-1)+t)};e.name="acosh",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("acot",{number:function(t){return Math.atan(1/t)},Complex:function(t){return t.acot()},BigNumber:function(e){return new t.BigNumber(1).div(e).atan()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\cot^{-1}\\left(${args[0]}\\right)"},o}var i=r(208);e.name="acot",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("acoth",{number:function(r){return r>=1||r<=-1||e.predictable?isFinite(r)?(Math.log((r+1)/r)+Math.log(r/(r-1)))/2:0:new t.Complex(r,0).acoth()},Complex:function(t){return t.acoth()},BigNumber:function(e){return new t.BigNumber(1).div(e).atanh()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\coth^{-1}\\left(${args[0]}\\right)"},o}var i=r(208);e.name="acoth",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("acsc",{number:function(r){return r<=-1||r>=1||e.predictable?Math.asin(1/r):new t.Complex(r,0).acsc()},Complex:function(t){return t.acsc()},BigNumber:function(e){return new t.BigNumber(1).div(e).asin()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\csc^{-1}\\left(${args[0]}\\right)"},o}var i=r(208);e.name="acsc",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("acsch",{number:function(t){
return t=1/t,Math.log(t+Math.sqrt(t*t+1))},Complex:function(t){return t.acsch()},BigNumber:function(e){return new t.BigNumber(1).div(e).asinh()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},o}var i=r(208);e.name="acsch",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("asec",{number:function(r){return r<=-1||r>=1||e.predictable?Math.acos(1/r):new t.Complex(r,0).asec()},Complex:function(t){return t.asec()},BigNumber:function(e){return new t.BigNumber(1).div(e).acos()},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\sec^{-1}\\left(${args[0]}\\right)"},o}var i=r(208);e.name="asec",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,o){var a=(o.find(n(r(706)),["Complex"]),o("asech",{number:function(r){if(r<=1&&r>=-1||e.predictable){r=1/r;var n=Math.sqrt(r*r-1);return r>0||e.predictable?Math.log(n+r):new t.Complex(Math.log(n-r),Math.PI)}return new t.Complex(r,0).asech()},Complex:function(t){return t.asech()},BigNumber:function(e){return new t.BigNumber(1).div(e).acosh()},"Array | Matrix":function(t){return i(t,a)}}));return a.toTex={1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},a}var i=r(208);e.name="asech",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("asin",{number:function(r){return r>=-1&&r<=1||e.predictable?Math.asin(r):new t.Complex(r,0).asin()},Complex:function(t){return t.asin()},BigNumber:function(t){return t.asin()},"Array | Matrix":function(t){return i(t,o,!0)}});return o.toTex={1:"\\sin^{-1}\\left(${args[0]}\\right)"},o}var i=r(208);e.name="asin",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("asinh",{number:Math.asinh||function(t){return Math.log(Math.sqrt(t*t+1)+t)},Complex:function(t){return t.asinh()},BigNumber:function(t){return t.asinh()},"Array | Matrix":function(t){return i(t,o,!0)}});return o.toTex={1:"\\sinh^{-1}\\left(${args[0]}\\right)"},o}var i=r(208);e.name="asinh",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("atan",{number:function(t){return Math.atan(t)},Complex:function(t){return t.atan()},BigNumber:function(t){return t.atan()},"Array | Matrix":function(t){return i(t,o,!0)}});return o.toTex={1:"\\tan^{-1}\\left(${args[0]}\\right)"},o}var i=r(208);e.name="atan",e.factory=n},function(t,e,r){"use strict";function n(t,e,n,i){var o=n(r(242)),a=n(r(591)),s=n(r(251)),u=n(r(593)),c=n(r(275)),l=n(r(253)),f=n(r(247)),p=n(r(248)),d=i("atan2",{"number, number":Math.atan2,"BigNumber, BigNumber":function(e,r){return t.BigNumber.atan2(e,r)},"Matrix, Matrix":function(t,e){var r;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":r=u(t,e,d,!1);break;default:r=a(e,t,d,!0)}break;default:switch(e.storage()){case"sparse":r=s(t,e,d,!1);break;default:r=f(t,e,d)}}return r},"Array, Array":function(t,e){return d(o(t),o(e)).valueOf()},"Array, Matrix":function(t,e){return d(o(t),e)},"Matrix, Array":function(t,e){return d(t,o(e))},"Matrix, number | BigNumber":function(t,e){var r;switch(t.storage()){case"sparse":r=c(t,e,d,!1);break;default:r=p(t,e,d,!1)}return r},"number | BigNumber, Matrix":function(t,e){var r;switch(e.storage()){case"sparse":r=l(e,t,d,!0);break;default:r=p(e,t,d,!0)}return r},"Array, number | BigNumber":function(t,e){return p(o(t),e,d,!1).valueOf()},"number | BigNumber, Array":function(t,e){return p(o(e),t,d,!0).valueOf()}});return d.toTex={2:"\\mathrm{atan2}\\left(${args}\\right)"},d}e.name="atan2",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var a=n("atanh",{number:function(r){return r<=1&&r>=-1||e.predictable?o(r):new t.Complex(r,0).atanh()},Complex:function(t){return t.atanh()},BigNumber:function(t){return t.atanh()},"Array | Matrix":function(t){return i(t,a,!0)}});return a.toTex={1:"\\tanh^{-1}\\left(${args[0]}\\right)"},a}var i=r(208),o=Math.atanh||function(t){return Math.log((1+t)/(1-t))/2};e.name="atanh",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("cos",{number:Math.cos,Complex:function(t){return t.cos()},BigNumber:function(t){return t.cos()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cos is no angle");return o(e.value)},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\cos\\left(${args[0]}\\right)"},o}var i=r(208);e.name="cos",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var a=n("cosh",{number:o,Complex:function(t){return t.cosh()},BigNumber:function(t){return t.cosh()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cosh is no angle");return a(e.value)},"Array | Matrix":function(t){return i(t,a)}});return a.toTex={1:"\\cosh\\left(${args[0]}\\right)"},a}var i=r(208),o=Math.cosh||function(t){return(Math.exp(t)+Math.exp(-t))/2};e.name="cosh",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("cot",{number:function(t){return 1/Math.tan(t)},Complex:function(t){return t.cot()},BigNumber:function(e){return new t.BigNumber(1).div(e.tan())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return o(e.value)},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\cot\\left(${args[0]}\\right)"},o}var i=r(208);e.name="cot",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var a=n("coth",{number:i,Complex:function(t){return t.coth()},BigNumber:function(e){return new t.BigNumber(1).div(e.tanh())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function coth is no angle");return a(e.value)},"Array | Matrix":function(t){return o(t,a)}});return a.toTex={1:"\\coth\\left(${args[0]}\\right)"},a}function i(t){var e=Math.exp(2*t);return(e+1)/(e-1)}var o=r(208);e.name="coth",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("csc",{number:function(t){return 1/Math.sin(t)},Complex:function(t){return t.csc()},BigNumber:function(e){return new t.BigNumber(1).div(e.sin())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csc is no angle");return o(e.value)},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\csc\\left(${args[0]}\\right)"},o}var i=r(208);e.name="csc",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var a=n("csch",{number:i,Complex:function(t){return t.csch()},BigNumber:function(e){return new t.BigNumber(1).div(e.sinh())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csch is no angle");return a(e.value)},"Array | Matrix":function(t){return o(t,a)}});return a.toTex={1:"\\mathrm{csch}\\left(${args[0]}\\right)"},a}function i(t){return 0==t?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(t)-Math.exp(-t)))*a(t)}var o=r(208),a=r(196).sign;e.name="csch",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("sec",{number:function(t){return 1/Math.cos(t)},Complex:function(t){return t.sec()},BigNumber:function(e){return new t.BigNumber(1).div(e.cos())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sec is no angle");return o(e.value)},"Array | Matrix":function(t){return i(t,o)}});return o.toTex={1:"\\sec\\left(${args[0]}\\right)"},o}var i=r(208);e.name="sec",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var a=n("sech",{number:i,Complex:function(t){return t.sech()},BigNumber:function(e){return new t.BigNumber(1).div(e.cosh())},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sech is no angle");return a(e.value)},"Array | Matrix":function(t){return o(t,a)}});return a.toTex={1:"\\mathrm{sech}\\left(${args[0]}\\right)"},a}function i(t){return 2/(Math.exp(t)+Math.exp(-t))}var o=r(208);e.name="sech",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("sin",{number:Math.sin,Complex:function(t){return t.sin()},BigNumber:function(t){return t.sin()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sin is no angle");return o(e.value)},"Array | Matrix":function(t){return i(t,o,!0)}});return o.toTex={1:"\\sin\\left(${args[0]}\\right)"},o}var i=r(208);e.name="sin",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var a=n("sinh",{number:o,Complex:function(t){return t.sinh()},BigNumber:function(t){return t.sinh()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sinh is no angle");return a(e.value)},"Array | Matrix":function(t){return i(t,a,!0)}});return a.toTex={1:"\\sinh\\left(${args[0]}\\right)"},a}var i=r(208),o=Math.sinh||function(t){return(Math.exp(t)-Math.exp(-t))/2};e.name="sinh",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("tan",{number:Math.tan,Complex:function(t){return t.tan()},BigNumber:function(t){return t.tan()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tan is no angle");return o(e.value)},"Array | Matrix":function(t){return i(t,o,!0)}});return o.toTex={1:"\\tan\\left(${args[0]}\\right)"},o}var i=r(208);e.name="tan",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var a=n("tanh",{number:o,Complex:function(t){return t.tanh()},BigNumber:function(t){return t.tanh()},Unit:function(e){if(!e.hasBase(t.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tanh is no angle");return a(e.value)},"Array | Matrix":function(t){return i(t,a,!0)}});return a.toTex={1:"\\tanh\\left(${args[0]}\\right)"},a}var i=r(208),o=Math.tanh||function(t){var e=Math.exp(2*t);return(e-1)/(e+1)};e.name="tanh",e.factory=n},function(t,e,r){"use strict";t.exports=[r(731)]},function(t,e,r){"use strict";function n(t,e,n,i){var o=r(221),a=n(r(242)),s=n(r(247)),u=n(r(248)),c=i("to",{"Unit, Unit | string":function(t,e){return t.to(e)},"Matrix, Matrix":function(t,e){return s(t,e,c)},"Array, Array":function(t,e){return c(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){return c(a(t),e)},"Matrix, Array":function(t,e){return c(t,a(e))},"Matrix, any":function(t,e){return u(t,e,c,!1)},"any, Matrix":function(t,e){return u(e,t,c,!0)},"Array, any":function(t,e){return u(a(t),e,c,!1).valueOf()},"any, Array":function(t,e){return u(a(e),t,c,!0).valueOf()}});return c.toTex={2:"\\left(${args[0]}"+o.operators.to+"${args[1]}\\right)"},c}e.name="to",e.factory=n},function(t,e,r){"use strict";t.exports=[r(552),r(633),r(587),r(281),r(554),r(733),r(553),r(734),r(283)]},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("isPrime",{number:function(t){if(t<2)return!1;if(2==t)return!0;if(t%2==0)return!1;for(var e=3;e*e<=t;e+=2)if(t%e==0)return!1;return!0},BigNumber:function(e){if(e.lt(2))return!1;if(e.equals(2))return!0;if(e.mod(2).isZero())return!1;for(var r=t.BigNumber(3);r.times(r).lte(e);r=r.plus(1))if(e.mod(r).isZero())return!1;return!0},"Array | Matrix":function(t){return i(t,o)}});return o}var i=r(208);e.name="isPrime",e.factory=n},function(t,e,r){"use strict";function n(t,e,r,n){var o=n("isNaN",{number:function(t){return Number.isNaN(t)},BigNumber:function(t){return t.isNaN()},Fraction:function(t){return!1},Complex:function(t){return Number.isNaN(t.re)&&Number.isNaN(t.im)},Unit:function(t){return Number.isNaN(t.value)},"Array | Matrix":function(t){return i(t,Number.isNaN)}});return o}var i=r(208);r(196);e.name="isNaN",e.factory=n},function(t,e,r){"use strict";t.exports=[r(736)]},function(t,e){"use strict";function r(t,e,r,n){return function(e,r){var n=t[r&&r.mathjs];return n&&"function"==typeof n.fromJSON?n.fromJSON(r):r}}e.name="reviver",e.path="json",e.factory=r},function(t,e,r){"use strict";var n=r(200),i=r(231),o=r(232);t.exports=[{name:"ArgumentsError",path:"error",factory:function(){return n}},{name:"DimensionError",path:"error",factory:function(){return i}},{name:"IndexError",path:"error",factory:function(){return o}}]},function(t,e,r){var n,i,o;"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};!function(a,s){i=[r(739)],n=s,o="function"==typeof n?n.apply(e,i):n,!(void 0!==o&&(t.exports=o))}(void 0,function(t){return function(){"use strict";function e(e){e.each(function(){function e(e){"boolean"==typeof g&&(g=t.svg.axis().ticks(Math.round(f/100)).tickFormat(N).orient("horizontal"===v?"bottom":"right")),u=s.ticks?s.copy().range([0,f]):s.copy().rangePoints([0,f],.5),g.scale(u);var r=e.append("svg").classed("d3-slider-axis d3-slider-axis-"+g.orient(),!0).on("click",E),n=r.append("g");"horizontal"===v?(r.style("margin-left",-y+"px"),r.attr({width:f+2*y,height:y}),"top"===g.orient()?(r.style("top",-y+"px"),n.attr("transform","translate("+y+","+y+")")):n.attr("transform","translate("+y+",0)")):(r.style("top",-y+"px"),r.attr({width:y,height:f+2*y}),"left"===g.orient()?(r.style("left",-y+"px"),n.attr("transform","translate("+y+","+y+")")):n.attr("transform","translate(0,"+y+")")),n.call(g)}function m(){if("array"!=o(a)){var e=Math.max(0,Math.min(f,t.event.offsetX||t.event.layerX));r(s.invert?n(s.invert(e/f)):i(e/f))}}function h(){if("array"!=o(a)){var e=f-Math.max(0,Math.min(f,t.event.offsetY||t.event.layerY));r(s.invert?n(s.invert(e/f)):i(e/f))}}function x(){"handle-one"===t.event.sourceEvent.target.id?_=1:"handle-two"==t.event.sourceEvent.target.id&&(_=2);var e=Math.max(0,Math.min(f,t.event.x));r(s.invert?n(s.invert(e/f)):i(e/f))}function A(){"handle-one"===t.event.sourceEvent.target.id?_=1:"handle-two"==t.event.sourceEvent.target.id&&(_=2);var e=f-Math.max(0,Math.min(f,t.event.y));r(s.invert?n(s.invert(e/f)):i(e/f))}function E(){t.event.stopPropagation()}s||(s=t.scale.linear().domain([p,d])),a=a||s.domain()[0];var M=t.select(this).classed("d3-slider d3-slider-"+v,!0),O=t.behavior.drag();if(O.on("dragend",function(){w.slideend(t.event,a)}),"array"==o(a)&&2==a.length?(c=M.append("a").classed("d3-slider-handle",!0).attr("xlink:href","#").attr("id","handle-one").on("click",E).call(O),z=M.append("a").classed("d3-slider-handle",!0).attr("id","handle-two").attr("xlink:href","#").on("click",E).call(O)):c=M.append("a").classed("d3-slider-handle",!0).attr("xlink:href","#").attr("id","handle-one").on("click",E).call(O),"horizontal"===v){if(M.on("click",m),"array"==o(a)&&2==a.length){l=t.select(this).append("div").classed("d3-slider-range",!0),c.style("left",b(s(a[0]))),l.style("left",b(s(a[0]))),O.on("drag",x);var S=100-parseFloat(b(s(a[1])));z.style("left",b(s(a[1]))),l.style("right",S+"%"),O.on("drag",x)}else c.style("left",b(s(a))),O.on("drag",x);f=parseInt(M.style("width"),10)}else{if(M.on("click",h),O.on("drag",A),"array"==o(a)&&2==a.length){l=t.select(this).append("div").classed("d3-slider-range-vertical",!0),c.style("bottom",b(s(a[0]))),l.style("bottom",b(s(a[0]))),O.on("drag",A);var k=100-parseFloat(b(s(a[1])));z.style("bottom",b(s(a[1]))),l.style("top",k+"%"),O.on("drag",A)}else c.style("bottom",b(s(a))),O.on("drag",A);f=parseInt(M.style("height"),10)}g&&e(M)})}function r(e){var r="array"==o(a)&&2==a.length?a[_-1]:a,i=b(s(n(r))),u=b(s(n(e))),f="horizontal"===v?"left":"bottom";if(i!==u){if("array"==o(a)&&2==a.length?(a[_-1]=e,t.event&&w.slide(t.event,a)):t.event&&w.slide(t.event.sourceEvent||t.event,a=e),a[0]>=a[1])return;if(1===_)"array"==o(a)&&2==a.length&&("left"===f?l.style("left",u):l.style("bottom",u)),h?c.transition().styleTween(f,function(){return t.interpolate(i,u)}).duration("number"==typeof h?h:250):c.style(f,u);else{var p=100-parseFloat(u),d=100-parseFloat(u);"left"===f?l.style("right",p+"%"):l.style("top",d+"%"),h?z.transition().styleTween(f,function(){return t.interpolate(i,u)}).duration("number"==typeof h?h:250):z.style(f,u)}}}function n(t){if(t===s.domain()[0]||t===s.domain()[1])return t;var e=t;if(x)e=i(s(t));else{var r=(t-s.domain()[0])%m;e=t-r,2*Math.abs(r)>=m&&(e+=r>0?m:-m)}return e}function i(t){var e=s.ticks?s.ticks():s.domain(),r=e.map(function(e){return t-s(e)}),n=-1,i=0,o=s.ticks?s.range()[1]:s.rangeExtent()[1];do n++,Math.abs(r[n])<o&&(o=Math.abs(r[n]),i=n);while(r[n]>0&&n<r.length-1);return e[i]}function o(t){return{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}var a,s,u,c,l,f,p=0,d=100,m=.01,h=!1,v="horizontal",g=!1,y=50,_=1,x=!1,w=t.dispatch("slide","slideend"),b=t.format(".2%"),N=t.format(".0"),z=null;return e.min=function(t){return arguments.length?(p=t,e):p},e.max=function(t){return arguments.length?(d=t,e):d},e.step=function(t){return arguments.length?(m=t,e):m},e.animate=function(t){return arguments.length?(h=t,e):h},e.orientation=function(t){return arguments.length?(v=t,e):v},e.axis=function(t){return arguments.length?(g=t,e):g},e.margin=function(t){return arguments.length?(y=t,e):y},e.value=function(t){return arguments.length?(a&&r(n(t)),a=t,e):a},e.snap=function(t){return arguments.length?(x=t,e):x},e.scale=function(t){return arguments.length?(s=t,e):s},t.rebind(e,w,"on"),e}})},function(t,e){t.exports=d3},function(t,e,r){(function(t){"use strict";var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};!function(){function r(t){var r=Array.isArray(t)?{label:t[0],value:t[1]}:"object"===("undefined"==typeof t?"undefined":e(t))&&"label"in t&&"value"in t?t:{label:t,value:t};this.label=r.label||r.value,this.value=r.value}function n(t,e,r){for(var n in e){var i=e[n],o=t.input.getAttribute("data-"+n.toLowerCase());"number"==typeof i?t[n]=parseInt(o):i===!1?t[n]=null!==o:i instanceof Function?t[n]=null:t[n]=o,t[n]||0===t[n]||(t[n]=n in r?r[n]:i)}}function i(t,e){return"string"==typeof t?(e||document).querySelector(t):t||null}function o(t,e){return u.call((e||document).querySelectorAll(t))}function a(){o("input.awesomplete").forEach(function(t){new s(t)})}var s=function c(t,e){var r=this;this.input=i(t),this.input.setAttribute("autocomplete","off"),this.input.setAttribute("aria-autocomplete","list"),e=e||{},n(this,{minChars:2,maxItems:10,autoFirst:!1,data:c.DATA,filter:c.FILTER_CONTAINS,sort:c.SORT_BYLENGTH,item:c.ITEM,replace:c.REPLACE},e),this.index=-1,this.container=i.create("div",{className:"awesomplete",around:t}),this.ul=i.create("ul",{hidden:"hidden",inside:this.container}),this.status=i.create("span",{className:"visually-hidden",role:"status","aria-live":"assertive","aria-relevant":"additions",inside:this.container}),i.bind(this.input,{input:this.evaluate.bind(this),blur:this.close.bind(this,{reason:"blur"}),keydown:function(t){var e=t.keyCode;r.opened&&(13===e&&r.selected?(t.preventDefault(),r.select()):27===e?r.close({reason:"esc"}):38!==e&&40!==e||(t.preventDefault(),r[38===e?"previous":"next"]()))}}),i.bind(this.input.form,{submit:this.close.bind(this,{reason:"submit"})}),i.bind(this.ul,{mousedown:function(t){var e=t.target;if(e!==this){for(;e&&!/li/i.test(e.nodeName);)e=e.parentNode;e&&0===t.button&&(t.preventDefault(),r.select(e,t.target))}}}),this.input.hasAttribute("list")?(this.list="#"+this.input.getAttribute("list"),this.input.removeAttribute("list")):this.list=this.input.getAttribute("data-list")||e.list||[],c.all.push(this)};s.prototype={set list(t){if(Array.isArray(t))this._list=t;else if("string"==typeof t&&t.indexOf(",")>-1)this._list=t.split(/\s*,\s*/);else if(t=i(t),t&&t.children){var e=[];u.apply(t.children).forEach(function(t){if(!t.disabled){var r=t.textContent.trim(),n=t.value||r,i=t.label||r;""!==n&&e.push({label:i,value:n})}}),this._list=e}document.activeElement===this.input&&this.evaluate()},get selected(){return this.index>-1},get opened(){return!this.ul.hasAttribute("hidden")},close:function(t){this.opened&&(this.ul.setAttribute("hidden",""),this.index=-1,i.fire(this.input,"awesomplete-close",t||{}))},open:function(){this.ul.removeAttribute("hidden"),this.autoFirst&&this.index===-1&&this["goto"](0),i.fire(this.input,"awesomplete-open")},next:function(){var t=this.ul.children.length;this["goto"](this.index<t-1?this.index+1:-1)},previous:function(){var t=this.ul.children.length;this["goto"](this.selected?this.index-1:t-1)},"goto":function(t){var e=this.ul.children;this.selected&&e[this.index].setAttribute("aria-selected","false"),this.index=t,t>-1&&e.length>0&&(e[t].setAttribute("aria-selected","true"),this.status.textContent=e[t].textContent,i.fire(this.input,"awesomplete-highlight",{text:this.suggestions[this.index]}))},select:function(t,e){if(t?this.index=i.siblingIndex(t):t=this.ul.children[this.index],t){var r=this.suggestions[this.index],n=i.fire(this.input,"awesomplete-select",{text:r,origin:e||t});n&&(this.replace(r),this.close({reason:"select"}),i.fire(this.input,"awesomplete-selectcomplete",{text:r}))}},evaluate:function(){var t=this,e=this.input.value;e.length>=this.minChars&&this._list.length>0?(this.index=-1,this.ul.innerHTML="",this.suggestions=this._list.map(function(n){return new r(t.data(n,e))}).filter(function(r){return t.filter(r,e)}).sort(this.sort).slice(0,this.maxItems),this.suggestions.forEach(function(r){t.ul.appendChild(t.item(r,e))}),0===this.ul.children.length?this.close({reason:"nomatches"}):this.open()):this.close({reason:"nomatches"})}},s.all=[],s.FILTER_CONTAINS=function(t,e){return RegExp(i.regExpEscape(e.trim()),"i").test(t)},s.FILTER_STARTSWITH=function(t,e){return RegExp("^"+i.regExpEscape(e.trim()),"i").test(t)},s.SORT_BYLENGTH=function(t,e){return t.length!==e.length?t.length-e.length:t<e?-1:1},s.ITEM=function(t,e){var r=""===e?t:t.replace(RegExp(i.regExpEscape(e.trim()),"gi"),"<mark>$&</mark>");return i.create("li",{innerHTML:r,"aria-selected":"false"})},s.REPLACE=function(t){this.input.value=t.value},s.DATA=function(t){return t},Object.defineProperty(r.prototype=Object.create(String.prototype),"length",{get:function(){return this.label.length}}),r.prototype.toString=r.prototype.valueOf=function(){return""+this.label};var u=Array.prototype.slice;return i.create=function(t,e){var r=document.createElement(t);for(var n in e){var o=e[n];if("inside"===n)i(o).appendChild(r);else if("around"===n){var a=i(o);a.parentNode.insertBefore(r,a),r.appendChild(a)}else n in r?r[n]=o:r.setAttribute(n,o)}return r},i.bind=function(t,e){if(t)for(var r in e){var n=e[r];r.split(/\s+/).forEach(function(e){t.addEventListener(e,n)})}},i.fire=function(t,e,r){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0);for(var i in r)n[i]=r[i];return t.dispatchEvent(n)},i.regExpEscape=function(t){return t.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")},i.siblingIndex=function(t){for(var e=0;t=t.previousElementSibling;e++);return e},"undefined"!=typeof Document&&("loading"!==document.readyState?a():document.addEventListener("DOMContentLoaded",a)),s.$=i,s.$$=o,"undefined"!=typeof self&&(self.Awesomplete=s),"object"===e(t)&&t.exports&&(t.exports=s),s}()}).call(e,r(218)(t))},function(t,e,r){var n=r(742);"string"==typeof n&&(n=[[t.id,n,""]]);r(744)(n,{});n.locals&&(t.exports=n.locals)},function(t,e,r){e=t.exports=r(743)(),e.push([t.id,".d3-slider{position:relative;font-family:Verdana,Arial,sans-serif;font-size:1.1em;border:1px solid #aaa;z-index:2}.d3-slider-horizontal{height:.8em}.d3-slider-range{height:.8em}.d3-slider-range,.d3-slider-range-vertical{background:#2980b9;left:0;right:0;position:absolute}.d3-slider-range-vertical{top:0}.d3-slider-vertical{width:.8em;height:100px}.d3-slider-handle{position:absolute;width:1.2em;height:1.2em;border:1px solid #d3d3d3;border-radius:4px;background:#eee;background:linear-gradient(180deg,#eee 0,#ddd);z-index:3}.d3-slider-handle:hover{border:1px solid #999}.d3-slider-horizontal .d3-slider-handle{top:-.3em;margin-left:-.6em}.d3-slider-axis{position:relative;z-index:1}.d3-slider-axis-bottom{top:.8em}.d3-slider-axis-right{left:.8em}.d3-slider-axis path{stroke-width:0;fill:none}.d3-slider-axis line{fill:none;stroke:#aaa;shape-rendering:crispEdges}.d3-slider-axis text{font-size:11px}.d3-slider-vertical .d3-slider-handle{left:-.25em;margin-left:0;margin-bottom:-.6em}",""])},function(t,e){"use strict";t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e];r[2]?t.push("@media "+r[2]+"{"+r[1]+"}"):t.push(r[1])}return t.join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(n[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&n[a[0]]||(r&&!a[2]?a[2]=r:r&&(a[2]="("+a[2]+") and ("+r+")"),t.push(a))}},t}},function(t,e,r){function n(t,e){for(var r=0;r<t.length;r++){var n=t[r],i=d[n.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](n.parts[o]);for(;o<n.parts.length;o++)i.parts.push(c(n.parts[o],e))}else{for(var a=[],o=0;o<n.parts.length;o++)a.push(c(n.parts[o],e));d[n.id]={id:n.id,refs:1,parts:a}}}}function i(t){for(var e=[],r={},n=0;n<t.length;n++){var i=t[n],o=i[0],a=i[1],s=i[2],u=i[3],c={css:a,media:s,sourceMap:u};r[o]?r[o].parts.push(c):e.push(r[o]={id:o,parts:[c]})}return e}function o(t,e){var r=v(),n=_[_.length-1];if("top"===t.insertAt)n?n.nextSibling?r.insertBefore(e,n.nextSibling):r.appendChild(e):r.insertBefore(e,r.firstChild),_.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");r.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=_.indexOf(t);e>=0&&_.splice(e,1)}function s(t){var e=document.createElement("style");return e.type="text/css",o(t,e),e}function u(t){var e=document.createElement("link");return e.rel="stylesheet",o(t,e),e}function c(t,e){var r,n,i;if(e.singleton){var o=y++;r=g||(g=s(e)),n=l.bind(null,r,o,!1),i=l.bind(null,r,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=u(e),n=p.bind(null,r),i=function(){a(r),r.href&&URL.revokeObjectURL(r.href)}):(r=s(e),n=f.bind(null,r),i=function(){a(r)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else i()}}function l(t,e,r,n){var i=r?"":n.css;if(t.styleSheet)t.styleSheet.cssText=x(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function f(t,e){var r=e.css,n=e.media;if(n&&t.setAttribute("media",n),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}function p(t,e){var r=e.css,n=e.sourceMap;n&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var i=new Blob([r],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(i),o&&URL.revokeObjectURL(o)}var d={},m=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},h=m(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),v=m(function(){return document.head||document.getElementsByTagName("head")[0]}),g=null,y=0,_=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=h()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var r=i(t);return n(r,e),function(t){for(var o=[],a=0;a<r.length;a++){var s=r[a],u=d[s.id];u.refs--,o.push(u)}if(t){var c=i(t);n(c,e)}for(var a=0;a<o.length;a++){var u=o[a];if(0===u.refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete d[u.id]}}}};var x=function(){var t=[];return function(e,r){return t[e]=r,t.filter(Boolean).join("\n")}}()},function(t,e,r){var n=r(746);"string"==typeof n&&(n=[[t.id,n,""]]);r(744)(n,{});n.locals&&(t.exports=n.locals)},function(t,e,r){e=t.exports=r(743)(),e.push([t.id,'[hidden]{display:none}.visually-hidden{position:absolute;clip:rect(0,0,0,0)}div.awesomplete{display:inline-block;position:relative}div.awesomplete>input{display:block}div.awesomplete>ul{position:absolute;left:0;z-index:1;min-width:100%;box-sizing:border-box;list-style:none;padding:0;border-radius:.3em;margin:.2em 0 0;background:hsla(0,0%,100%,.9);background:linear-gradient(to bottom right,#fff,hsla(0,0%,100%,.8));border:1px solid rgba(0,0,0,.3);box-shadow:.05em .2em .6em rgba(0,0,0,.2);text-shadow:none}div.awesomplete>ul:empty,div.awesomplete>ul[hidden]{display:none}@supports (transform:scale(0)){div.awesomplete>ul{transition:.3s cubic-bezier(.4,.2,.5,1.4);transform-origin:1.43em -.43em}div.awesomplete>ul:empty,div.awesomplete>ul[hidden]{opacity:0;transform:scale(0);display:block;transition-timing-function:ease}}div.awesomplete>ul:before{content:"";position:absolute;top:-.43em;left:1em;width:0;height:0;padding:.4em;background:#fff;border:inherit;border-right:0;border-bottom:0;-webkit-transform:rotate(45deg);transform:rotate(45deg)}div.awesomplete>ul>li{position:relative;padding:.2em .5em;cursor:pointer}div.awesomplete>ul>li:hover{background:#b8d3e0;color:#000}div.awesomplete>ul>li[aria-selected=true]{background:#3d6d8f;color:#fff}div.awesomplete mark{background:#eaff00}div.awesomplete li:hover mark{background:#b5d100}div.awesomplete li[aria-selected=true] mark{background:#3d6b00;color:inherit}',""])},function(t,e,r){"use strict";var n=r(156),i=r(748),o=r(753),a=r(754),s=r(755),u=r(756),c=r(758),l=r(760),f=r(761);t.exports=function p(t){var e=t.params,p=d3.select(e.root+" .sidebar_wrapper");e.viz.is_expand&&p.style("display","none"),p.append("div").classed("title_section",!0),null!=e.sidebar.title&&p.select(".title_section").append("h4").style("margin-left","20px").style("margin-top","5px").style("margin-bottom","0px").text(e.sidebar.title),p.append("div").style("padding-right","2px").classed("about_section",!0),null!=e.sidebar.about&&p.select(".about_section").append("h5").classed("sidebar_text",!0).style("margin-left","7px").style("margin-top","5px").style("margin-bottom","2px").style("text-align","justify").html(e.sidebar.about),p.append("div").classed("icons_section",!0).style("text-align","center"),t.params.make_modals&&c(e),e.sidebar.icons&&u(t,p),a(e,p),o(p,e),l(p);var r=_.keys(e.viz.possible_filters);r.indexOf("enr_score_type")>-1&&r.sort(function(t,e){return t.toLowerCase().localeCompare(e.toLowerCase())}),t.slider_functions={},_.each(r,function(e){i(t,e)}),n(t),null!==e.ini_view&&(s(e),e.ini_view=null),f(t)}},function(t,e,r){"use strict";var n=r(749),i=r(752);t.exports=function(t,e){var r=t.params,o=d3.select(r.root+" .sidebar_wrapper").append("div").classed("div_filters",!0).style("padding-left","10px").style("padding-right","10px");"numerical"==r.viz.possible_filters[e]?n(t,e,o):"categorical"==r.viz.possible_filters[e]&&i(t,e,o)}},function(t,e,r){"use strict";var n=r(179),i=r(750),o=r(5),a=r(12);d3.slider=r(738),t.exports=function(t,e,r){var s=t.params,u={},c=_.keys(s.viz.possible_filters);_.each(c,function(t){if(t!=e){var r=o(s.viz.filter_data,t);u[t]=r}});var l=n(s,e);r.append("div").classed("title_"+e,!0).classed("sidebar_text",!0).classed("slider_description",!0).style("margin-top","5px").style("margin-bottom","3px").text(l.text+l.state+l.suffix),r.append("div").classed("slider_"+e,!0).classed("slider",!0).attr("current_state",l.state);var f=s.network_data.views,p=a(s,f,u);p=p.sort(function(t,r){return r[e]-t[e]});var d=p.length-1,m=0;if(null!==s.requested_view&&e in s.requested_view){var h=s.requested_view[e];if("all"!=h){var v=p.map(function(t){return t[e]}).indexOf(h);v>0&&(m=v)}}var g=d3.slider().value(m).min(0).max(d).step(1).on("slide",function(r,n){y(t,e,p,n)}).on("slideend",function(r,n){y(t,e,p,n)});t.slider_functions[e]=g,d3.select(t.params.root+" .slider_"+e).call(g);var y=_.debounce(i,800)}},function(t,e,r){"use strict";var n=r(141),i=r(178),o=r(751),a=r(14);t.exports=function(t,e,r,s){if(d3.select(t.params.viz.viz_svg).classed("running_update")===!1){var u=t.params,c=r[s][e];i(t,e,c),u=o(u);var l={};if(l[e]=c,l=a(u,l),_.has(r[0],"enr_score_type")){var f=d3.select(u.root+" .toggle_enr_score_type").attr("current_state");l.enr_score_type=f}n(t,l)}}},function(t,e){"use strict";t.exports=function(t){var e;return _.each(["row","col"],function(r){e="row"===r?"col":"row",d3.select(t.root+" .toggle_"+e+"_order .active").empty()===!1?t.viz.inst_order[r]=d3.select(t.root+" .toggle_"+e+"_order").select(".active").attr("name"):t.viz.inst_order[r]="clust";
}),t}},function(t,e,r){"use strict";var n=r(14);t.exports=function(t,e,r,i){var o=i.append("div").classed("categorical_filter",!0).classed("toggle_"+r,!0).classed("btn-group-vertical",!0).style("width","100%").style("margin-top","10px").attr("current_state","combined_score"),a=e.viz.filter_data[r],s={combined_score:"Combined Score",pval:"P-Value",zscore:"Z-score"};o.selectAll("button").data(a).enter().append("button").attr("type","button").classed("btn",!0).classed("btn-primary",!0).classed(".filter_button",!0).classed("active",function(t){var e=!1;return"combined_score"==t&&(e=!0),e}).attr("name",function(t){return t}).html(function(t){return s[t]}),$(e.root+" .categorical_filter .btn").off().click(function(){d3.selectAll(e.root+" .categorical_filter .btn").classed("active",!1),d3.select(this).classed("active",!0);var t=d3.select(this).attr("name"),r={enr_score_type:t};n(e,r),d3.select(e.root+" .toggle_enr_score_type").attr("current_state",t)})}},function(t,e){"use strict";t.exports=function(t,e){var r=t.append("div").classed("gene_search_container",!0).style("padding-left","10px").style("padding-right","10px").style("margin-top","10px");r.append("input").classed("form-control",!0).classed("gene_search_box",!0).classed("sidebar_text",!0).attr("type","text").attr("placeholder",e.sidebar.row_search.placeholder).style("height",e.sidebar.row_search.box.height+"px").style("margin-top","10px"),r.append("div").classed("gene_search_button",!0).style("margin-top","5px").attr("data-toggle","buttons").append("button").classed("sidebar_text",!0).html("Search").attr("type","button").classed("btn",!0).classed("btn-primary",!0).classed("submit_gene_button",!0).style("width","100%").style("font-size","14px")}},function(t,e){"use strict";t.exports=function(t,e){var r,n,i,o,a,s={row:"Row",col:"Column",both:""},u=e.append("div").style("padding-left","10px").style("padding-right","10px").classed("reorder_section",!0);a=t.sim_mat?["both"]:["row","col"],_.each(a,function(e){r={clust:"Cluster",rank:"Rank by Sum",rankvar:"Rank by Variance",ini:"Initial Order",alpha:"Alphabetically"};var a;a="row"===e?"col":"row",n=Object.keys(t.matrix.orders);var c=[];_.each(n,function(t){t.indexOf(a)>-1&&(t=t.replace("_row","").replace("_col",""),t.indexOf("cat_")<0&&c.push(t))}),_.keys(t.viz.filter_data).indexOf("enr_score_type")>-1&&(c=["clust","rank"]),c=_.uniq(c),c=c.sort();var l;l="both"!=e?" Order":"Reorder Matrix",u.append("div").classed("sidebar_button_text",!0).style("clear","both").style("margin-top","10px").html(s[e]+l),o=u.append("div").classed("btn-group-vertical",!0).style("width","100%").classed("toggle_"+e+"_order",!0).attr("role","group"),o.selectAll(".button").data(c).enter().append("button").attr("type","button").classed("btn",!0).classed("btn-primary",!0).classed("sidebar_button_text",!0).classed("active",function(e){return i=!1,e==t.viz.inst_order[a]&&(i=!0),i}).attr("name",function(t){return t}).html(function(t){return r[t]})})}},function(t,e,r){"use strict";var n=r(179);t.exports=function(t){_.each(_.keys(t.ini_view),function(e){var r=t.ini_view[e],i=t.viz.possible_filters[e];if("numerical"===i){"all"!=r&&(r=parseInt(r,10)),t.viz.filter_data[e].indexOf(r)<=-1&&(r="all");var o=n(t,e);d3.select(t.root+" .title_"+e).text(o.text+r+o.suffix),d3.select(t.root+" .slider_"+e).attr("current_state",r)}})}},function(t,e,r){"use strict";var n=r(181),i=r(80),o=r(185),a=r(757);t.exports=function(t,e){function r(){d3.select(s.root+" .expand_button").style("opacity",0);var t=d3.select(s.root+" svg").attr("title","test2").attr("version",1.1).attr("xmlns","http://www.w3.org/2000/svg").node().parentNode.innerHTML,e=new Blob([t],{type:"image/svg+xml"});u(e,"clustergrammer.svg"),d3.select(s.root+" .expand_button").style("opacity",.4)}var s=t.params,u=n(),c=e.select(".icons_section").style("margin-top","7px").style("margin-left","5%"),l="22%",f="0px",p="0px";c.append("div").classed("clust_icon",!0).style("float","left").style("width",l).style("padding-left",f).style("padding-right",p).append("i").classed("fa",!0).classed("fa-share-alt",!0).classed("icon_buttons",!0).style("font-size","25px").on("click",function(){$(s.root+" .share_info").modal("toggle"),$(".share_url").val(window.location.href)}).classed("sidebar_tooltip",!0).append("span").classed("sidebar_tooltip_text",!0).html("Share").style("left","0%"),c.append("div").classed("clust_icon",!0).style("float","left").style("width",l).style("padding-left",f).style("padding-right",p).append("i").classed("fa",!0).classed("fa-camera",!0).classed("icon_buttons",!0).style("font-size","25px").on("click",function(){$(s.root+" .picture_info").modal("toggle")}).classed("sidebar_tooltip",!0).append("span").classed("sidebar_tooltip_text",!0).html("Take snapshot").style("left","-100%"),c.append("div").classed("clust_icon",!0).style("float","left").style("width",l).style("padding-left",f).style("padding-right",p).append("i").classed("fa",!0).classed("fa fa-cloud-download",!0).classed("icon_buttons",!0).style("font-size","25px").on("click",function(){t.save_matrix()}).classed("sidebar_tooltip",!0).append("span").classed("sidebar_tooltip_text",!0).html("Download matrix").style("left","-200%"),c.append("div").classed("clust_icon",!0).style("float","left").style("width",l).style("padding-left",f).style("padding-right","-5px").append("i").classed("fa",!0).classed("fa-crop",!0).classed("crop_button",!0).classed("icon_buttons",!0).style("font-size","25px").on("click",function(){if(t.params.dendro_filter.row===!1&&t.params.dendro_filter.col===!1){var e=d3.select(this).classed("fa-crop"),r=d3.select(this).classed("fa-undo");e&&(t.params.crop_filter_nodes={},t.params.crop_filter_nodes.row_nodes=t.params.network_data.row_nodes,t.params.crop_filter_nodes.col_nodes=t.params.network_data.col_nodes,t.brush_crop_matrix(),d3.select(this).classed("active_cropping")===!1?d3.select(this).classed("active_cropping",!0).style("color","red"):(d3.select(this).classed("active_cropping",!1).style("color","#337ab7"),o(t))),r&&(d3.select(s.root+" .crop_button").style("color","#337ab7").classed("fa-crop",!0).classed("fa-undo",!1),t.filter_viz_using_nodes(t.params.crop_filter_nodes),d3.select(t.params.root+" .col_dendro_icons_container").style("display","block"),d3.select(t.params.root+" .row_dendro_icons_container").style("display","block")),i(t,0,0,1)}}).classed("sidebar_tooltip",!0).append("span").classed("sidebar_tooltip_text",!0).html("Crop matrix").style("left","-400%"),d3.select(s.root+" .download_buttons").append("p").append("a").html("Download SVG").on("click",function(){r()});var d="svg_"+s.root.replace("#","");d3.select(s.root+" .download_buttons").append("p").append("a").html("Download PNG").on("click",function(){d3.select(s.root+" .expand_button").style("opacity",0),a.saveSvgAsPng(document.getElementById(d),"clustergrammer.png"),d3.select(s.root+" .expand_button").style("opacity",.4)})}},function(t,e,r){var n;!function(){function i(t){return t instanceof HTMLElement||t instanceof SVGElement}function o(t){if(!i(t))throw new Error("an HTMLElement or SVGElement is required; got "+t)}function a(t){return t&&0==t.lastIndexOf("http",0)&&t.lastIndexOf(window.location.host)==-1}function s(t,e){o(t);var r=t.querySelectorAll("image"),n=r.length,i=function(){0===n&&e()};i();for(var s=0;s<r.length;s++)!function(t){var e=t.getAttributeNS("http://www.w3.org/1999/xlink","href");if(e&&a(e.value))return void console.warn("Cannot render embedded images linking to external hosts: "+e.value);var r=document.createElement("canvas"),o=r.getContext("2d"),s=new Image;s.crossOrigin="anonymous",e=e||t.getAttribute("href"),e?(s.src=e,s.onload=function(){r.width=s.width,r.height=s.height,o.drawImage(s,0,0),t.setAttributeNS("http://www.w3.org/1999/xlink","href",r.toDataURL("image/png")),n--,i()},s.onerror=function(){console.log("Could not load "+e),n--,i()}):(n--,i())}(r[s])}function u(t,e,r){function n(t){for(var e={woff2:"font/woff2",woff:"font/woff",otf:"application/x-font-opentype",ttf:"application/x-font-ttf",eot:"application/vnd.ms-fontobject",sfnt:"application/font-sfnt",svg:"image/svg+xml"},r=Object.keys(e),n=0;n<r.length;++n){var i=r[n];if(t.indexOf("."+i)>0)return e[i]}return console.error("Unknown font format for "+t+"; Fonts may not be working correctly"),"application/octet-stream"}function i(t){function e(e){function r(){var t=s.response,r=o(t);a(e,r)}function n(t){console.warn("Failed to load font from: "+e.url),console.warn(t),u+=e.text+"\n",i()}function a(e,r){var n='url("data:'+e.format+";base64,"+r+'")';u+=e.text.replace(e.fontUrlRegexp,n)+"\n",setTimeout(function(){i(t)},0)}var s=new XMLHttpRequest;s.addEventListener("load",r),s.addEventListener("error",n),s.addEventListener("abort",n),s.open("GET",e.url),s.responseType="arraybuffer",s.send()}if(t.length>0){var n=t.pop();e(n)}else r(u)}function o(t){for(var e="",r=new Uint8Array(t),n=r.byteLength,i=0;i<n;i++)e+=String.fromCharCode(r[i]);return window.btoa(e)}for(var a=e.selectorRemap,s=e.modifyStyle,u="",c=[],l=document.styleSheets,f=0;f<l.length;f++){try{var p=l[f].cssRules}catch(d){console.warn("Stylesheet could not be loaded: "+l[f].href);continue}if(null!=p)for(var m,h=0;h<p.length;h++,m=null){var v=p[h];if("undefined"!=typeof v.style){var g;try{g=v.selectorText}catch(y){console.warn('The following CSS rule has an invalid selector: "'+v+'"',y)}try{g&&(m=t.querySelector(g))}catch(y){console.warn('Invalid CSS selector "'+g+'"',y)}if(m){var _=a?a(v.selectorText):v.selectorText,x=s?s(v.style.cssText):v.style.cssText;u+=_+" { "+x+" }\n"}else if(v.cssText.match(/^@font-face/)){var w=/url\(["']?(.+?)["']?\)/,b=v.cssText.match(w),N=b&&b[1]||"",z=N.match(/^data:/);z&&(N=""),N?c.push({text:v.cssText,fontUrlRegexp:w,format:n(N),url:N}):u+=v.cssText+"\n"}}}}i(c)}function c(t,e,r){var n=t.viewBox&&t.viewBox.baseVal&&t.viewBox.baseVal[r]||null!==e.getAttribute(r)&&!e.getAttribute(r).match(/%$/)&&parseInt(e.getAttribute(r))||t.getBoundingClientRect()[r]||parseInt(e.style[r])||parseInt(window.getComputedStyle(t).getPropertyValue(r));return"undefined"==typeof n||null===n||isNaN(parseFloat(n))?0:n}function l(t){return t=encodeURIComponent(t),t=t.replace(/%([0-9A-F]{2})/g,function(t,e){var r=String.fromCharCode("0x"+e);return"%"===r?"%25":r}),decodeURIComponent(t)}function f(t){for(var e=window.atob(t.split(",")[1]),r=t.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(e.length),i=new Uint8Array(n),o=0;o<e.length;o++)i[o]=e.charCodeAt(o);return new Blob([n],{type:r})}var p="undefined"!=typeof e&&e||{}||this,d='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd" [<!ENTITY nbsp "&#160;">]>';p.prepareSvg=function(t,e,r){o(t),e=e||{},e.scale=e.scale||1,e.responsive=e.responsive||!1;var n="http://www.w3.org/2000/xmlns/";s(t,function(){function i(t){var e=document.createElement("style");e.setAttribute("type","text/css"),e.innerHTML="<![CDATA[\n"+t+"\n]]>";var n=document.createElement("defs");if(n.appendChild(e),l.insertBefore(n,l.firstChild),r){var i=s.innerHTML;i=i.replace(/NS\d+:href/gi,'xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href'),r(i,o,a)}}var o,a,s=document.createElement("div"),l=t.cloneNode(!0);if("svg"==t.tagName)o=e.width||c(t,l,"width"),a=e.height||c(t,l,"height");else{if(!t.getBBox)return void console.error("Attempted to render non-SVG element",t);var f=t.getBBox();o=f.x+f.width,a=f.y+f.height,l.setAttribute("transform",l.getAttribute("transform").replace(/translate\(.*?\)/,""));var p=document.createElementNS("http://www.w3.org/2000/svg","svg");p.appendChild(l),l=p}l.setAttribute("version","1.1"),l.getAttribute("xmlns")||l.setAttributeNS(n,"xmlns","http://www.w3.org/2000/svg"),l.getAttribute("xmlns:xlink")||l.setAttributeNS(n,"xmlns:xlink","http://www.w3.org/1999/xlink"),e.responsive?(l.removeAttribute("width"),l.removeAttribute("height"),l.setAttribute("preserveAspectRatio","xMinYMin meet")):(l.setAttribute("width",o*e.scale),l.setAttribute("height",a*e.scale)),l.setAttribute("viewBox",[e.left||0,e.top||0,o,a].join(" "));for(var d=l.querySelectorAll("foreignObject > *"),m=0;m<d.length;m++)d[m].getAttribute("xmlns")||d[m].setAttributeNS(n,"xmlns","http://www.w3.org/1999/xhtml");s.appendChild(l),u(t,e,i)})},p.svgAsDataUri=function(t,e,r){p.prepareSvg(t,e,function(t){var e="data:image/svg+xml;base64,"+window.btoa(l(d+t));r&&r(e)})},p.svgAsPngUri=function(t,e,r){o(t),e=e||{},e.encoderType=e.encoderType||"image/png",e.encoderOptions=e.encoderOptions||.8;var n=function(t,n,i){var o=document.createElement("canvas"),a=o.getContext("2d");o.width=n,o.height=i,e.canvg?e.canvg(o,t):a.drawImage(t,0,0),e.backgroundColor&&(a.globalCompositeOperation="destination-over",a.fillStyle=e.backgroundColor,a.fillRect(0,0,o.width,o.height));var s;try{s=o.toDataURL(e.encoderType,e.encoderOptions)}catch(u){if("undefined"!=typeof SecurityError&&u instanceof SecurityError||"SecurityError"==u.name)return void console.error("Rendered SVG images cannot be downloaded in this browser.");throw u}r(s)};e.canvg?p.prepareSvg(t,e,n):p.svgAsDataUri(t,e,function(t){var e=new Image;e.onload=function(){n(e,e.width,e.height)},e.onerror=function(){console.error("There was an error loading the data URI as an image on the following SVG\n",window.atob(t.slice(26)),"\n","Open the following link to see browser's diagnosis\n",t)},e.src=t})},p.download=function(t,e){if(navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(f(e),t);else{var r=document.createElement("a"),n="download"in r;n?(r.download=t,r.href=e,r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)):window.open(e,"_temp","menubar=no,toolbar=no,status=no")}},p.saveSvg=function(t,e,r){o(t),r=r||{},p.svgAsDataUri(t,r,function(t){p.download(e,t)})},p.saveSvgAsPng=function(t,e,r){o(t),r=r||{},p.svgAsPngUri(t,r,function(t){p.download(e,t)})},n=function(){return p}.call(e,r,e,t),!(void 0!==n&&(t.exports=n))}()},function(t,e,r){"use strict";var n=r(759);t.exports=function(t){var e=n(t,"share_info");e.header.append("a").attr("target","_blank").attr("href","/clustergrammer/"),e.header.append("h4").classed("modal-title",!0).html("Share the visualization using the current URL:"),e.body.append("input").classed("bootstrap_highlight",!0).classed("share_url",!0);var r=n(t,"picture_info");r.header.append("h4").classed("modal-title",!0).html("Save a snapshot of the visualization"),r.body.append("div").classed("download_buttons",!0);var i=n(t,"dendro_info");i.header.append("h4").classed("modal-title",!0).html("Cluster Information"),i.body.append("g").classed("cluster_info_container",!0),i.body.append("div").classed("dendro_text",!0).append("input").classed("bootstrap_highlight",!0).classed("current_names",!0).style("width","100%")}},function(t,e){"use strict";t.exports=function(t,e){var r={},n=d3.select(t.root).append("div").classed("modal",!0).classed("fade",!0).classed(e,!0).attr("role","dialog"),i=n.append("div").classed("modal-dialog",!0),o=i.append("div").classed("modal-content",!0);return r.header=o.append("div").classed("modal-header",!0),r.header.append("button").attr("type","button").classed("close",!0).attr("data-dismiss","modal").html("&times;"),r.body=o.append("div").classed("modal-body",!0),r}},function(t,e){"use strict";t.exports=function(t){var e=t.append("div").classed("opacity_slider_container",!0).style("margin-top","5px").style("padding-left","10px").style("padding-right","10px");e.append("div").classed("sidebar_text",!0).classed("opacity_slider_text",!0).style("margin-bottom","3px").text("Opacity Slider"),e.append("div").classed("slider",!0).classed("opacity_slider",!0)}},function(t,e){"use strict";t.exports=function(t){var e=t.params;d3.select(e.root+" .sidebar_wrapper").append("div").classed("sidebar_text",!0).style("padding-left","10px").style("padding-top","5px").text("Matrix Values");var r=e.sidebar.width-20,n=13,i=3*n,o=1.2*r,a=10,s=33,u=r+10,c=10,l=3,f=e.network_data,p=_.max(f.links,function(t){return t.value}).value,d=_.min(f.links,function(t){return t.value}).value,m=d3.select(e.root+" .sidebar_wrapper").append("svg").attr("height",i+"px").attr("width",o+"px"),h=m.append("defs"),v=h.append("linearGradient").attr("id","linear-gradient"),g="none";d>=0?(v.append("stop").attr("offset","0%").attr("stop-color","white"),v.append("stop").attr("offset","100%").attr("stop-color","red"),g="all_postiive"):p<=0?(v.append("stop").attr("offset","0%").attr("stop-color","blue"),v.append("stop").attr("offset","100%").attr("stop-color","white"),g="all_negative"):(v.append("stop").attr("offset","0%").attr("stop-color","blue"),v.append("stop").attr("offset","50%").attr("stop-color","white"),v.append("stop").attr("offset","100%").attr("stop-color","red")),m.append("rect").classed("background",!0).attr("height",n+"px").attr("width",r+"px").attr("fill","url(#linear-gradient)").attr("transform","translate("+c+", "+l+")").attr("stroke","grey").attr("stroke-width","0.25px");var y=Math.abs(Math.round(10*e.matrix.max_link)/10),x=13;m.append("text").text(function(){var t;return t="all_postiive"===g?0:"-"+y.toLocaleString()}).style("font-family",'"Helvetica Neue", Helvetica, Arial, sans-serif').style("font-weight",300).style("font-size",x).attr("transform","translate("+a+","+s+")").attr("text-anchor","start"),m.append("text").text(y.toLocaleString()).text(function(){var t;return t="all_negative"===g?0:y.toLocaleString()}).style("font-family",'"Helvetica Neue", Helvetica, Arial, sans-serif').style("font-weight",300).style("font-size",x).attr("transform","translate("+u+","+s+")").attr("text-anchor","end")}}]);
//# sourceMappingURL=clustergrammer.min.js.map